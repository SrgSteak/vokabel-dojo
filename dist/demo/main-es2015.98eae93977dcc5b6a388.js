(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"++zV":function(t,e,n){var r=n("I+eb"),i=n("eDxR"),l=n("glrk"),o=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{defineMetadata:function(t,e,n){var r=arguments.length<4?void 0:o(arguments[3]);s(t,e,l(n),r)}})},"+MLx":function(t,e,n){var r=n("HAuM");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"/GqU":function(t,e,n){var r=n("RK3t"),i=n("HYAF");t.exports=function(t){return r(i(t))}},"/b8u":function(t,e,n){var r=n("STAE");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol()},0:function(t,e,n){t.exports=n("zUnb")},"0BK2":function(t,e){t.exports={}},"0Dky":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"0GbY":function(t,e,n){var r=n("Qo9l"),i=n("2oRo"),l=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?l(r[t])||l(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},"0eef":function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,l=i&&!r.call({1:2},1);e.f=l?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},"0rvr":function(t,e,n){var r=n("glrk"),i=n("O741");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(l){}return function(n,l){return r(n),i(l),e?t.call(n,l):n.__proto__=l,n}}():void 0)},"1E5z":function(t,e,n){var r=n("m/L8").f,i=n("UTVS"),l=n("tiKp")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,l)&&r(t,l,{configurable:!0,value:e})}},"2oRo":function(t,e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},"33Wh":function(t,e,n){var r=n("yoRg"),i=n("eDl+");t.exports=Object.keys||function(t){return r(t,i)}},"4WOD":function(t,e,n){var r=n("UTVS"),i=n("ewvW"),l=n("93I0"),o=n("4Xet"),s=l("IE_PROTO"),u=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},"4Xet":function(t,e,n){var r=n("0Dky");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},"4syw":function(t,e,n){var r=n("busE");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},"5r1n":function(t,e,n){var r=n("I+eb"),i=n("eDxR"),l=n("glrk"),o=i.get,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(t,e){var n=arguments.length<3?void 0:s(arguments[2]);return o(t,l(e),n)}})},"6JNq":function(t,e,n){var r=n("UTVS"),i=n("Vu81"),l=n("Bs8V"),o=n("m/L8");t.exports=function(t,e){for(var n=i(e),s=o.f,u=l.f,a=0;a<n.length;a++){var c=n[a];r(t,c)||s(t,c,u(e,c))}}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,l=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),s=n("q/0M"),u=n("zVF4"),a=n("S+S0"),c=n("x7I3"),h=l.SDK_VERSION,d=new s.Logger("@firebase/firestore");function p(){return d.logLevel===s.LogLevel.DEBUG?i.DEBUG:d.logLevel===s.LogLevel.SILENT?i.SILENT:i.ERROR}function f(t){switch(t){case i.DEBUG:d.logLevel=s.LogLevel.DEBUG;break;case i.ERROR:d.logLevel=s.LogLevel.ERROR;break;case i.SILENT:d.logLevel=s.LogLevel.SILENT;break;default:d.error("Firestore ("+h+"): Invalid value passed to `setLogLevel`")}}function g(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(d.logLevel<=s.LogLevel.DEBUG){var i=n.map(v);d.debug.apply(d,o.__spreadArrays(["Firestore ("+h+") ["+t+"]: "+e],i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(d.logLevel<=s.LogLevel.ERROR){var r=e.map(v);d.error.apply(d,o.__spreadArrays(["Firestore ("+h+"): "+t],r))}}function v(t){if("string"==typeof t)return t;var e=An.t();try{return e.i(t)}catch(e){return t}}function y(t){var e="FIRESTORE ("+h+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function _(t,e){t||y(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return _(20===e.length,"Invalid auto ID: "+e),e},t}();function w(t,e){return t<e?-1:t>e?1:0}function k(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function C(t){return t+"\0"}var E=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},T="(default)",S=function(){function t(t,e){this.projectId=t,this.database=e||T}return Object.defineProperty(t.prototype,"o",{get:function(){return this.database===T},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(t){return w(this.projectId,t.projectId)||w(this.database,t.database)},t}(),I=function(){function t(t){this.uid=t}return t.prototype.l=function(){return null!=this.uid},t.prototype.v=function(){return this.l()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.m=new t("google-credentials-uid"),t.p=new t("first-party-uid"),t}(),x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error),N=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},P=function(){function t(){this._=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.I=function(){},t.prototype.T=function(t){_(!this._,"Can only call setChangeListener() once."),this._=t,t(I.UNAUTHENTICATED)},t.prototype.R=function(){_(null!==this._,"removeChangeListener() when no listener registered"),this._=null},t}(),O=function(){function t(t){var e=this;this.A=null,this.currentUser=I.UNAUTHENTICATED,this.D=!1,this.P=0,this._=null,this.forceRefresh=!1,this.A=function(){e.P++,e.currentUser=e.S(),e.D=!0,e._&&e._(e.currentUser)},this.P=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.A):(this.A(null),t.get().then((function(t){e.auth=t,e.A&&e.auth.addAuthTokenListener(e.A)}),(function(){})))}return t.prototype.getToken=function(){var t=this;_(null!=this.A,"getToken cannot be called after listener removed.");var e=this.P,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.P!==e)throw new A(x.ABORTED,"getToken aborted due to token change.");return n?(_("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new N(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.I=function(){this.forceRefresh=!0},t.prototype.T=function(t){_(!this._,"Can only call setChangeListener() once."),this._=t,this.D&&t(this.currentUser)},t.prototype.R=function(){_(null!=this.A,"removeChangeListener() called twice"),_(null!==this._,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.A),this.A=null,this._=null},t.prototype.S=function(){var t=this.auth&&this.auth.getUid();return _(null===t||"string"==typeof t,"Received invalid UID: "+t),new I(t)},t}(),D=function(){function t(t,e){this.C=t,this.k=e,this.type="FirstParty",this.user=I.p}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.C.auth.V([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),R=function(){function t(t,e){this.C=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new D(this.C,this.k))},t.prototype.T=function(t){t(I.p)},t.prototype.R=function(){},t.prototype.I=function(){},t}();function M(t){if(!t)return new P;switch(t.type){case"gapi":var e=t.N;return _(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new R(e,t.k||"0");case"provider":return t.N;default:throw new A(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F(t,e){return void 0!==t?t:e}function j(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function U(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V(t){for(var e in _(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function q(t,e){if(0!==e.length)throw new A(x.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+lt(e.length,"argument")+".")}function z(t,e,n){if(e.length!==n)throw new A(x.INVALID_ARGUMENT,"Function "+t+"() requires "+lt(n,"argument")+", but was called with "+lt(e.length,"argument")+".")}function H(t,e,n){if(e.length<n)throw new A(x.INVALID_ARGUMENT,"Function "+t+"() requires at least "+lt(n,"argument")+", but was called with "+lt(e.length,"argument")+".")}function B(t,e,n,r){if(e.length<n||e.length>r)throw new A(x.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+lt(e.length,"argument")+".")}function W(t,e,n,r){Z(t,e,it(n)+" argument",r)}function G(t,e,n,r){void 0!==r&&W(t,e,n,r)}function K(t,e,n,r){Z(t,e,n+" option",r)}function $(t,e,n,r){void 0!==r&&K(t,e,n,r)}function Q(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var l=[],o=0,s=i;o<s.length;o++){var u=s[o];if(u===r)return;l.push(X(u))}var a=X(r);throw new A(x.INVALID_ARGUMENT,"Invalid value "+a+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+l.join(", "))}(t,0,n,r,i)}function Y(t,e,n,r){if(!e.some((function(t){return t===r})))throw new A(x.INVALID_ARGUMENT,"Invalid value "+X(r)+" provided to function "+t+"() for its "+it(n)+" argument. Acceptable values: "+e.join(", "))}function Z(t,e,n,r){if(!("object"===e?J(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=X(r);throw new A(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function J(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function X(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function tt(t,e,n){if(void 0===n)throw new A(x.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+it(e)+" argument, but it was undefined.")}function et(t,e,n){U(e,(function(e,r){if(n.indexOf(e)<0)throw new A(x.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function nt(t,e,n,r){var i=X(r);return new A(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+it(n)+" argument to be a "+e+", but it was: "+i)}function rt(t,e,n){if(n<=0)throw new A(x.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+it(e)+" argument to be a positive number, but it was: "+n+".")}function it(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function lt(t,e){return t+" "+e+(1===t?"":"s")}var ot=function(){function t(t,e){if(z("GeoPoint",arguments,2),W("GeoPoint","number",1,t),W("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new A(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new A(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.O=t,this.F=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.O},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.O===t.O&&this.F===t.F},t.prototype.U=function(t){return w(this.O,t.O)||w(this.F,t.F)},t}(),st=-62135596800,ut=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new A(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new A(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<st)throw new A(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new A(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds-st).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),at=function(){function t(t){this.timestamp=t}return t.j=function(e){var n=Math.floor(e/1e6);return new t(new ut(n,e%1e6*1e3))},t.L=function(e){return new t(e)},t.B=function(){return t.MIN},t.prototype.h=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.M=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.q=function(){return this.timestamp},t.MIN=new t(new ut(0,0)),t}(),ct=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.G(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.W(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.K=function(t){return _(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.W(this.segments,this.offset+t,this.length-t)},t.prototype.H=function(){return _(!this.J(),"Can't call popLast() on empty path"),this.W(this.segments,this.offset,this.length-1)},t.prototype.Y=function(){return _(!this.J(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.X=function(){return this.get(this.length-1)},t.prototype.get=function(t){return _(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.J=function(){return 0===this.length},t.prototype.$=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.Z=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.tt=function(){return this.segments.slice(this.offset,this.limit())},t.G=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),l=e.get(r);if(i<l)return-1;if(i>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.prototype.nt=function(){return this.tt().join("/")},e.prototype.toString=function(){return this.nt()},e.it=function(t){if(t.indexOf("//")>=0)throw new A(x.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.et=new e([]),e}(ct),dt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.rt=function(t){return dt.test(t)},e.prototype.nt=function(){return this.tt().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.rt(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.nt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.st=function(){return new e(["__name__"])},e.ot=function(t){for(var n=[],r="",i=0,l=function(){if(0===r.length)throw new A(x.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new A(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(l(),i++)}if(l(),o)throw new A(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.et=new e([]),e}(ct),ft=function(){function t(e){this.path=e,_(t.ht(e),"Invalid DocumentKey with an odd number of segments: "+e.tt().join("/"))}return t.prototype.ct=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ht.G(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.G=function(t,e){return ht.G(t.path,e.path)},t.ht=function(t){return t.length%2==0},t.at=function(e){return new t(new ht(e.slice()))},t.ft=function(e){return new t(ht.it(e))},t.EMPTY=new t(new ht([])),t}(),gt=function(){function t(t,e){this.G=t,this.root=e||vt.EMPTY}return t.prototype.lt=function(e,n){return new t(this.G,this.root.lt(e,n,this.G).copy(null,null,vt.dt,null,null))},t.prototype.remove=function(e){return new t(this.G,this.root.remove(e,this.G).copy(null,null,vt.dt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.J();){var n=this.G(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.J();){var r=this.G(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.J=function(){return this.root.J()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.vt=function(){return this.root.vt()},t.prototype.wt=function(){return this.root.wt()},t.prototype.pt=function(t){return this.root.pt(t)},t.prototype.forEach=function(t){this.pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.bt=function(){return new mt(this.root,null,this.G,!1)},t.prototype.yt=function(t){return new mt(this.root,t,this.G,!1)},t.prototype._t=function(){return new mt(this.root,null,this.G,!0)},t.prototype.It=function(t){return new mt(this.root,t,this.G,!0)},t}(),mt=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.J();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.Rt=function(){_(this.Et.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.J();)this.Et.push(t),t=t.right;else for(t=t.right;!t.J();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Dt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),vt=function(){function t(e,n,r,i,l){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=l?l:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,l){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)},t.prototype.J=function(){return!1},t.prototype.pt=function(t){return this.left.pt(t)||t(this.key,this.value)||this.right.pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.J()?this:this.left.min()},t.prototype.vt=function(){return this.min().key},t.prototype.wt=function(){return this.right.J()?this.key:this.right.wt()},t.prototype.lt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.lt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.lt(t,e,n))).Pt()},t.prototype.St=function(){if(this.left.J())return t.EMPTY;var e=this;return e.left.Ct()||e.left.left.Ct()||(e=e.kt()),(e=e.copy(null,null,null,e.left.St(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.J()||i.left.Ct()||i.left.left.Ct()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Ct()&&(i=i.Vt()),i.right.J()||i.right.Ct()||i.right.left.Ct()||(i=i.Nt()),0===n(e,i.key)){if(i.right.J())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.St())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.Ct=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.Ct()&&!t.left.Ct()&&(t=t.Ot()),t.left.Ct()&&t.left.left.Ct()&&(t=t.Vt()),t.left.Ct()&&t.right.Ct()&&(t=t.Ft()),t},t.prototype.kt=function(){var t=this.Ft();return t.right.left.Ct()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).Ot()).Ft()),t},t.prototype.Nt=function(){var t=this.Ft();return t.left.left.Ct()&&(t=(t=t.Vt()).Ft()),t},t.prototype.Ot=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ft=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.xt();return Math.pow(2,t)<=this.size+1},t.prototype.xt=function(){if(this.Ct()&&this.left.Ct())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.Ct())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.xt();if(t!==this.right.xt())throw y("Black depths differ");return t+(this.Ct()?0:1)},t.EMPTY=null,t.RED=!0,t.dt=!1,t}(),yt=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.lt=function(t,e,n){return new vt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.J=function(){return!0},t.prototype.pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.vt=function(){return null},t.prototype.wt=function(){return null},t.prototype.Ct=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.xt=function(){return 0},t}();vt.EMPTY=new yt;var _t=function(){function t(t){this.G=t,this.data=new gt(this.G)}return t.jt=function(e){var n=new t(e.G);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.vt()},t.prototype.last=function(){return this.data.wt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pt((function(e,n){return t(e),!1}))},t.prototype.Lt=function(t,e){for(var n=this.data.yt(t[0]);n.At();){var r=n.Rt();if(this.G(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Bt=function(t,e){var n;for(n=void 0!==e?this.data.yt(e):this.data.bt();n.At();)if(!t(n.Rt().key))return},t.prototype.Mt=function(t){var e=this.data.yt(t);return e.At()?e.Rt().key:null},t.prototype.bt=function(){return new bt(this.data.bt())},t.prototype.yt=function(t){return new bt(this.data.yt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).lt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.J=function(){return this.data.J()},t.prototype.qt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.bt(),r=e.data.bt();n.At();){var i=n.Rt().key,l=r.Rt().key;if(0!==this.G(i,l))return!1}return!0},t.prototype.tt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.G);return n.data=e,n},t}(),bt=function(){function t(t){this.Qt=t}return t.prototype.Rt=function(){return this.Qt.Rt().key},t.prototype.At=function(){return this.Qt.At()},t}(),wt=function(){function t(){}return t.prototype.Gt=function(t,e){return new Jt(e,t)},t.prototype.Wt=function(t,e){return e},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),kt=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Tt(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new ie(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&k(e.elements,this.elements)},t}(),Ct=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Tt(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new ie(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&k(e.elements,this.elements)},t}(),Et=function(){function t(t){this.Kt=t}return t.prototype.Gt=function(t,e){var n=this.zt(t);if(n instanceof $t&&this.Kt instanceof $t){var r=n.Ht+this.Kt.Ht;return new $t(r)}return new Qt(r=n.Ht+this.Kt.Ht)},t.prototype.Wt=function(t,e){return _(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.zt=function(t){return t instanceof Gt?t:new $t(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.Kt.isEqual(e.Kt)},t}();function Tt(t){return t instanceof ie?t.Ht.slice():[]}var St,It,xt=function(){function t(t){this.fields=t}return t.Jt=function(e){return new t(e)},t.Yt=function(e){var n=new _t(pt.G);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.Xt=function(t){var e=!1;return this.fields.forEach((function(n){n.$(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),At=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Nt=function(t,e){this.version=t,this.transformResults=e};(It=St||(St={}))[It.Set=0]="Set",It[It.$t=1]="__PRIVATE_Patch",It[It.Transform=2]="Transform",It[It.Zt=3]="__PRIVATE_Delete",It[It.Verify=4]="Verify";var Pt,Ot,Dt,Rt,Mt=function(){function t(t,e){this.updateTime=t,this.exists=e,_(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"tn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.nn=function(t){return void 0!==this.updateTime?t instanceof oe&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof oe:(_(this.tn,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Lt=function(){function t(){}return t.prototype.in=function(t){null!=t&&_(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.en=function(t){return t instanceof oe?t.version:at.MIN},t}(),Ft=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.rn=r,i.type=St.Set,i}return o.__extends(e,t),e.prototype.Wt=function(t,e){return this.in(t),_(null==e.transformResults,"Transform results received by SetMutation."),new oe(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.Gt=function(t,e,n){if(this.in(t),!this.rn.nn(t))return t;var r=Lt.en(t);return new oe(this.key,r,{un:!0},this.value)},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.rn.isEqual(t.rn)},e}(Lt),jt=function(t){function e(e,n,r,i){var l=t.call(this)||this;return l.key=e,l.data=n,l.on=r,l.rn=i,l.type=St.$t,l}return o.__extends(e,t),e.prototype.Wt=function(t,e){if(this.in(t),_(null==e.transformResults,"Transform results received by PatchMutation."),!this.rn.nn(t))return new ue(this.key,e.version);var n=this.hn(t);return new oe(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.Gt=function(t,e,n){if(this.in(t),!this.rn.nn(t))return t;var r=Lt.en(t),i=this.hn(t);return new oe(this.key,r,{un:!0},i)},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.on.isEqual(t.on)&&this.rn.isEqual(t.rn)},e.prototype.hn=function(t){var e;return e=t instanceof oe?t.data():ne.EMPTY,this.cn(e)},e.prototype.cn=function(t){var e=this,n=t.an();return this.on.fields.forEach((function(t){if(!t.J()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.fn()},e}(Lt),Ut=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=St.Transform,r.rn=Mt.exists(!0),r}return o.__extends(e,t),e.prototype.Wt=function(t,e){if(this.in(t),_(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.rn.nn(t))return new ue(this.key,e.version);var n=this.ln(t),r=this.dn(t,e.transformResults),i=e.version,l=this.vn(n.data(),r);return new oe(this.key,i,{hasCommittedMutations:!0},l)},e.prototype.Gt=function(t,e,n){if(this.in(t),!this.rn.nn(t))return t;var r=this.ln(t),i=this.wn(n,t,e),l=this.vn(r.data(),i);return new oe(this.key,r.version,{un:!0},l)},e.prototype.sn=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],l=t instanceof oe?t.field(i.field):void 0,o=i.transform.zt(l||null);null!=o&&(e=null==e?ne.mn().set(i.field,o):e.set(i.field,o))}return e?e.fn():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&k(this.fieldTransforms,t.fieldTransforms)&&this.rn.isEqual(t.rn)},e.prototype.ln=function(t){return _(t instanceof oe,"Unknown MaybeDocument type "+t),_(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.dn=function(t,e){var n=[];_(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],l=i.transform,o=null;t instanceof oe&&(o=t.field(i.field)),n.push(l.Wt(o,e[r]))}return n},e.prototype.wn=function(t,e,n){for(var r=[],i=0,l=this.fieldTransforms;i<l.length;i++){var o=l[i],s=o.transform,u=null;e instanceof oe&&(u=e.field(o.field)),null===u&&n instanceof oe&&(u=n.field(o.field)),r.push(s.Gt(u,t))}return r},e.prototype.vn=function(t,e){_(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=t.an(),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.fn()},e}(Lt),Vt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.rn=n,r.type=St.Zt,r}return o.__extends(e,t),e.prototype.Wt=function(t,e){return this.in(t),_(null==e.transformResults,"Transform results received by DeleteMutation."),new se(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Gt=function(t,e,n){return this.in(t),this.rn.nn(t)?(t&&_(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new se(this.key,at.B())):t},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.rn.isEqual(t.rn)},e}(Lt),qt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.rn=n,r.type=St.Verify,r}return o.__extends(e,t),e.prototype.Wt=function(t,e){y("VerifyMutation should only be used in Transactions.")},e.prototype.Gt=function(t,e,n){y("VerifyMutation should only be used in Transactions.")},e.prototype.sn=function(t){y("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.rn.isEqual(t.rn)},e}(Lt);(Ot=Pt||(Pt={}))[Ot.pn=0]="__PRIVATE_NullValue",Ot[Ot.gn=1]="__PRIVATE_BooleanValue",Ot[Ot.bn=2]="__PRIVATE_NumberValue",Ot[Ot.yn=3]="__PRIVATE_TimestampValue",Ot[Ot._n=4]="__PRIVATE_StringValue",Ot[Ot.In=5]="__PRIVATE_BlobValue",Ot[Ot.Tn=6]="__PRIVATE_RefValue",Ot[Ot.En=7]="__PRIVATE_GeoPointValue",Ot[Ot.ArrayValue=8]="ArrayValue",Ot[Ot.Rn=9]="__PRIVATE_ObjectValue",(Rt=Dt||(Dt={}))[Rt.An=0]="__PRIVATE_Default",Rt[Rt.Dn=1]="__PRIVATE_Estimate",Rt[Rt.Pn=2]="__PRIVATE_Previous";var zt=function(){function t(t,e){this.Sn=t,this.timestampsInSnapshots=e}return t.Cn=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Dt.Dn,n);case"previous":return new t(Dt.Pn,n);case"none":case void 0:return new t(Dt.An,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),Ht=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.kn=function(t){return _(this.Vn!==t.Vn,"Default compareTo should not be used for values of same type."),w(this.Vn,t.Vn)},t}(),Bt=function(t){function e(){var e=t.call(this)||this;return e.Vn=Pt.pn,e.Ht=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.h=function(t){return t instanceof e?0:this.kn(t)},e.prototype.Nn=function(){return 4},e.On=new e,e}(Ht),Wt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Pt.gn,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?w(this.Ht,t.Ht):this.kn(t)},e.prototype.Nn=function(){return 4},e.of=function(t){return t?e.Fn:e.Un},e.Fn=new e(!0),e.Un=new e(!1),e}(Ht),Gt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Pt.bn,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.h=function(t){return t instanceof e?(n=this.Ht)<(r=t.Ht)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.kn(t);var n,r},e.prototype.Nn=function(){return 8},e}(Ht);function Kt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var $t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Kt(this.Ht,t.Ht)},e}(Gt),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Kt(this.Ht,t.Ht)},e.xn=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Gt),Yt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Pt._n,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?w(this.Ht,t.Ht):this.kn(t)},e.prototype.Nn=function(){return 2*this.Ht.length},e}(Ht),Zt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Pt.yn,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.Ht:this.Ht.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):t instanceof Jt?-1:this.kn(t)},e.prototype.Nn=function(){return 16},e}(Ht),Jt=function(t){function e(e,n){var r=t.call(this)||this;return r.jn=e,r.previousValue=n,r.Vn=Pt.yn,r}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.Sn===Dt.Dn?new Zt(this.jn).value(t):t&&t.Sn===Dt.Pn&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.jn.isEqual(t.jn)},e.prototype.h=function(t){return t instanceof e?this.jn.U(t.jn):t instanceof Zt?1:this.kn(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.jn.toString()+">"},e.prototype.Nn=function(){return 16+(this.previousValue?this.previousValue.Nn():0)},e}(Ht),Xt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Pt.In,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.kn(t)},e.prototype.Nn=function(){return this.Ht.Ln()},e}(Ht),te=function(t){function e(e,n){var r=t.call(this)||this;return r.s=e,r.key=n,r.Vn=Pt.Tn,r}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.s.isEqual(t.s)},e.prototype.h=function(t){if(t instanceof e){var n=this.s.h(t.s);return 0!==n?n:ft.G(this.key,t.key)}return this.kn(t)},e.prototype.Nn=function(){return this.s.projectId.length+this.s.database.length+this.key.toString().length},e}(Ht),ee=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Pt.En,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.kn(t)},e.prototype.Nn=function(){return 16},e}(Ht),ne=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Pt.Rn,n}return o.__extends(e,t),e.mn=function(){return new re(e.EMPTY.Ht)},e.prototype.value=function(t){var e={};return this.Ht.pt((function(n,r){e[n]=r.value(t)})),e},e.prototype.forEach=function(t){this.Ht.pt(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.At()&&r.At();){var i=n.Rt(),l=r.Rt();if(i.key!==l.key||!i.value.isEqual(l.value))return!1}return!n.At()&&!r.At()}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.At()&&r.At();){var i=n.Rt(),l=r.Rt(),o=w(i.key,l.key)||i.value.h(l.value);if(o)return o}return w(n.At(),r.At())}return this.kn(t)},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){_(!t.J(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e?n.Ht.get(t):null})),n},e.prototype.on=function(){var t=new _t(pt.G);return this.Ht.forEach((function(n,r){var i=new pt([n]);if(r instanceof e){var l=r.on().fields;l.J()?t=t.add(i):l.forEach((function(e){t=t.add(i.child(e))}))}else t=t.add(i)})),xt.Jt(t)},e.prototype.Nn=function(){var t=0;return this.Ht.pt((function(e,n){t+=e.length+n.Nn()})),t},e.prototype.toString=function(){return this.Ht.toString()},e.prototype.an=function(){return new re(this.Ht)},e.EMPTY=new e(new gt(w)),e}(Ht),re=function(){function t(t){this.Ht=t}return t.prototype.set=function(t,e){_(!t.J(),"Cannot set field for empty path on ObjectValue");var n=t.Y();if(1===t.length)this.Ht=this.Ht.lt(n,e);else{var r=this.Ht.get(n),i=(r instanceof ne?r:ne.EMPTY).an().set(t.K(),e).fn();this.Ht=this.Ht.lt(n,i)}return this},t.prototype.delete=function(t){_(!t.J(),"Cannot delete field for empty path on ObjectValue");var e=t.Y();if(1===t.length)this.Ht=this.Ht.remove(e);else{var n=this.Ht.get(e);if(n instanceof ne){var r=n.an().delete(t.K()).fn();this.Ht=this.Ht.lt(t.Y(),r)}}return this},t.prototype.fn=function(){return new ne(this.Ht)},t}(),ie=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Pt.ArrayValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.Ht;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.Ht.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.Ht.length!==t.Ht.length)return!1;for(var n=0;n<this.Ht.length;n++)if(!this.Ht[n].isEqual(t.Ht[n]))return!1;return!0}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=Math.min(this.Ht.length,t.Ht.length),r=0;r<n;r++){var i=this.Ht[r].h(t.Ht[r]);if(i)return i}return w(this.Ht.length,t.Ht.length)}return this.kn(t)},e.prototype.Nn=function(){return this.Ht.reduce((function(t,e){return t+e.Nn()}),0)},e.prototype.toString=function(){return"["+this.Ht.map((function(t){return t.toString()})).join(",")+"]"},e}(Ht),le=function(){function t(t,e){this.key=t,this.version=e}return t.Bn=function(t,e){return ft.G(t.key,e.key)},t}(),oe=function(t){function e(e,n,r,i,l,o){var s=t.call(this,e,n)||this;return s.Mn=i,s.proto=l,s.converter=o,_(void 0!==s.Mn||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.un=!!r.un,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return o.__extends(e,t),e.prototype.field=function(t){if(this.Mn)return this.Mn.field(t);this.qn||(this.qn=new Map);var e=t.nt(),n=this.qn.get(e);if(void 0===n){var r=this.Qn(t);n=void 0===r?null:this.converter(r),this.qn.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.Mn){var e=ne.mn();U(this.proto.fields||{},(function(n,r){e.set(new pt([n]),t.converter(r))})),this.Mn=e.fn(),this.qn=void 0}return this.Mn},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.un===t.un&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.un+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.un||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.Qn=function(t){_(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.Y()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.Gn=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.h(i):y("Trying to compare documents on fields that don't exist")},e}(le),se=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(le),ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(le),ae=Number,ce=ae.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),he=ae.MAX_SAFE_INTEGER||Math.pow(2,53)-1,de=ae.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function pe(t){return null==t}function fe(t){return de(t)&&t<=he&&t>=ce}var ge,me,ve=function(){function t(t,e,n,r,i,l,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===l&&(l=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=l,this.endAt=o,this.Wn=null}return t.prototype.canonicalId=function(){if(null===this.Wn){var t=this.path.nt();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";pe(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Wn=t}return this.Wn},t.prototype.toString=function(){var t=this.path.nt();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),pe(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.zn=function(){return ft.ht(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}();(me=ge||(ge={})).Kn="F",me.Hn="L";var ye,_e,be=function(){function t(t,e,n,r,i,l,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===l&&(l=ge.Kn),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Jn=n,this.filters=r,this.limit=i,this.Yn=l,this.startAt=o,this.endAt=s,this.Xn=null,this.$n=null,this.startAt&&this.Zn(this.startAt),this.endAt&&this.Zn(this.endAt)}return t.ti=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Xn){var t=this.ni(),e=this.ii();if(null!==t&&null===e)this.Xn=t.ut()?[Pe]:[new Ne(t),Pe];else{_(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Xn=[];for(var n=!1,r=0,i=this.Jn;r<i.length;r++){var l=i[r];this.Xn.push(l),l.field.ut()&&(n=!0)}n||this.Xn.push((this.Jn.length>0?this.Jn[this.Jn.length-1].dir:xe.ASCENDING)===xe.ASCENDING?Pe:Oe)}}return this.Xn},enumerable:!0,configurable:!0}),t.prototype.ei=function(e){_(null==this.ni()||!(e instanceof ke)||!e.ri()||e.field.isEqual(this.ni()),"Query must only have one inequality field."),_(!this.zn(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Jn.slice(),n,this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.ui=function(e){_(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.Jn.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.si=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),e,ge.Kn,this.startAt,this.endAt)},t.prototype.oi=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),e,ge.Hn,this.startAt,this.endAt)},t.prototype.hi=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,e,this.endAt)},t.prototype.ci=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,this.startAt,e)},t.prototype.ai=function(e){return new t(e,null,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.fi=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Jn.length||1===this.Jn.length&&this.Jn[0].field.ut())},t.prototype.canonicalId=function(){return this.li().canonicalId()+"|lt:"+this.Yn},t.prototype.toString=function(){return"Query(target="+this.li().toString()+"; limitType="+this.Yn+")"},t.prototype.isEqual=function(t){return this.li().isEqual(t.li())&&this.Yn===t.Yn},t.prototype.di=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var l=i[r],o=l.compare(t,e);if(0!==o)return o;n=n||l.field.ut()}return _(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.vi(t)&&this.wi(t)&&this.mi(t)&&this.pi(t)},t.prototype.gi=function(){return!pe(this.limit)&&this.Yn===ge.Kn},t.prototype.bi=function(){return!pe(this.limit)&&this.Yn===ge.Hn},t.prototype.ii=function(){return this.Jn.length>0?this.Jn[0].field:null},t.prototype.ni=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof ke&&n.ri())return n.field}return null},t.prototype.yi=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof ke&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.zn=function(){return this.li().zn()},t.prototype._i=function(){return null!==this.collectionGroup},t.prototype.li=function(){if(!this.$n)if(this.Yn===ge.Kn)this.$n=new ve(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new Ne(r.field,r.dir===xe.DESCENDING?xe.ASCENDING:xe.DESCENDING))}var i=this.endAt?new Ae(this.endAt.position,!this.endAt.before):null,l=this.startAt?new Ae(this.startAt.position,!this.startAt.before):null;this.$n=new ve(this.path,this.collectionGroup,t,this.filters,this.limit,i,l)}return this.$n},t.prototype.vi=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.ct(this.collectionGroup)&&this.path.$(e):ft.ht(this.path)?this.path.isEqual(e):this.path.Z(e)},t.prototype.wi=function(t){for(var e=0,n=this.Jn;e<n.length;e++){var r=n[e];if(!r.field.ut()&&null===t.field(r.field))return!1}return!0},t.prototype.mi=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.pi=function(t){return!(this.startAt&&!this.startAt.Ii(this.orderBy,t)||this.endAt&&this.endAt.Ii(this.orderBy,t))},t.prototype.Zn=function(t){_(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),we=function(){function t(t){this.name=t}return t.it=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),ke=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.ut())return n===we.IN?(_(r instanceof ie,"Comparing on key with IN, but filter value not an ArrayValue"),_(r.Ht.every((function(t){return t instanceof te})),"Comparing on key with IN, but an array value was not a RefValue"),new Ee(t,r)):(_(r instanceof te,"Comparing on key, but filter value not a RefValue"),_(n!==we.ARRAY_CONTAINS&&n!==we.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Ce(t,n,r));if(r.isEqual(Bt.On)){if(n!==we.EQUAL)throw new A(x.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(Qt.xn)){if(n!==we.EQUAL)throw new A(x.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===we.ARRAY_CONTAINS?new Te(t,r):n===we.IN?(_(r instanceof ie,"IN filter has invalid value: "+r.toString()),new Se(t,r)):n===we.ARRAY_CONTAINS_ANY?(_(r instanceof ie,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Ie(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.Vn===e.Vn&&this.Ti(e.h(this.value))},e.prototype.Ti=function(t){switch(this.op){case we.LESS_THAN:return t<0;case we.LESS_THAN_OR_EQUAL:return t<=0;case we.EQUAL:return 0===t;case we.GREATER_THAN:return t>0;case we.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},e.prototype.ri=function(){return[we.LESS_THAN,we.LESS_THAN_OR_EQUAL,we.GREATER_THAN,we.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.nt()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.nt()+" "+this.op+" "+this.value.value()},e}((function(){})),Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=ft.G(t.key,this.value.key);return this.Ti(e)},e}(ke),Ee=function(t){function e(e,n){var r=t.call(this,e,we.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){return this.value.Ht.some((function(e){return t.key.isEqual(e.key)}))},e}(ke),Te=function(t){function e(e,n){return t.call(this,e,we.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof ie&&e.contains(this.value)},e}(ke),Se=function(t){function e(e,n){var r=t.call(this,e,we.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(ke),Ie=function(t){function e(e,n){var r=t.call(this,e,we.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof ie&&n.Ht.some((function(t){return e.value.contains(t)}))},e}(ke),xe=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Ae=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.Ii=function(t,e){_(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],l=this.position[r];if(i.field.ut())_(l instanceof te,"Bound has a non-key value where the key path is being used."),n=ft.G(l.key,e.key);else{var o=e.field(i.field);_(null!==o,"Field should exist since document matched the orderBy already."),n=l.h(o)}if(i.dir===xe.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),Ne=function(){function t(t,e){this.field=t,void 0===e&&(e=xe.ASCENDING),this.dir=e,this.Ei=t.ut()}return t.prototype.compare=function(t,e){var n=this.Ei?oe.Bn(t,e):oe.Gn(this.field,t,e);switch(this.dir){case xe.ASCENDING:return n;case xe.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.nt()+this.dir.toString()},t.prototype.toString=function(){return this.field.nt()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Pe=new Ne(pt.st(),xe.ASCENDING),Oe=new Ne(pt.st(),xe.DESCENDING);(_e=ye||(ye={}))[_e.Ri=0]="__PRIVATE_RemoteStore",_e[_e.Ai=1]="__PRIVATE_SharedClientState";var De,Re,Me=function(){function t(t){this.Di=t}return t.fromBase64String=function(e){return new t(An.t().atob(e))},t.fromUint8Array=function(e){return new t(Le(e))},t.prototype.toBase64=function(){return An.t().btoa(this.Di)},t.prototype.toUint8Array=function(){return Fe(this.Di)},t.prototype.Nn=function(){return 2*this.Di.length},t.prototype.isEqual=function(t){return this.Di===t.Di},t.Pi=new t(""),t}();function Le(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}function Fe(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(Re=De||(De={}))[Re.Si=0]="__PRIVATE_Listen",Re[Re.Ci=1]="__PRIVATE_ExistenceFilterMismatch",Re[Re.ki=2]="__PRIVATE_LimboResolution";var je,Ue,Ve=function(){function t(t,e,n,r,i,l,o){void 0===i&&(i=at.MIN),void 0===l&&(l=at.MIN),void 0===o&&(o=Me.Pi),this.target=t,this.targetId=e,this.Vi=n,this.sequenceNumber=r,this.Ni=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=o}return t.prototype.Oi=function(e){return new t(this.target,this.targetId,this.Vi,e,this.Ni,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Fi=function(e,n){return new t(this.target,this.targetId,this.Vi,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Ui=function(e){return new t(this.target,this.targetId,this.Vi,this.sequenceNumber,this.Ni,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.Vi===t.Vi&&this.sequenceNumber===t.sequenceNumber&&this.Ni.isEqual(t.Ni)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),qe=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function ze(t){switch(t){case x.OK:return y("Treated status OK as error");case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function He(t){if(void 0===t)return m("GRPC error has no .code"),x.UNKNOWN;switch(t){case je.OK:return x.OK;case je.CANCELLED:return x.CANCELLED;case je.UNKNOWN:return x.UNKNOWN;case je.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case je.INTERNAL:return x.INTERNAL;case je.UNAVAILABLE:return x.UNAVAILABLE;case je.UNAUTHENTICATED:return x.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case je.NOT_FOUND:return x.NOT_FOUND;case je.ALREADY_EXISTS:return x.ALREADY_EXISTS;case je.PERMISSION_DENIED:return x.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case je.ABORTED:return x.ABORTED;case je.OUT_OF_RANGE:return x.OUT_OF_RANGE;case je.UNIMPLEMENTED:return x.UNIMPLEMENTED;case je.DATA_LOSS:return x.DATA_LOSS;default:return y("Unknown status code: "+t)}}function Be(t){if(void 0===t)return je.OK;switch(t){case x.OK:return je.OK;case x.CANCELLED:return je.CANCELLED;case x.UNKNOWN:return je.UNKNOWN;case x.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case x.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case x.INTERNAL:return je.INTERNAL;case x.UNAVAILABLE:return je.UNAVAILABLE;case x.UNAUTHENTICATED:return je.UNAUTHENTICATED;case x.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case x.NOT_FOUND:return je.NOT_FOUND;case x.ALREADY_EXISTS:return je.ALREADY_EXISTS;case x.PERMISSION_DENIED:return je.PERMISSION_DENIED;case x.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case x.ABORTED:return je.ABORTED;case x.OUT_OF_RANGE:return je.OUT_OF_RANGE;case x.UNIMPLEMENTED:return je.UNIMPLEMENTED;case x.DATA_LOSS:return je.DATA_LOSS;default:return y("Unknown status code: "+t)}}(Ue=je||(je={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";var We=new gt(ft.G);function Ge(){return We}function Ke(){return Ge()}var $e=new gt(ft.G);function Qe(){return $e}var Ye=new gt(ft.G);function Ze(){return Ye}var Je=new _t(ft.G);function Xe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Je,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var tn=new _t(w);function en(){return tn}var nn,rn,ln,on,sn=function(){function t(t){this.G=t?function(e,n){return t(e,n)||ft.G(e.key,n.key)}:function(t,e){return ft.G(t.key,e.key)},this.xi=Qe(),this.ji=new gt(this.G)}return t.Li=function(e){return new t(e.G)},t.prototype.has=function(t){return null!=this.xi.get(t)},t.prototype.get=function(t){return this.xi.get(t)},t.prototype.first=function(){return this.ji.vt()},t.prototype.last=function(){return this.ji.wt()},t.prototype.J=function(){return this.ji.J()},t.prototype.indexOf=function(t){var e=this.xi.get(t);return e?this.ji.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.ji.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.ji.pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.xi.lt(t.key,t),e.ji.lt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.xi.remove(t),this.ji.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.ji.bt(),r=e.ji.bt();n.At();){var i=n.Rt().key,l=r.Rt().key;if(!i.isEqual(l))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.G=this.G,r.xi=e,r.ji=n,r},t}();(rn=nn||(nn={}))[rn.Bi=0]="__PRIVATE_Added",rn[rn.Mi=1]="__PRIVATE_Removed",rn[rn.qi=2]="__PRIVATE_Modified",rn[rn.Qi=3]="__PRIVATE_Metadata",(on=ln||(ln={}))[on.Gi=0]="__PRIVATE_Local",on[on.Wi=1]="__PRIVATE_Synced";var un,an,cn=function(){function t(){this.zi=new gt(ft.G)}return t.prototype.track=function(t){var e=t.doc.key,n=this.zi.get(e);n?t.type!==nn.Bi&&n.type===nn.Qi?this.zi=this.zi.lt(e,t):t.type===nn.Qi&&n.type!==nn.Mi?this.zi=this.zi.lt(e,{type:n.type,doc:t.doc}):t.type===nn.qi&&n.type===nn.qi?this.zi=this.zi.lt(e,{type:nn.qi,doc:t.doc}):t.type===nn.qi&&n.type===nn.Bi?this.zi=this.zi.lt(e,{type:nn.Bi,doc:t.doc}):t.type===nn.Mi&&n.type===nn.Bi?this.zi=this.zi.remove(e):t.type===nn.Mi&&n.type===nn.qi?this.zi=this.zi.lt(e,{type:nn.Mi,doc:n.doc}):t.type===nn.Bi&&n.type===nn.Mi?this.zi=this.zi.lt(e,{type:nn.qi,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.zi=this.zi.lt(e,t)},t.prototype.Ki=function(){var t=[];return this.zi.pt((function(e,n){t.push(n)})),t},t}(),hn=function(){function t(t,e,n,r,i,l,o,s){this.query=t,this.docs=e,this.Hi=n,this.docChanges=r,this.Ji=i,this.fromCache=l,this.Yi=o,this.Xi=s}return t.$i=function(e,n,r,i){var l=[];return n.forEach((function(t){l.push({type:nn.Bi,doc:t})})),new t(e,n,sn.Li(n),l,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ji.J()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Yi===t.Yi&&this.Ji.isEqual(t.Ji)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.Hi.isEqual(t.Hi)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),dn=function(){function t(t,e,n,r,i){this.Ni=t,this.Zi=e,this.te=n,this.ne=r,this.ie=i}return t.ee=function(e,n){var r,i=((r={})[e]=pn.re(e,n),r);return new t(at.MIN,i,en(),Ge(),Xe())},t}(),pn=function(){function t(t,e,n,r,i){this.resumeToken=t,this.ue=e,this.se=n,this.oe=r,this.he=i}return t.re=function(e,n){return new t(Me.Pi,n,Xe(),Xe(),Xe())},t}(),fn=function(t,e,n,r){this.ce=t,this.removedTargetIds=e,this.key=n,this.ae=r},gn=function(t,e){this.targetId=t,this.fe=e};(an=un||(un={}))[an.le=0]="__PRIVATE_NoChange",an[an.Bi=1]="__PRIVATE_Added",an[an.Mi=2]="__PRIVATE_Removed",an[an.de=3]="__PRIVATE_Current",an[an.ve=4]="__PRIVATE_Reset";var mn=function(t,e,n,r){void 0===n&&(n=Me.Pi),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},vn=function(){function t(){this.we=0,this.me=bn(),this.pe=Me.Pi,this.ge=!1,this.be=!0}return Object.defineProperty(t.prototype,"ue",{get:function(){return this.ge},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.pe},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return 0!==this.we},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.be},enumerable:!0,configurable:!0}),t.prototype.Ie=function(t){t.Nn()>0&&(this.be=!0,this.pe=t)},t.prototype.Te=function(){var t=Xe(),e=Xe(),n=Xe();return this.me.forEach((function(r,i){switch(i){case nn.Bi:t=t.add(r);break;case nn.qi:e=e.add(r);break;case nn.Mi:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}})),new pn(this.pe,this.ge,t,e,n)},t.prototype.Ee=function(){this.be=!1,this.me=bn()},t.prototype.Re=function(t,e){this.be=!0,this.me=this.me.lt(t,e)},t.prototype.Ae=function(t){this.be=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.we+=1},t.prototype.Pe=function(){this.we-=1},t.prototype.Se=function(){this.be=!0,this.ge=!0},t}(),yn=function(){function t(t){this.Ce=t,this.ke={},this.Ve=Ge(),this.Ne=_n(),this.Oe=new _t(w)}return t.prototype.Fe=function(t){for(var e=0,n=t.ce;e<n.length;e++){var r=n[e];t.ae instanceof oe?this.Ue(r,t.ae):t.ae instanceof se&&this.xe(r,t.key,t.ae)}for(var i=0,l=t.removedTargetIds;i<l.length;i++)this.xe(r=l[i],t.key,t.ae)},t.prototype.je=function(t){var e=this;this.Le(t,(function(n){var r=e.Be(n);switch(t.state){case un.le:e.Me(n)&&r.Ie(t.resumeToken);break;case un.Bi:r.Pe(),r.ye||r.Ee(),r.Ie(t.resumeToken);break;case un.Mi:r.Pe(),r.ye||e.removeTarget(n),_(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case un.de:e.Me(n)&&(r.Se(),r.Ie(t.resumeToken));break;case un.ve:e.Me(n)&&(e.qe(n),r.Ie(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}}))},t.prototype.Le=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):j(this.ke,e)},t.prototype.Qe=function(t){var e=t.targetId,n=t.fe.count,r=this.Ge(e);if(r){var i=r.target;if(i.zn())if(0===n){var l=new ft(i.path);this.xe(e,l,new se(l,at.B()))}else _(1===n,"Single document existence filter with count: "+n);else this.We(e)!==n&&(this.qe(e),this.Oe=this.Oe.add(e))}},t.prototype.ze=function(t){var e=this,n={};j(this.ke,(function(r,i){var l=e.Ge(r);if(l){if(i.ue&&l.target.zn()){var o=new ft(l.target.path);null!==e.Ve.get(o)||e.Ke(r,o)||e.xe(r,o,new se(o,t))}i._e&&(n[r]=i.Te(),i.Ee())}}));var r=Xe();this.Ne.forEach((function(t,n){var i=!0;n.Bt((function(t){var n=e.Ge(t);return!n||n.Vi===De.ki||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new dn(t,n,this.Oe,this.Ve,r);return this.Ve=Ge(),this.Ne=_n(),this.Oe=new _t(w),i},t.prototype.Ue=function(t,e){if(this.Me(t)){var n=this.Ke(t,e.key)?nn.qi:nn.Bi;this.Be(t).Re(e.key,n),this.Ve=this.Ve.lt(e.key,e),this.Ne=this.Ne.lt(e.key,this.He(e.key).add(t))}},t.prototype.xe=function(t,e,n){if(this.Me(t)){var r=this.Be(t);this.Ke(t,e)?r.Re(e,nn.Mi):r.Ae(e),this.Ne=this.Ne.lt(e,this.He(e).delete(t)),n&&(this.Ve=this.Ve.lt(e,n))}},t.prototype.removeTarget=function(t){delete this.ke[t]},t.prototype.We=function(t){var e=this.Be(t).Te();return this.Ce.Je(t).size+e.se.size-e.he.size},t.prototype.De=function(t){this.Be(t).De()},t.prototype.Be=function(t){return this.ke[t]||(this.ke[t]=new vn),this.ke[t]},t.prototype.He=function(t){var e=this.Ne.get(t);return e||(e=new _t(w),this.Ne=this.Ne.lt(t,e)),e},t.prototype.Me=function(t){var e=null!==this.Ge(t);return e||g("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.ke[t];return e&&e.ye?null:this.Ce.Ye(t)},t.prototype.qe=function(t){var e=this;_(!this.ke[t].ye,"Should only reset active targets"),this.ke[t]=new vn,this.Ce.Je(t).forEach((function(n){e.xe(t,n,null)}))},t.prototype.Ke=function(t,e){return this.Ce.Je(t).has(e)},t}();function _n(){return new gt(ft.G)}function bn(){return new gt(ft.G)}var wn,kn,Cn=((wn={})[xe.ASCENDING.name]="ASCENDING",wn[xe.DESCENDING.name]="DESCENDING",wn),En=((kn={})[we.LESS_THAN.name]="LESS_THAN",kn[we.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",kn[we.GREATER_THAN.name]="GREATER_THAN",kn[we.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",kn[we.EQUAL.name]="EQUAL",kn[we.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",kn[we.IN.name]="IN",kn[we.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",kn),Tn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sn(t,e){_(!pe(t),e+" is missing")}function In(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var xn=function(){function t(t,e){this.s=t,this.options=e}return t.prototype.Xe=function(t){var e=void 0===t.code?x.UNKNOWN:He(t.code);return new A(e,t.message||"")},t.prototype.$e=function(t){return this.options.Ze||pe(t)?t:{value:t}},t.prototype.tr=function(t){var e;return pe(e="object"==typeof t?t.value:t)?null:e},t.prototype.q=function(t){return this.options.Ze?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.L=function(t){if("string"==typeof t)return this.nr(t);_(!!t,"Cannot deserialize null or undefined timestamp.");var e=In(t.seconds||"0");return new ut(e,t.nanos||0)},t.prototype.nr=function(t){var e=0,n=Tn.exec(t);if(_(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),l=Math.floor(i.getTime()/1e3);return new ut(l,e)},t.prototype.ir=function(t){return this.options.Ze?t.toBase64():t.toUint8Array()},t.prototype.er=function(t){return this.options.Ze?(_(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),Me.fromBase64String(t||"")):(_(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),Me.fromUint8Array(t||new Uint8Array))},t.prototype.rr=function(t){return"string"==typeof t?(_(this.options.Ze,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Mn.fromBase64String(t)):(_(!this.options.Ze,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Mn.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.q(t.q())},t.prototype.fromVersion=function(t){return _(!!t,"Trying to deserialize version that isn't set"),at.L(this.L(t))},t.prototype.ur=function(t,e){return this.sr(t).child("documents").child(e).nt()},t.prototype.or=function(t){var e=ht.it(t);return _(this.hr(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.cr=function(t){return this.ur(this.s,t.path)},t.prototype.ar=function(t){var e=this.or(t);return _(e.get(1)===this.s.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.s.projectId),_(!e.get(3)&&!this.s.database||e.get(3)===this.s.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.s.database),new ft(this.lr(e))},t.prototype.dr=function(t){return this.ur(this.s,t)},t.prototype.vr=function(t){var e=this.or(t);return 4===e.length?ht.et:this.lr(e)},Object.defineProperty(t.prototype,"wr",{get:function(){return new ht(["projects",this.s.projectId,"databases",this.s.database]).nt()},enumerable:!0,configurable:!0}),t.prototype.sr=function(t){return new ht(["projects",t.projectId,"databases",t.database])},t.prototype.lr=function(t){return _(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.K(5)},t.prototype.hr=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.mr=function(t){if(t instanceof Bt)return{nullValue:"NULL_VALUE"};if(t instanceof Wt)return{booleanValue:t.value()};if(t instanceof $t)return{integerValue:""+t.value()};if(t instanceof Qt){var e=t.value();if(this.options.Ze){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Yt?{stringValue:t.value()}:t instanceof ne?{mapValue:this.pr(t)}:t instanceof ie?{arrayValue:this.gr(t)}:t instanceof Zt?{timestampValue:this.q(t.Ht)}:t instanceof ee?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Xt?{bytesValue:this.ir(t.value())}:t instanceof te?{referenceValue:this.ur(t.s,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.br=function(t){var e=this;if("nullValue"in t)return Bt.On;if("booleanValue"in t)return Wt.of(t.booleanValue);if("integerValue"in t)return new $t(In(t.integerValue));if("doubleValue"in t){if(this.options.Ze){if("NaN"===t.doubleValue)return Qt.xn;if("Infinity"===t.doubleValue)return Qt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Qt.NEGATIVE_INFINITY}return new Qt(t.doubleValue)}if("stringValue"in t)return new Yt(t.stringValue);if("mapValue"in t)return this.yr(t.mapValue.fields||{});if("arrayValue"in t)return Sn(t.arrayValue,"arrayValue"),new ie((t.arrayValue.values||[]).map((function(t){return e.br(t)})));if("timestampValue"in t)return Sn(t.timestampValue,"timestampValue"),new Zt(this.L(t.timestampValue));if("geoPointValue"in t)return Sn(t.geoPointValue,"geoPointValue"),new ee(new ot(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){Sn(t.bytesValue,"bytesValue");var n=this.rr(t.bytesValue);return new Xt(n)}if("referenceValue"in t){Sn(t.referenceValue,"referenceValue");var r=this.or(t.referenceValue),i=new S(r.get(1),r.get(3)),l=new ft(this.lr(r));return new te(i,l)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype._r=function(t,e){return{name:this.cr(t),fields:this.Ir(e)}},t.prototype.Tr=function(t){return _(!t.un,"Can't serialize documents with mutations."),{name:this.cr(t.key),fields:this.Ir(t.data()),updateTime:this.q(t.version.q())}},t.prototype.Er=function(t,e){var n=this,r=this.ar(t.name),i=this.fromVersion(t.updateTime);return new oe(r,i,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.br(t)}))},t.prototype.Ir=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.mr(r)})),n},t.prototype.yr=function(t){var e=this,n=t,r=ne.mn();return U(n,(function(t,n){r.set(new pt([t]),e.br(n))})),r.fn()},t.prototype.pr=function(t){return{fields:this.Ir(t)}},t.prototype.gr=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.mr(t))})),{values:n}},t.prototype.Rr=function(t){var e=this;_(!!t.found,"Tried to deserialize a found document from a missing document."),Sn(t.found.name,"doc.found.name"),Sn(t.found.updateTime,"doc.found.updateTime");var n=this.ar(t.found.name),r=this.fromVersion(t.found.updateTime);return new oe(n,r,{},void 0,t.found,(function(t){return e.br(t)}))},t.prototype.Ar=function(t){_(!!t.missing,"Tried to deserialize a missing document from a found document."),_(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.ar(t.missing),n=this.fromVersion(t.readTime);return new se(e,n)},t.prototype.Dr=function(t){return"found"in t?this.Rr(t):"missing"in t?this.Ar(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.Pr=function(t){switch(t){case un.Bi:return"ADD";case un.de:return"CURRENT";case un.le:return"NO_CHANGE";case un.Mi:return"REMOVE";case un.ve:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.Sr=function(t){if(t instanceof gn)return{filter:{count:t.fe.count,targetId:t.targetId}};if(t instanceof fn){if(t.ae instanceof oe){var e=t.ae;return{documentChange:{document:{name:this.cr(e.key),fields:this.Ir(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.ce,removedTargetIds:t.removedTargetIds}}}if(t.ae instanceof se)return{documentDelete:{document:this.cr((e=t.ae).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.ae)return{documentRemove:{document:this.cr(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof mn){var n=void 0;return t.cause&&(n={code:Be(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.Pr(t.state),targetIds:t.targetIds,resumeToken:this.ir(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.Cr=function(t){var e,n=this;if("targetChange"in t){Sn(t.targetChange,"targetChange");var r=this.kr(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],l=this.er(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.Xe(o);e=new mn(r,i,l,s||null)}else if("documentChange"in t){Sn(t.documentChange,"documentChange");var u=t.documentChange;Sn(u.document,"documentChange.name"),Sn(u.document.name,"documentChange.document.name"),Sn(u.document.updateTime,"documentChange.document.updateTime");var a=this.ar(u.document.name),c=this.fromVersion(u.document.updateTime),h=new oe(a,c,{},void 0,u.document,(function(t){return n.br(t)})),d=u.removedTargetIds||[];e=new fn(u.targetIds||[],d,h.key,h)}else if("documentDelete"in t){Sn(t.documentDelete,"documentDelete");var p=t.documentDelete;Sn(p.document,"documentDelete.document"),a=this.ar(p.document),c=p.readTime?this.fromVersion(p.readTime):at.B(),h=new se(a,c),e=new fn([],d=p.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){Sn(t.documentRemove,"documentRemove");var f=t.documentRemove;Sn(f.document,"documentRemove"),a=this.ar(f.document),e=new fn([],d=f.removedTargetIds||[],a,null)}else{if(!("filter"in t))return y("Unknown change type "+JSON.stringify(t));Sn(t.filter,"filter");var g=t.filter;Sn(g.targetId,"filter.targetId");var m=new qe(g.count||0);e=new gn(g.targetId,m)}return e},t.prototype.kr=function(t){return"NO_CHANGE"===t?un.le:"ADD"===t?un.Bi:"REMOVE"===t?un.Mi:"CURRENT"===t?un.de:"RESET"===t?un.ve:y("Got unexpected TargetChange.state: "+t)},t.prototype.Vr=function(t){if(!("targetChange"in t))return at.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?at.MIN:e.readTime?this.fromVersion(e.readTime):at.MIN},t.prototype.Nr=function(t){var e,n=this;if(t instanceof Ft)e={update:this._r(t.key,t.value)};else if(t instanceof Vt)e={delete:this.cr(t.key)};else if(t instanceof jt)e={update:this._r(t.key,t.data),updateMask:this.Or(t.on)};else if(t instanceof Ut)e={transform:{document:this.cr(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Fr(t)}))}};else{if(!(t instanceof qt))return y("Unknown mutation type "+t.type);e={verify:this.cr(t.key)}}return t.rn.tn||(e.currentDocument=this.Ur(t.rn)),e},t.prototype.xr=function(t){var e=this,n=t.currentDocument?this.jr(t.currentDocument):Mt.NONE;if(t.update){Sn(t.update.name,"name");var r=this.ar(t.update.name),i=this.yr(t.update.fields||{});if(t.updateMask){var l=this.Lr(t.updateMask);return new jt(r,i,l,n)}return new Ft(r,i,n)}if(t.delete)return r=this.ar(t.delete),new Vt(r,n);if(t.transform){r=this.ar(t.transform.document);var o=t.transform.fieldTransforms.map((function(t){return e.Br(t)}));return _(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ut(r,o)}return t.verify?(r=this.ar(t.verify),new qt(r,n)):y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.Ur=function(t){return _(!t.tn,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.jr=function(t){return void 0!==t.updateTime?Mt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Mt.exists(t.exists):Mt.NONE},t.prototype.Mr=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e);r.isEqual(at.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map((function(t){return n.br(t)}))),new Nt(r,i)},t.prototype.qr=function(t,e){var n=this;return t&&t.length>0?(_(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.Mr(t,e)}))):[]},t.prototype.Fr=function(t){var e=this,n=t.transform;if(n instanceof wt)return{fieldPath:t.field.nt(),setToServerValue:"REQUEST_TIME"};if(n instanceof kt)return{fieldPath:t.field.nt(),appendMissingElements:{values:n.elements.map((function(t){return e.mr(t)}))}};if(n instanceof Ct)return{fieldPath:t.field.nt(),removeAllFromArray:{values:n.elements.map((function(t){return e.mr(t)}))}};if(n instanceof Et)return{fieldPath:t.field.nt(),increment:this.mr(n.Kt)};throw y("Unknown transform: "+t.transform)},t.prototype.Br=function(t){var e=this,n=null;if("setToServerValue"in t)_("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=wt.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new kt(r.map((function(t){return e.br(t)})))}else if("removeAllFromArray"in t)n=new Ct((r=t.removeAllFromArray.values||[]).map((function(t){return e.br(t)})));else if("increment"in t){var i=this.br(t.increment);_(i instanceof Gt,"NUMERIC_ADD transform requires a NumberValue"),n=new Et(i)}else y("Unknown transform proto: "+JSON.stringify(t));var l=pt.ot(t.fieldPath);return new At(l,n)},t.prototype.Qr=function(t){return{documents:[this.dr(t.path)]}},t.prototype.Gr=function(t){var e=t.documents.length;return _(1===e,"DocumentsTarget contained other than 1 document: "+e),be.ti(this.vr(t.documents[0])).li()},t.prototype.Wr=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(_(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.dr(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(_(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.dr(n.H()),e.structuredQuery.from=[{collectionId:n.X()}]);var r=this.zr(t.filters);r&&(e.structuredQuery.where=r);var i=this.Kr(t.orderBy);i&&(e.structuredQuery.orderBy=i);var l=this.$e(t.limit);return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt=this.Hr(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Hr(t.endAt)),e},t.prototype.Jr=function(t){var e=this.vr(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_(1===r,"StructuredQuery.from with more than one collection is not supported.");var l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}var o=[];n.where&&(o=this.Yr(n.where));var s=[];n.orderBy&&(s=this.Xr(n.orderBy));var u=null;n.limit&&(u=this.tr(n.limit));var a=null;n.startAt&&(a=this.$r(n.startAt));var c=null;return n.endAt&&(c=this.$r(n.endAt)),new be(e,i,s,o,u,ge.Kn,a,c).li()},t.prototype.Zr=function(t){var e=this.tu(t.Vi);return null==e?null:{"goog-listen-tags":e}},t.prototype.tu=function(t){switch(t){case De.Si:return null;case De.Ci:return"existence-filter-mismatch";case De.ki:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.li=function(t){var e,n=t.target;return(e=n.zn()?{documents:this.Qr(n)}:{query:this.Wr(n)}).targetId=t.targetId,t.resumeToken.Nn()>0&&(e.resumeToken=this.ir(t.resumeToken)),e},t.prototype.zr=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof ke?e.nu(t):y("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.Yr=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.iu(t)]:void 0!==t.fieldFilter?[this.eu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.Yr(t)})).reduce((function(t,e){return t.concat(e)})):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.Kr=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.ru(t)}))},t.prototype.Xr=function(t){var e=this;return t.map((function(t){return e.uu(t)}))},t.prototype.Hr=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.mr(t)}))}},t.prototype.$r=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.br(t)}));return new Ae(r,n)},t.prototype.su=function(t){return Cn[t.name]},t.prototype.ou=function(t){switch(t){case"ASCENDING":return xe.ASCENDING;case"DESCENDING":return xe.DESCENDING;default:return}},t.prototype.hu=function(t){return En[t.name]},t.prototype.cu=function(t){switch(t){case"EQUAL":return we.EQUAL;case"GREATER_THAN":return we.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return we.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return we.LESS_THAN;case"LESS_THAN_OR_EQUAL":return we.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return we.ARRAY_CONTAINS;case"IN":return we.IN;case"ARRAY_CONTAINS_ANY":return we.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},t.prototype.au=function(t){return{fieldPath:t.nt()}},t.prototype.fu=function(t){return pt.ot(t.fieldPath)},t.prototype.ru=function(t){return{field:this.au(t.field),direction:this.su(t.dir)}},t.prototype.uu=function(t){return new Ne(this.fu(t.field),this.ou(t.direction))},t.prototype.eu=function(t){return ke.create(this.fu(t.fieldFilter.field),this.cu(t.fieldFilter.op),this.br(t.fieldFilter.value))},t.prototype.nu=function(t){if(t.op===we.EQUAL){if(t.value.isEqual(Qt.xn))return{unaryFilter:{field:this.au(t.field),op:"IS_NAN"}};if(t.value.isEqual(Bt.On))return{unaryFilter:{field:this.au(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.au(t.field),op:this.hu(t.op),value:this.mr(t.value)}}},t.prototype.iu=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fu(t.unaryFilter.field);return ke.create(e,we.EQUAL,Qt.xn);case"IS_NULL":var n=this.fu(t.unaryFilter.field);return ke.create(n,we.EQUAL,Bt.On);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.Or=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.nt())})),{fieldPaths:e}},t.prototype.Lr=function(t){var e=(t.fieldPaths||[]).map((function(t){return pt.ot(t)}));return xt.Yt(e)},t}(),An=function(){function t(){}return t.lu=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.t=function(){return t.platform||y("Platform not set"),t.platform},t}();function Nn(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new A(x.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function Pn(){if("undefined"==typeof Uint8Array)throw new A(x.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function On(){if(!An.t().du)throw new A(x.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Dn,Rn,Mn=function(){function t(t){On(),this.Di=t}return t.fromBase64String=function(e){z("Blob.fromBase64String",arguments,1),W("Blob.fromBase64String","string",1,e),On();try{var n=An.t().atob(e);return new t(n)}catch(t){throw new A(x.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(z("Blob.fromUint8Array",arguments,1),Pn(),!(e instanceof Uint8Array))throw nt("Blob.fromUint8Array","Uint8Array",1,e);var n=Le(e);return new t(n)},t.prototype.toBase64=function(){return z("Blob.toBase64",arguments,0),On(),An.t().btoa(this.Di)},t.prototype.toUint8Array=function(){z("Blob.toUint8Array",arguments,0),Pn();var t=Fe(this.Di);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.Di===t.Di},t.prototype.Ln=function(){return 2*this.Di.length},t.prototype.U=function(t){return w(this.Di,t.Di)},t}(),Ln=Nn(Mn,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Fn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.vu=function(t){return n.wu(t)},this.mu=function(t){return e.pu(t)})}return t.prototype.wu=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.mu&&this.mu(t),t},t.gu=-1,t}(),jn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};(Rn=Dn||(Dn={})).bu="all",Rn.yu="listen_stream_idle",Rn._u="listen_stream_connection_backoff",Rn.Iu="write_stream_idle",Rn.Tu="write_stream_connection_backoff",Rn.Eu="online_state_timeout",Rn.Ru="client_metadata_refresh",Rn.Au="lru_garbage_collection",Rn.Du="retry_transaction";var Un=function(){function t(t,e,n,r,i){this.Pu=t,this.Su=e,this.Cu=n,this.op=r,this.ku=i,this.Vu=new jn,this.then=this.Vu.promise.then.bind(this.Vu.promise),this.catch=this.Vu.promise.catch.bind(this.Vu.promise),this.Vu.promise.catch((function(t){}))}return t.Nu=function(e,n,r,i,l){var o=new t(e,n,Date.now()+r,i,l);return o.start(r),o},t.prototype.start=function(t){var e=this;this.Ou=setTimeout((function(){return e.Fu()}),t)},t.prototype.Uu=function(){return this.Fu()},t.prototype.cancel=function(t){null!==this.Ou&&(this.clearTimeout(),this.Vu.reject(new A(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Fu=function(){var t=this;this.Pu.xu((function(){return null!==t.Ou?(t.clearTimeout(),t.op().then((function(e){return t.Vu.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Ou&&(this.ku(this),clearTimeout(this.Ou),this.Ou=null)},t}(),Vn=function(){function t(){this.ju=Promise.resolve(),this.Lu=!1,this.Bu=[],this.Mu=null,this.qu=!1,this.Qu=[]}return Object.defineProperty(t.prototype,"Gu",{get:function(){return this.Lu},enumerable:!0,configurable:!0}),t.prototype.xu=function(t){this.enqueue(t)},t.prototype.Wu=function(t){this.zu(),this.Ku(t)},t.prototype.Hu=function(t){return this.zu(),this.Ku(t)},t.prototype.Ju=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.zu(),this.Lu?[3,2]:(this.Lu=!0,[4,this.Hu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.zu(),this.Lu?new Promise((function(t){})):this.Ku(t)},t.prototype.Ku=function(t){var e=this,n=this.ju.then((function(){return e.qu=!0,t().catch((function(t){e.Mu=t,e.qu=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.qu=!1,t}))}));return this.ju=n,n},t.prototype.Yu=function(t,e,n){var r=this;this.zu(),_(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.Qu.indexOf(t)>-1&&(e=0);var i=Un.Nu(this,t,e,n,(function(t){return r.Xu(t)}));return this.Bu.push(i),i},t.prototype.zu=function(){this.Mu&&y("AsyncQueue is already failed: "+(this.Mu.stack||this.Mu.message))},t.prototype.$u=function(){_(this.qu,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.Zu=function(){return this.Hu((function(){return Promise.resolve()}))},t.prototype.ts=function(t){for(var e=0,n=this.Bu;e<n.length;e++)if(n[e].Su===t)return!0;return!1},t.prototype.ns=function(t){var e=this;return this.Zu().then((function(){_(t===Dn.bu||e.ts(t),"Attempted to drain to missing operation "+t),e.Bu.sort((function(t,e){return t.Cu-e.Cu}));for(var n=0,r=e.Bu;n<r.length;n++){var i=r[n];if(i.Uu(),t!==Dn.bu&&i.Su===t)break}return e.Zu()}))},t.prototype.es=function(t){this.Qu.push(t)},t.prototype.Xu=function(t){var e=this.Bu.indexOf(t);_(e>=0,"Delayed operation not found."),this.Bu.splice(e,1)},t}(),qn="\x01",zn="\x01",Hn="\x10",Bn="\x11";function Wn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Kn(e)),e=Gn(t.get(n),e);return Kn(e)}function Gn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var l=t.charAt(i);switch(l){case"\0":n+=qn+Hn;break;case qn:n+=qn+Bn;break;default:n+=l}}return n}function Kn(t){return t+qn+zn}function $n(t){var e=t.length;if(_(e>=2,"Invalid path "+t),2===e)return _(t.charAt(0)===qn&&t.charAt(1)===zn,"Non-empty path "+t+" had length 2"),ht.et;for(var n=e-2,r=[],i="",l=0;l<e;){var o=t.indexOf(qn,l);switch((o<0||o>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(o+1)){case zn:var s=t.substring(l,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case Hn:i+=t.substring(l,o),i+="\0";break;case Bn:i+=t.substring(l,o+1);break;default:y('Invalid encoded resource path: "'+t+'"')}l=o+2}return new ht(r)}var Qn=function(){function t(t,e,n,r){this.batchId=t,this.jn=e,this.baseMutations=n,this.mutations=r,_(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.Wt=function(t,e,n){e&&_(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.rs;_(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var l=this.mutations[i];l.key.isEqual(t)&&(e=l.Wt(e,r[i]))}return e},t.prototype.Gt=function(t,e){e&&_(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=s.Gt(e,e,this.jn));for(var i=e,l=0,o=this.mutations;l<o.length;l++){var s;(s=o[l]).key.isEqual(t)&&(e=s.Gt(e,i,this.jn))}return e},t.prototype.us=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Gt(r.key,t.get(r.key));i&&(n=n.lt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Xe())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&k(this.mutations,t.mutations)&&k(this.baseMutations,t.baseMutations)},t}(),Yn=function(){function t(t,e,n,r,i){this.batch=t,this.ss=e,this.rs=n,this.streamToken=r,this.os=i}return t.from=function(e,n,r,i){_(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var l=Ze(),o=e.mutations,s=0;s<o.length;s++)l=l.lt(o[s].key,r[s].version);return new t(e,n,r,i,l)},t}(),Zn=function(){function t(){this.hs=new _t(Jn.Bn),this.cs=new _t(Jn.as)}return t.prototype.J=function(){return this.hs.J()},t.prototype.fs=function(t,e){var n=new Jn(t,e);this.hs=this.hs.add(n),this.cs=this.cs.add(n)},t.prototype.ls=function(t,e){var n=this;t.forEach((function(t){return n.fs(t,e)}))},t.prototype.ds=function(t,e){this.vs(new Jn(t,e))},t.prototype.ws=function(t,e){var n=this;t.forEach((function(t){return n.ds(t,e)}))},t.prototype.ms=function(t){var e=this,n=ft.EMPTY,r=new Jn(n,t),i=new Jn(n,t+1),l=[];return this.cs.Lt([r,i],(function(t){e.vs(t),l.push(t.key)})),l},t.prototype.ps=function(){var t=this;this.hs.forEach((function(e){return t.vs(e)}))},t.prototype.vs=function(t){this.hs=this.hs.delete(t),this.cs=this.cs.delete(t)},t.prototype.gs=function(t){var e=ft.EMPTY,n=new Jn(e,t),r=new Jn(e,t+1),i=Xe();return this.cs.Lt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.bs=function(t){var e=new Jn(t,0),n=this.hs.Mt(e);return null!==n&&t.isEqual(n.key)},t}(),Jn=function(){function t(t,e){this.key=t,this.ys=e}return t.Bn=function(t,e){return ft.G(t.key,e.key)||w(t.ys,e.ys)},t.as=function(t,e){return w(t.ys,e.ys)||ft.G(t.key,e.key)},t}(),Xn=function(){function t(t){this._s=t,this.Is={}}return t.prototype.get=function(t){var e=this._s(t),n=this.Is[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var l=i[r],o=l[1];if(l[0].isEqual(t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this._s(t),r=this.Is[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Is[n]=[[t,e]]},t.prototype.delete=function(t){var e=this._s(t),n=this.Is[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Is[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){U(this.Is,(function(e,n){for(var r=0,i=n;r<i.length;r++){var l=i[r];t(l[0],l[1])}}))},t.prototype.J=function(){return V(this.Is)},t}(),tr=function(){function t(t){var e=this;this.Ts=null,this.Es=null,this.result=void 0,this.error=void 0,this.Rs=!1,this.As=!1,t((function(t){e.Rs=!0,e.result=t,e.Ts&&e.Ts(t)}),(function(t){e.Rs=!0,e.error=t,e.Es&&e.Es(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.As&&y("Called next() or catch() twice for PersistencePromise"),this.As=!0,this.Rs?this.error?this.Ds(n,this.error):this.Ps(e,this.result):new t((function(t,i){r.Ts=function(n){r.Ps(e,n).next(t,i)},r.Es=function(e){r.Ds(n,e).next(t,i)}}))},t.prototype.Ss=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Cs=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Ps=function(e,n){return e?this.Cs((function(){return e(n)})):t.resolve(n)},t.prototype.Ds=function(e,n){return e?this.Cs((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.ks=function(e){return new t((function(t,n){var r=0,i=0,l=!1;e.forEach((function(e){++r,e.next((function(){++i,l&&i===r&&t()}),(function(t){return n(t)}))})),l=!0,i===r&&t()}))},t.Vs=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,l=e;i<l.length;i++)r(l[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.ks(r)},t}(),er=function(){function t(){this.Ns=new Xn((function(t){return t.toString()})),this.Os=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return _(void 0!==this.Fs,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.Fs},set:function(t){_(void 0===this.Fs||this.Fs.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.Fs=t},enumerable:!0,configurable:!0}),t.prototype.Us=function(t,e){this.xs(),this.readTime=e,this.Ns.set(t.key,t)},t.prototype.js=function(t,e){this.xs(),e&&(this.readTime=e),this.Ns.set(t,null)},t.prototype.Ls=function(t,e){this.xs();var n=this.Ns.get(e);return void 0!==n?tr.resolve(n):this.Bs(t,e)},t.prototype.getEntries=function(t,e){return this.Ms(t,e)},t.prototype.apply=function(t){return this.xs(),this.Os=!0,this.qs(t)},t.prototype.xs=function(){_(!this.Os,"Changes have already been applied.")},t}(),nr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rr=function(){function t(){this.Qs=[]}return t.prototype.Gs=function(t){this.Qs.push(t)},t.prototype.Ws=function(){this.Qs.forEach((function(t){return t()}))},t}(),ir=function(){function t(e){this.db=e,12.2===t.zs(u.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Ks=function(e,n,r){return _(t.Hs(),"IndexedDB not supported in current environment."),g("SimpleDb","Opening database:",e),new tr((function(i,l){var o=window.indexedDB.open(e,n);o.onsuccess=function(e){i(new t(e.target.result))},o.onblocked=function(){l(new A(x.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;l("VersionError"===e.name?new A(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},o.onupgradeneeded=function(t){g("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,o.transaction,t.oldVersion,Br).next((function(){g("SimpleDb","Database upgrade to version "+Br+" complete")}))}})).Ss()},t.delete=function(t){return g("SimpleDb","Removing database:",t),ur(window.indexedDB.deleteDatabase(t)).Ss()},t.Hs=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.Js())return!0;if(void 0===window.navigator)return!1;var e=u.getUA(),n=t.zs(e),r=0<n&&n<10,i=t.Ys(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)},t.Js=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Xs)},t.$s=function(t,e){return t.store(e)},t.zs=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ys=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Zs=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,l,s,u,a;return o.__generator(this,(function(c){switch(c.label){case 0:r=t.startsWith("readonly"),i=t.endsWith("idempotent"),l=0,s=function(){var t,s,a,c;return o.__generator(this,(function(o){switch(o.label){case 0:++l,t=or.open(u.db,r?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(s=n(t).catch((function(e){return t.abort(e),tr.reject(e)})).Ss()).catch((function(){})),[4,t.to];case 2:return o.sent(),[2,{value:s}];case 3:return g("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(a=o.sent()).message,c=i&&"FirebaseError"!==a.name&&l<3),c?[3,4]:[2,{value:Promise.reject(a)}];case 4:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:return"object"==typeof(a=c.sent())?[2,a.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),lr=function(){function t(t){this.no=t,this.io=!1,this.eo=null}return Object.defineProperty(t.prototype,"Rs",{get:function(){return this.io},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ro",{get:function(){return this.eo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.no=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.io=!0},t.prototype.uo=function(t){this.eo=t},t.prototype.delete=function(){return ur(this.no.delete())},t}(),or=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.so=new jn,this.transaction.oncomplete=function(){e.so.resolve()},this.transaction.onabort=function(){t.error?e.so.reject(t.error):e.so.resolve()},this.transaction.onerror=function(t){var n=cr(t.target.error);e.so.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"to",{get:function(){return this.so.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.so.reject(t),this.aborted||(g("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return _(!!e,"Object store not part of transaction: "+t),new sr(e)},t}(),sr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(g("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(g("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ur(n)},t.prototype.add=function(t){return g("SimpleDb","ADD",this.store.name,t,t),ur(this.store.add(t))},t.prototype.get=function(t){var e=this;return ur(this.store.get(t)).next((function(n){return void 0===n&&(n=null),g("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return g("SimpleDb","DELETE",this.store.name,t),ur(this.store.delete(t))},t.prototype.count=function(){return g("SimpleDb","COUNT",this.store.name),ur(this.store.count())},t.prototype.oo=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ho(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.co=function(t,e){g("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ao=!1;var r=this.cursor(n);return this.ho(r,(function(t,e,n){return n.delete()}))},t.prototype.fo=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ho(r,e)},t.prototype.lo=function(t){var e=this.cursor({});return new tr((function(n,r){e.onerror=function(t){var e=cr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ho=function(t,e){var n=[];return new tr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var l=new lr(i),o=e(i.primaryKey,i.value,l);if(o instanceof tr){var s=o.catch((function(t){return l.done(),tr.reject(t)}));n.push(s)}l.Rs?r():null===l.ro?i.continue():i.continue(l.ro)}else r()}})).next((function(){return tr.ks(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(_(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ao?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ur(t){return new tr((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=cr(t.target.error);n(e)}}))}var ar=!1;function cr(t){var e=ir.zs(u.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new A("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ar||(ar=!0,setTimeout((function(){throw r}),0)),r}}return t}var hr=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.do=n,this.vo=r,this.wo={}}return t.mo=function(e,n,r,i){return _(""!==e.uid,"UserID must not be an empty string."),new t(e.l()?e.uid:"",n,r,i)},t.prototype.po=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fr(t).fo({index:Qr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.bo=function(t,e,n){return this.yo(t).next((function(e){return e.lastStreamToken=n.toBase64(),mr(t).put(e)}))},t.prototype._o=function(t){return this.yo(t).next((function(t){return Me.fromBase64String(t.lastStreamToken)}))},t.prototype.Io=function(t,e){return this.yo(t).next((function(n){return n.lastStreamToken=e.toBase64(),mr(t).put(n)}))},t.prototype.To=function(t,e,n,r){var i=this,l=gr(t),o=fr(t);return o.add({}).next((function(s){_("number"==typeof s,"Auto-generated key is not a number");for(var u=new Qn(s,e,n,r),a=i.serializer.Eo(i.userId,u),c=[],h=new _t((function(t,e){return w(t.nt(),e.nt())})),d=0,p=r;d<p.length;d++){var f=p[d],g=Yr.key(i.userId,f.key.path,s);h=h.add(f.key.path.H()),c.push(o.put(a)),c.push(l.put(g,Yr.PLACEHOLDER))}return h.forEach((function(e){c.push(i.do.Ro(t,e))})),t.Gs((function(){i.wo[s]=u.keys()})),tr.ks(c).next((function(){return u}))}))},t.prototype.Ao=function(t,e){var n=this;return fr(t).get(e).next((function(t){return t?(_(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.Do(t)):null}))},t.prototype.Po=function(t,e){var n=this;return this.wo[e]?tr.resolve(this.wo[e]):this.Ao(t,e).next((function(t){if(t){var r=t.keys();return n.wo[e]=r,r}return null}))},t.prototype.So=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),l=null;return fr(t).fo({index:Qr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_(e.batchId>=r,"Should have found mutation after "+r),l=n.serializer.Do(e)),i.done()})).next((function(){return l}))},t.prototype.Co=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fr(t).fo({index:Qr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.ko=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fr(t).oo(Qr.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Do(t)}))}))},t.prototype.Vo=function(t,e){var n=this,r=Yr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),l=[];return gr(t).fo({range:i},(function(r,i,o){var s=r[0],u=r[2],a=$n(r[1]);if(s===n.userId&&e.path.isEqual(a))return fr(t).get(u).next((function(t){if(!t)throw y("Dangling document-mutation reference found: "+r+" which points to "+u);_(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),l.push(n.serializer.Do(t))}));o.done()})).next((function(){return l}))},t.prototype.No=function(t,e){var n=this,r=new _t(w),i=[];return e.forEach((function(e){var l=Yr.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(l),s=gr(t).fo({range:o},(function(t,i,l){var o=t[0],s=t[2],u=$n(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(s):l.done()}));i.push(s)})),tr.ks(i).next((function(){return n.Oo(t,r)}))},t.prototype.Fo=function(t,e){var n=this;_(!e.zn(),"Document queries shouldn't go down this path"),_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,l=Yr.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(l),s=new _t(w);return gr(t).fo({range:o},(function(t,e,l){var o=t[0],u=t[2],a=$n(t[1]);o===n.userId&&r.$(a)?a.length===i&&(s=s.add(u)):l.done()})).next((function(){return n.Oo(t,s)}))},t.prototype.Oo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(fr(t).get(e).next((function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);_(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.Do(t))})))})),tr.ks(i).next((function(){return r}))},t.prototype.Uo=function(t,e){var n=this;return pr(t.xo,this.userId,e).next((function(r){return t.Gs((function(){n.jo(e.batchId)})),tr.forEach(r,(function(e){return n.vo.Lo(t,e)}))}))},t.prototype.jo=function(t){delete this.wo[t]},t.prototype.Bo=function(t){var e=this;return this.po(t).next((function(n){if(!n)return tr.resolve();var r=IDBKeyRange.lowerBound(Yr.prefixForUser(e.userId)),i=[];return gr(t).fo({range:r},(function(t,n,r){if(t[0]===e.userId){var l=$n(t[1]);i.push(l)}else r.done()})).next((function(){_(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.nt()})))}))}))},t.prototype.bs=function(t,e){return dr(t,this.userId,e)},t.prototype.yo=function(t){var e=this;return mr(t).get(this.userId).next((function(t){return t||new $r(e.userId,-1,"")}))},t}();function dr(t,e,n){var r=Yr.prefixForPath(e,n.path),i=r[1],l=IDBKeyRange.lowerBound(r),o=!1;return gr(t).fo({range:l,ao:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function pr(t,e,n){var r=t.store(Qr.store),i=t.store(Yr.store),l=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.fo({range:o},(function(t,e,n){return s++,n.delete()}));l.push(u.next((function(){_(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var a=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=Yr.key(e,d.key.path,n.batchId);l.push(i.delete(p)),a.push(d.key)}return tr.ks(l).next((function(){return a}))}function fr(t){return gi.$s(t,Qr.store)}function gr(t){return gi.$s(t,Yr.store)}function mr(t){return gi.$s(t,$r.store)}var vr,yr,_r=1;(yr=vr||(vr={}))[yr.Mo=0]="__PRIVATE_QueryCache",yr[yr.qo=1]="__PRIVATE_SyncEngine";var br=function(){function t(t,e){this.Qo=t,_((t&_r)===t,"Generator ID "+t+" contains more than "+_r+" reserved bits"),this.Go(void 0!==e?e:this.Qo)}return t.prototype.next=function(){var t=this.Wo;return this.Wo+=1<<_r,t},t.prototype.after=function(t){return this.Go(t+(1<<_r)),this.next()},t.prototype.Go=function(t){_((t&_r)===this.Qo,"Cannot supply target ID from different generator ID"),this.Wo=t},t.zo=function(){return new t(vr.Mo,2)},t.Ko=function(){return new t(vr.qo)},t}(),wr=function(){function t(t,e,n){this.Ho=t,this.Jo=e,this.do=n}return t.prototype.Yo=function(t,e){var n=this;return this.Jo.Vo(t,e).next((function(r){return n.Xo(t,e,r)}))},t.prototype.Xo=function(t,e,n){return this.Ho.Ls(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Gt(e,t);return t}))},t.prototype.$o=function(t,e,n){var r=Ke();return e.forEach((function(t,e){for(var i=0,l=n;i<l.length;i++)e=l[i].Gt(t,e);r=r.lt(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Ho.getEntries(t,e).next((function(e){return n.th(t,e)}))},t.prototype.th=function(t,e){var n=this;return this.Jo.No(t,e).next((function(r){var i=n.$o(t,e,r),l=Ge();return i.forEach((function(t,e){e||(e=new se(t,at.B())),l=l.lt(t,e)})),l}))},t.prototype.nh=function(t,e,n){return e.zn()?this.ih(t,e.path):e._i()?this.eh(t,e,n):this.rh(t,e,n)},t.prototype.ih=function(t,e){return this.Yo(t,new ft(e)).next((function(t){var e=Qe();return t instanceof oe&&(e=e.lt(t.key,t)),e}))},t.prototype.eh=function(t,e,n){var r=this;_(e.path.J(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,l=Qe();return this.do.uh(t,i).next((function(o){return tr.forEach(o,(function(o){var s=e.ai(o.child(i));return r.rh(t,s,n).next((function(t){t.forEach((function(t,e){l=l.lt(t,e)}))}))})).next((function(){return l}))}))},t.prototype.rh=function(t,e,n){var r,i,l=this;return this.Ho.nh(t,e,n).next((function(n){return r=n,l.Jo.Fo(t,e)})).next((function(e){return l.sh(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var l=n[e],o=0,s=l.mutations;o<s.length;o++){var u=s[o],a=u.key,c=r.get(a),h=u.Gt(c,c,l.jn);r=h instanceof oe?r.lt(a,h):r.remove(a)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.sh=function(t,e,n){for(var r=Xe(),i=0,l=e;i<l.length;i++)for(var o=0,s=l[i].mutations;o<s.length;o++){var u=s[o];u instanceof jt&&null===n.get(u.key)&&(r=r.add(u.key))}var a=n;return this.Ho.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof oe&&(a=a.lt(t,e))})),a}))},t}(),kr=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.oh=n,this.hh=r}return t.ah=function(e,n){for(var r=Xe(),i=Xe(),l=0,o=n.docChanges;l<o.length;l++){var s=o[l];switch(s.type){case nn.Bi:r=r.add(s.doc.key);break;case nn.Mi:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Cr="LocalStore",Er=function(){function t(t,e,n){this.persistence=t,this.fh=e,this.lh=new Zn,this.dh=new gt(w),this.vh=new Xn((function(t){return t.canonicalId()})),this.wh=at.MIN,_(t.mh,"LocalStore was passed an unstarted persistence implementation"),this.persistence.vo.ph(this.lh),this.Jo=t.gh(n),this.bh=t.yh(),this._h=t.Ih(),this.Th=new wr(this.bh,this.Jo,this.persistence.Eh()),this.fh.Rh(this.Th)}return t.prototype.start=function(){return this.Ah()},t.prototype.Dh=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return o.__generator(this,(function(l){switch(l.label){case 0:return e=this.Jo,n=this.Th,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var l;return i.Jo.ko(r).next((function(o){return l=o,e=i.persistence.gh(t),n=new wr(i.bh,e,i.persistence.Eh()),e.ko(r)})).next((function(t){for(var e=[],i=[],o=Xe(),s=0,u=l;s<u.length;s++){var a=u[s];e.push(a.batchId);for(var c=0,h=a.mutations;c<h.length;c++){var d=h[c];o=o.add(d.key)}}for(var p=0,f=t;p<f.length;p++){i.push((a=f[p]).batchId);for(var g=0,m=a.mutations;g<m.length;g++)o=o.add((d=m[g]).key)}return n.Zo(r,o).next((function(t){return{Ph:t,Sh:e,Ch:i}}))}))}))];case 1:return r=l.sent(),this.Jo=e,this.Th=n,this.fh.Rh(this.Th),[2,r]}}))}))},t.prototype.kh=function(t){var e,n=this,r=ut.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Xe());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(l){return n.Th.Zo(l,i).next((function(i){e=i;for(var o=[],s=0,u=t;s<u.length;s++){var a=u[s],c=a.sn(e.get(a.key));null!=c&&o.push(new jt(a.key,c,c.on(),Mt.exists(!0)))}return n.Jo.To(l,r,o,t)}))})).then((function(t){var n=t.us(e);return{batchId:t.batchId,Ns:n}}))},t.prototype.Vh=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return e.Jo.Po(n,t).next((function(t){return t?e.Th.Zo(n,t):tr.resolve(null)}))}))},t.prototype.bo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=t.batch.keys(),i=e.bh.Nh({Oh:!0});return e.Jo.bo(n,t.batch,t.streamToken).next((function(){return e.Fh(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Jo.Bo(n)})).next((function(){return e.Th.Zo(n,r)}))}))},t.prototype.Uh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return e.Jo.Ao(n,t).next((function(t){return _(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.Jo.Uo(n,t)})).next((function(){return e.Jo.Bo(n)})).next((function(){return e.Th.Zo(n,r)}))}))},t.prototype.Co=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.Jo.Co(e)}))},t.prototype._o=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.Jo._o(e)}))},t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return e.Jo.Io(n,t)}))},t.prototype.xh=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t._h.xh(e)}))},t.prototype.jh=function(e){var n=this,r=e.Ni,i=this.dh;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(l){var o=n.bh.Nh({Oh:!0});i=n.dh;var s=[];j(e.Zi,(function(e,o){var u=i.get(e);if(u){s.push(n._h.Lh(l,o.he,e).next((function(){return n._h.Bh(l,o.se,e)})));var a=o.resumeToken;if(a.Nn()>0){var c=u.Fi(a,r).Oi(l.Mh);i=i.lt(e,c),t.qh(u,c,o)&&s.push(n._h.Qh(l,c))}}}));var u=Ge(),a=Xe();if(e.ne.forEach((function(t,e){a=a.add(t)})),s.push(o.getEntries(l,a).next((function(t){e.ne.forEach((function(i,a){var c=t.get(i);a instanceof se&&a.version.isEqual(at.MIN)?(o.js(i,r),u=u.lt(i,a)):null==c||a.version.h(c.version)>0||0===a.version.h(c.version)&&c.hasPendingWrites?(_(!at.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),o.Us(a,r),u=u.lt(i,a)):g(Cr,"Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",a.version),e.ie.has(i)&&s.push(n.persistence.vo.Gh(l,i))}))}))),!r.isEqual(at.MIN)){var c=n._h.xh(l).next((function(t){return _(r.h(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n._h.Wh(l,l.Mh,r)}));s.push(c)}return tr.ks(s).next((function(){return o.apply(l)})).next((function(){return n.Th.th(l,u)}))})).then((function(t){return n.dh=i,t}))},t.qh=function(t,e,n){return _(e.resumeToken.Nn()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.Nn()||e.Ni.M()-t.Ni.M()>=this.zh||n.se.size+n.oe.size+n.he.size>0},t.prototype.Kh=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],l=i.targetId;if(this.lh.ls(i.oh,l),this.lh.ws(i.hh,l),!i.fromCache){var o=this.dh.get(l);_(null!==o,"Can't set limbo-free snapshot version for unknown target: "+l);var s=o.Ui(o.Ni);this.dh=this.dh.lt(l,s)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return tr.forEach(t,(function(t){return tr.forEach(t.hh,(function(t){return e.persistence.vo.ds(n,t)}))}))}))},t.prototype.Hh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===t&&(t=-1),e.Jo.So(n,t)}))},t.prototype.Jh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return e.Th.Yo(n,t)}))},t.prototype.Yh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return e._h.Xh(n,t).next((function(i){return i?tr.resolve(r=i):e._h.$h(n).next((function(i){return r=new Ve(t,i,De.Si,n.Mh),e._h.Zh(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.dh.get(n.targetId)&&(e.dh=e.dh.lt(n.targetId,n),e.vh.set(t,n.targetId)),n}))},t.prototype.Xh=function(t,e){var n=this.vh.get(e);return void 0!==n?tr.resolve(this.dh.get(n)):this._h.Xh(t,e)},t.prototype.tc=function(t,e){var n=this,r=this.dh.get(t);return _(null!==r,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite-idempotent":"readwrite-primary-idempotent",(function(i){var l=n.lh.ms(t);return e?tr.resolve():tr.forEach(l,(function(t){return n.persistence.vo.ds(i,t)})).next((function(){n.persistence.vo.removeTarget(i,r)}))})).then((function(){n.dh=n.dh.remove(t),n.vh.delete(r.target)}))},t.prototype.nc=function(t,e){var n=this,r=at.MIN,i=Xe();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(l){return n.Xh(l,t.li()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n._h.ic(l,t.targetId).next((function(t){i=t}))})).next((function(){return n.fh.nh(l,t,e?r:at.MIN,e?i:Xe())})).next((function(t){return{documents:t,ec:i}}))}))},t.prototype.rc=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return e._h.ic(n,t)}))},t.prototype.uc=function(){return this.persistence.uc()},t.prototype.sc=function(t){this.Jo.jo(t)},t.prototype.oc=function(t){this.persistence.oc(t)},t.prototype.Fh=function(t,e,n){var r=this,i=e.batch,l=i.keys(),o=tr.resolve();return l.forEach((function(r){o=o.next((function(){return n.Ls(t,r)})).next((function(t){var l=t,o=e.os.get(r);_(null!==o,"ackVersions should contain every doc in the write."),(!l||l.version.h(o)<0)&&((l=i.Wt(r,l,e))?n.Us(l,e.ss):_(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),o.next((function(){return r.Jo.Uo(t,i)}))},t.prototype.hc=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return t.cc(n,e.dh)}))},t.prototype.ac=function(t){var e=this,n=this.dh.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return e._h.Ye(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.fc=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.bh.fc(e,t.wh)})).then((function(e){var n=e.lc;return t.wh=e.readTime,n}))},t.prototype.Ah=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.bh.dc(t)}))];case 1:return t.wh=n.sent(),[2]}}))}))},t.zh=3e8,t}();function Tr(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(t.code!==x.FAILED_PRECONDITION||t.message!==nr)throw t;return g(Cr,"Unexpectedly lost primary lease"),[2]}))}))}function Sr(t,e){var n=t[1],r=e[1],i=w(t[0],e[0]);return 0===i?w(n,r):i}var Ir=function(){function t(t){this.vc=t,this.buffer=new _t(Sr),this.wc=0}return t.prototype.mc=function(){return++this.wc},t.prototype.pc=function(t){var e=[t,this.mc()];if(this.buffer.size<this.vc)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Sr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),xr={gc:!1,bc:0,yc:0,_c:0},Ar=function(){function t(t,e,n){this.Ic=t,this.Tc=e,this.Ec=n}return t.Rc=function(e){return new t(e,t.Ac,t.Dc)},t.Pc=-1,t.Sc=1048576,t.kc=new t(t.Cc=41943040,t.Ac=10,t.Dc=1e3),t.DISABLED=new t(t.Pc,0,0),t}(),Nr=function(){function t(t,e,n){this.Vc=t,this.Pu=e,this.Nc=n,this.Oc=!1,this.Fc=null}return t.prototype.start=function(){_(null===this.Fc,"Cannot start an already started LruScheduler"),this.Vc.params.Ic!==Ar.Pc&&this.Uc()},t.prototype.stop=function(){this.Fc&&(this.Fc.cancel(),this.Fc=null)},Object.defineProperty(t.prototype,"mh",{get:function(){return null!==this.Fc},enumerable:!0,configurable:!0}),t.prototype.Uc=function(){var t=this;_(null===this.Fc,"Cannot schedule GC while a task is pending");var e=this.Oc?3e5:6e4;g("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.Fc=this.Pu.Yu(Dn.Au,e,(function(){return t.Fc=null,t.Oc=!0,t.Nc.hc(t.Vc).then((function(){return t.Uc()})).catch(Tr)}))},t}(),Pr=function(){function t(t,e){this.xc=t,this.params=e}return t.prototype.jc=function(t,e){return this.xc.Lc(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Bc=function(t,e){var n=this;if(0===e)return tr.resolve(Fn.gu);var r=new Ir(e);return this.xc.Le(t,(function(t){return r.pc(t.sequenceNumber)})).next((function(){return n.xc.Mc(t,(function(t){return r.pc(t)}))})).next((function(){return r.maxValue}))},t.prototype.qc=function(t,e,n){return this.xc.qc(t,e,n)},t.prototype.Qc=function(t,e){return this.xc.Qc(t,e)},t.prototype.cc=function(t,e){var n=this;return this.params.Ic===Ar.Pc?(g("LruGarbageCollector","Garbage collection skipped; disabled"),tr.resolve(xr)):this.Gc(t).next((function(r){return r<n.params.Ic?(g("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Ic),xr):n.Wc(t,e)}))},t.prototype.Gc=function(t){return this.xc.Gc(t)},t.prototype.Wc=function(t,e){var n,r,l,o,s,u,a,c=this,h=Date.now();return this.jc(t,this.params.Tc).next((function(e){return e>c.params.Ec?(g("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ec+" from "+e),r=c.params.Ec):r=e,o=Date.now(),c.Bc(t,r)})).next((function(r){return n=r,s=Date.now(),c.qc(t,n,e)})).next((function(e){return l=e,u=Date.now(),c.Qc(t,n)})).next((function(t){return a=Date.now(),p()<=i.DEBUG&&g("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+l+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-h)+"ms"),tr.resolve({gc:!0,bc:r,yc:l,_c:t})}))},t}(),Or=function(){function t(t,e){this.vo=t,this.serializer=e,this.zc=br.zo()}return t.prototype.$h=function(t){var e=this;return this.Kc(t).next((function(n){return n.highestTargetId=e.zc.after(n.highestTargetId),e.Hc(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.xh=function(t){return this.Kc(t).next((function(t){return at.L(new ut(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Jc=function(t){return Mr(t.xo)},t.prototype.Wh=function(t,e,n){var r=this;return this.Kc(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.q()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Hc(t,i)}))},t.prototype.Zh=function(t,e){var n=this;return this.Yc(t,e).next((function(){return n.Kc(t).next((function(r){return r.targetCount+=1,n.Xc(e,r),n.Hc(t,r)}))}))},t.prototype.Qh=function(t,e){return this.Yc(t,e)},t.prototype.$c=function(t,e){var n=this;return this.Zc(t,e.targetId).next((function(){return Dr(t).delete(e.targetId)})).next((function(){return n.Kc(t)})).next((function(e){return _(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.Hc(t,e)}))},t.prototype.qc=function(t,e,n){var r=this,i=0,l=[];return Dr(t).fo((function(o,s){var u=r.serializer.ta(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,l.push(r.$c(t,u)))})).next((function(){return tr.ks(l)})).next((function(){return i}))},t.prototype.Le=function(t,e){var n=this;return Dr(t).fo((function(t,r){var i=n.serializer.ta(r);e(i)}))},t.prototype.Kc=function(t){return Rr(t.xo)},t.prototype.Hc=function(t,e){return(n=t,gi.$s(n,ri.store)).put(ri.key,e);var n},t.prototype.Yc=function(t,e){return Dr(t).put(this.serializer.na(e))},t.prototype.Xc=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ia=function(t){return this.Kc(t).next((function(t){return t.targetCount}))},t.prototype.Xh=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),l=null;return Dr(t).fo({range:i,index:ei.queryTargetsIndexName},(function(t,r,i){var o=n.serializer.ta(r);e.isEqual(o.target)&&(l=o,i.done())})).next((function(){return l}))},t.prototype.Bh=function(t,e,n){var r=this,i=[],l=Lr(t);return e.forEach((function(e){var o=Wn(e.path);i.push(l.put(new ni(n,o))),i.push(r.vo.fs(t,e))})),tr.ks(i)},t.prototype.Lh=function(t,e,n){var r=this,i=Lr(t);return tr.forEach(e,(function(e){var l=Wn(e.path);return tr.ks([i.delete([n,l]),r.vo.ds(t,e)])}))},t.prototype.Zc=function(t,e){var n=Lr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ic=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lr(t),i=Xe();return r.fo({range:n,ao:!0},(function(t,e,n){var r=$n(t[1]),l=new ft(r);i=i.add(l)})).next((function(){return i}))},t.prototype.bs=function(t,e){var n=Wn(e.path),r=IDBKeyRange.bound([n],[C(n)],!1,!0),i=0;return Lr(t).fo({index:ni.documentTargetsIndex,ao:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ye=function(t,e){var n=this;return Dr(t).get(e).next((function(t){return t?n.serializer.ta(t):null}))},t}();function Dr(t){return gi.$s(t,ei.store)}function Rr(t){return ir.$s(t,ri.store).get(ri.key).next((function(t){return _(null!==t,"Missing metadata row."),t}))}function Mr(t){return Rr(t).next((function(t){return t.highestListenSequenceNumber}))}function Lr(t){return gi.$s(t,ni.store)}var Fr=function(){function t(t,e){this.serializer=t,this.do=e}return t.prototype.Us=function(t,e,n){return Ur(t).put(Vr(e),n)},t.prototype.js=function(t,e){var n=Ur(t),r=Vr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ea(t,r)}))},t.prototype.Ls=function(t,e){var n=this;return Ur(t).get(Vr(e)).next((function(t){return n.ra(t)}))},t.prototype.ua=function(t,e){var n=this;return Ur(t).get(Vr(e)).next((function(t){var e=n.ra(t);return e?{sa:e,size:qr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ke();return this.oa(t,e,(function(t,e){var i=n.ra(e);r=r.lt(t,i)})).next((function(){return r}))},t.prototype.ha=function(t,e){var n=this,r=Ke(),i=new gt(ft.G);return this.oa(t,e,(function(t,e){var l=n.ra(e);l?(r=r.lt(t,l),i=i.lt(t,qr(e))):(r=r.lt(t,null),i=i.lt(t,0))})).next((function(){return{ca:r,aa:i}}))},t.prototype.oa=function(t,e,n){if(e.J())return tr.resolve();var r=IDBKeyRange.bound(e.first().path.tt(),e.last().path.tt()),i=e.bt(),l=i.Rt();return Ur(t).fo({range:r},(function(t,e,r){for(var o=ft.at(t);l&&ft.G(l,o)<0;)n(l,null),l=i.Rt();l&&l.isEqual(o)&&(n(l,e),l=i.At()?i.Rt():null),l?r.uo(l.path.tt()):r.done()})).next((function(){for(;l;)n(l,null),l=i.At()?i.Rt():null}))},t.prototype.nh=function(t,e,n){var r=this;_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Qe(),l=e.path.length+1,o={};if(n.isEqual(at.MIN)){var s=e.path.tt();o.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.tt(),a=this.serializer.fa(n);o.range=IDBKeyRange.lowerBound([u,a],!0),o.index=Xr.collectionReadTimeIndex}return Ur(t).fo(o,(function(t,n,o){if(t.length===l){var s=r.serializer.la(n);e.path.$(s.key.path)?s instanceof oe&&e.matches(s)&&(i=i.lt(s.key,s)):o.done()}})).next((function(){return i}))},t.prototype.fc=function(t,e){var n=this,r=Ge(),i=this.serializer.fa(e),l=Ur(t),o=IDBKeyRange.lowerBound(i,!0);return l.fo({index:Xr.readTimeIndex,range:o},(function(t,e){var l=n.serializer.la(e);r=r.lt(l.key,l),i=e.readTime})).next((function(){return{lc:r,readTime:n.serializer.da(i)}}))},t.prototype.dc=function(t){var e=this,n=Ur(t),r=at.MIN;return n.fo({index:Xr.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.da(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Nh=function(e){return new t.va(this,!!e&&e.Oh)},t.prototype.wa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return jr(t).get(ti.key).next((function(t){return _(!!t,"Missing document cache metadata"),t}))},t.prototype.ea=function(t,e){return jr(t).put(ti.key,e)},t.prototype.ra=function(t){if(t){var e=this.serializer.la(t);return e instanceof se&&e.version.isEqual(at.B())?null:e}return null},t.va=function(t){function e(e,n){var r=t.call(this)||this;return r.ma=e,r.Oh=n,r.pa=new Xn((function(t){return t.toString()})),r}return o.__extends(e,t),e.prototype.qs=function(t){var e=this,n=[],r=0,i=new _t((function(t,e){return w(t.nt(),e.nt())}));return this.Ns.forEach((function(l,o){var s=e.pa.get(l);if(_(void 0!==s,"Cannot modify a document that wasn't read (for "+l+")"),o){_(!e.readTime.isEqual(at.MIN),"Cannot add a document with a read time of zero");var u=e.ma.serializer.ga(o,e.readTime);i=i.add(l.path.H());var a=qr(u);r+=a-s,n.push(e.ma.Us(t,l,u))}else if(r-=s,e.Oh){var c=e.ma.serializer.ga(new se(l,at.B()),e.readTime);n.push(e.ma.Us(t,l,c))}else n.push(e.ma.js(t,l))})),i.forEach((function(r){n.push(e.ma.do.Ro(t,r))})),n.push(this.ma.updateMetadata(t,r)),tr.ks(n)},e.prototype.Bs=function(t,e){var n=this;return this.ma.ua(t,e).next((function(t){return null===t?(n.pa.set(e,0),null):(n.pa.set(e,t.size),t.sa)}))},e.prototype.Ms=function(t,e){var n=this;return this.ma.ha(t,e).next((function(t){var e=t.ca;return t.aa.forEach((function(t,e){n.pa.set(t,e)})),e}))},e}(er),t}();function jr(t){return gi.$s(t,ti.store)}function Ur(t){return gi.$s(t,Xr.store)}function Vr(t){return t.path.tt()}function qr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var zr=function(){function t(){this.ba=new Hr}return t.prototype.Ro=function(t,e){return this.ba.add(e),tr.resolve()},t.prototype.uh=function(t,e){return tr.resolve(this.ba.getEntries(e))},t}(),Hr=function(){function t(){this.index={}}return t.prototype.add=function(t){_(t.length%2==1,"Expected a collection path.");var e=t.X(),n=t.H(),r=this.index[e]||new _t(ht.G),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.X(),n=t.H(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new _t(ht.G)).tt()},t}(),Br=9,Wr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_(n<r&&n>=0&&r<=Br,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var l=new or(e);n<1&&r>=1&&(function(t){t.createObjectStore(Kr.store)}(t),function(t){t.createObjectStore($r.store,{keyPath:$r.keyPath}),t.createObjectStore(Qr.store,{keyPath:Qr.keyPath,autoIncrement:!0}).createIndex(Qr.userMutationsIndex,Qr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Yr.store)}(t),li(t),function(t){t.createObjectStore(Xr.store)}(t));var o=tr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ni.store),t.deleteObjectStore(ei.store),t.deleteObjectStore(ri.store)}(t),li(t)),o=o.next((function(){return function(t){var e=t.store(ri.store),n=new ri(0,0,at.MIN.q(),0);return e.put(ri.key,n)}(l)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Qr.store).oo().next((function(n){t.deleteObjectStore(Qr.store),t.createObjectStore(Qr.store,{keyPath:Qr.keyPath,autoIncrement:!0}).createIndex(Qr.userMutationsIndex,Qr.userMutationsKeyPath,{unique:!0});var r=e.store(Qr.store),i=n.map((function(t){return r.put(t)}));return tr.ks(i)}))}(t,l)}))),o=o.next((function(){!function(t){t.createObjectStore(oi.store,{keyPath:oi.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(l)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(ti.store)}(t),i.addDocumentGlobal(l)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(l)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,l)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xr.store);e.createIndex(Xr.readTimeIndex,Xr.readTimeIndexPath,{unique:!1}),e.createIndex(Xr.collectionReadTimeIndex,Xr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Xr.store).fo((function(t,n){e+=qr(n)})).next((function(){var n=new ti(e);return t.store(ti.store).put(ti.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store($r.store),r=t.store(Qr.store);return n.oo().next((function(n){return tr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.oo(Qr.userMutationsIndex,i).next((function(r){return tr.forEach(r,(function(r){_(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.Do(r);return pr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ni.store),n=t.store(Xr.store);return Mr(t).next((function(t){var r=[];return n.fo((function(n,i){var l=new ht(n),o=function(t){return[0,Wn(t)]}(l);r.push(e.get(o).next((function(n){return n?tr.resolve():function(n){return e.put(new ni(0,Wn(n),t))}(l)})))})).next((function(){return tr.ks(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ii.store,{keyPath:ii.keyPath});var n=e.store(ii.store),r=new Hr,i=function(t){if(r.add(t)){var e=t.X(),i=t.H();return n.put({collectionId:e,parent:Wn(i)})}};return e.store(Xr.store).fo({ao:!0},(function(t,e){var n=new ht(t);return i(n.H())})).next((function(){return e.store(Yr.store).fo({ao:!0},(function(t,e){var n=$n(t[1]);return i(n.H())}))}))},t}(),Gr=function(t,e){this.seconds=t,this.nanoseconds=e},Kr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),$r=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Qr=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Yr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Wn(e)]},t.key=function(t,e,n){return[t,Wn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Zr=function(t,e){this.path=t,this.readTime=e},Jr=function(t,e){this.path=t,this.version=e},Xr=function(){function t(t,e,n,r,i,l){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=l}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),ti=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),ei=function(){function t(t,e,n,r,i,l,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=l,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),ni=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,_(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),ri=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),ii=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function li(t){t.createObjectStore(ni.store,{keyPath:ni.keyPath}).createIndex(ni.documentTargetsIndex,ni.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ei.store,{keyPath:ei.keyPath}).createIndex(ei.queryTargetsIndexName,ei.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ri.store)}var oi=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),si=o.__spreadArrays([$r.store,Qr.store,Yr.store,Xr.store,ei.store,Kr.store,ri.store,ni.store],[oi.store]),ui=o.__spreadArrays(si,[ti.store]),ai=o.__spreadArrays(ui,[ii.store]),ci=function(){function t(){this.ya=new Hr}return t.prototype.Ro=function(t,e){var n=this;if(_(e.length%2==1,"Expected a collection path."),!this.ya.has(e)){var r=e.X(),i=e.H();t.Gs((function(){n.ya.add(e)}));var l={collectionId:r,parent:Wn(i)};return hi(t).put(l)}return tr.resolve()},t.prototype.uh=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[C(e),""],!1,!0);return hi(t).oo(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var l=i[r];if(l.collectionId!==e)break;n.push($n(l.parent))}return n}))},t}();function hi(t){return gi.$s(t,ii.store)}var di=function(){function t(t){this._a=t}return t.prototype.la=function(t){if(t.document)return this._a.Er(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ft.at(t.noDocument.path),n=this.Ia(t.noDocument.readTime);return new se(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ft.at(t.unknownDocument.path),n=this.Ia(t.unknownDocument.version),new ue(e,n)):y("Unexpected DbRemoteDocument")},t.prototype.ga=function(t,e){var n=this.fa(e),r=t.key.path.H().tt();if(t instanceof oe){var i=t.proto?t.proto:this._a.Tr(t),l=t.hasCommittedMutations;return new Xr(null,null,i,l,n,r)}if(t instanceof se){var o=t.key.path.tt(),s=this.Ta(t.version);return l=t.hasCommittedMutations,new Xr(null,new Zr(o,s),null,l,n,r)}if(t instanceof ue){o=t.key.path.tt();var u=this.Ta(t.version);return new Xr(new Jr(o,u),null,null,!0,n,r)}return y("Unexpected MaybeDocument")},t.prototype.fa=function(t){var e=t.q();return[e.seconds,e.nanoseconds]},t.prototype.da=function(t){var e=new ut(t[0],t[1]);return at.L(e)},t.prototype.Ta=function(t){var e=t.q();return new Gr(e.seconds,e.nanoseconds)},t.prototype.Ia=function(t){var e=new ut(t.seconds,t.nanoseconds);return at.L(e)},t.prototype.Eo=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n._a.Nr(t)})),i=e.mutations.map((function(t){return n._a.Nr(t)}));return new Qr(t,e.batchId,e.jn.toMillis(),r,i)},t.prototype.Do=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e._a.xr(t)})),r=t.mutations.map((function(t){return e._a.xr(t)})),i=ut.fromMillis(t.localWriteTimeMs);return new Qn(t.batchId,i,n,r)},t.prototype.Ea=function(t){var e=[];return t.forEach((function(t){e.push(Wn(t.path))})),e},t.prototype.Ra=function(t){for(var e=Xe(),n=0,r=t;n<r.length;n++)e=e.add(new ft($n(r[n])));return e},t.prototype.ta=function(t){var e,n=this.Ia(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Ia(t.lastLimboFreeSnapshotVersion):at.MIN;return e=void 0!==t.query.documents?this._a.Gr(t.query):this._a.Jr(t.query),new Ve(e,t.targetId,De.Si,t.lastListenSequenceNumber,n,r,Me.fromBase64String(t.resumeToken))},t.prototype.na=function(t){_(De.Si===t.Vi,"Only queries with purpose "+De.Si+" may be stored, got "+t.Vi);var e,n=this.Ta(t.Ni),r=this.Ta(t.lastLimboFreeSnapshotVersion);e=t.target.zn()?this._a.Qr(t.target):this._a.Wr(t.target);var i=t.resumeToken.toBase64();return new ei(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),pi="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",fi=function(t){function e(e,n){var r=t.call(this)||this;return r.xo=e,r.Mh=n,r}return o.__extends(e,t),e}(rr),gi=function(){function t(e,n,r,i,l,o,s,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Aa=o,this.Da=u,this.Pa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Sa=null,this.inForeground=!1,this.Ca=null,this.ka=null,this.Va=Number.NEGATIVE_INFINITY,this.Na=function(t){return Promise.resolve()},this.vo=new yi(this,l),this.Oa=n+t.Fa,this.serializer=new di(s),this.document=i.document,this._h=new Or(this.vo,this.serializer),this.do=new ci,this.Ho=new Fr(this.serializer,this.do),!i.window||!i.window.localStorage)throw new A(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Ua=this.window.localStorage}return t.$s=function(t,e){if(t instanceof fi)return ir.$s(t.xo,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.xa=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!t.Hs())throw new A(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.ja,e.Aa,e.serializer,e.Da)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return _(!this.mh,"IndexedDbPersistence double-started!"),_(null!==this.window,"Expected 'window' to be defined"),ir.Ks(this.Oa,Br,new Wr(this.serializer)).then((function(e){return t.La=e,t.Ba()})).then((function(){return t.Ma(),t.qa(),t.Qa(),t.La.runTransaction("readonly-idempotent",[ri.store],(function(t){return Mr(t)}))})).then((function(e){t.Ga=new Fn(e,t.Da)})).then((function(){t.Pa=!0})).catch((function(e){return t.La&&t.La.close(),Promise.reject(e)}))},t.prototype.Wa=function(t){var e=this;return this.Na=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.mh?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.za=function(t){var e=this;this.La.Zs((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Aa.xu((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.mh?[4,this.Ba()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ba=function(){var t=this;return this.La.runTransaction("readwrite-idempotent",ai,(function(e){return vi(e).put(new oi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Ka(e).next((function(e){e||(t.isPrimary=!1,t.Aa.xu((function(){return t.Na(!1)})))}))})).next((function(){return t.Ha(e)})).next((function(n){return t.isPrimary&&!n?t.Ja(e).next((function(){return!1})):!!n&&t.Ya(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return g("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Aa.xu((function(){return t.Na(e)})),t.isPrimary=e}))},t.prototype.Ka=function(t){var e=this;return mi(t).get(Kr.key).next((function(t){return tr.resolve(e.Xa(t))}))},t.prototype.$a=function(t){return vi(t).delete(this.clientId)},t.prototype.Za=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.tf(this.Va,18e5)?[3,2]:(this.Va=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=t.$s(n,oi.store);return r.oo().next((function(t){var n=e.nf(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return tr.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.if(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.Qa=function(){var t=this;this.ka=this.Aa.Yu(Dn.Ru,4e3,(function(){return t.Ba().then((function(){return t.Za()})).then((function(){return t.Qa()}))}))},t.prototype.Xa=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ha=function(t){var e=this;return mi(t).get(Kr.key).next((function(n){if(null!==n&&e.tf(n.leaseTimestampMs,5e3)&&!e.ef(n.ownerId)){if(e.Xa(n)&&e.networkEnabled)return!0;if(!e.Xa(n)){if(!n.allowTabSynchronization)throw new A(x.FAILED_PRECONDITION,pi);return!1}}return!(!e.networkEnabled||!e.inForeground)||vi(t).oo().next((function(t){return void 0===e.nf(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&g("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this.Pa=!1,this.rf(),this.ka&&(this.ka.cancel(),this.ka=null),this.uf(),this.sf(),[4,this.La.runTransaction("readwrite-idempotent",[Kr.store,oi.store],(function(e){return t.Ja(e).next((function(){return t.$a(e)}))}))];case 1:return e.sent(),this.La.close(),this.hf(),[2]}}))}))},t.prototype.nf=function(t,e){var n=this;return t.filter((function(t){return n.tf(t.updateTimeMs,e)&&!n.ef(t.clientId)}))},t.prototype.uc=function(){var t=this;return this.La.runTransaction("readonly-idempotent",[oi.store],(function(e){return vi(e).oo().next((function(e){return t.nf(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t.Hs()?[4,ir.delete(e+t.Fa)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"mh",{get:function(){return this.Pa},enumerable:!0,configurable:!0}),t.prototype.gh=function(t){return _(this.mh,"Cannot initialize MutationQueue before persistence is started."),hr.mo(t,this.serializer,this.do,this.vo)},t.prototype.Ih=function(){return _(this.mh,"Cannot initialize TargetCache before persistence is started."),this._h},t.prototype.yh=function(){return _(this.mh,"Cannot initialize RemoteDocumentCache before persistence is started."),this.Ho},t.prototype.Eh=function(){return _(this.mh,"Cannot initialize IndexManager before persistence is started."),this.do},t.prototype.runTransaction=function(t,e,n){var r=this;g("IndexedDbPersistence","Starting transaction:",t);var i,l=e.endsWith("idempotent"),o=e.startsWith("readonly")?l?"readonly-idempotent":"readonly":l?"readwrite-idempotent":"readwrite";return this.La.runTransaction(o,ai,(function(l){return i=new fi(l,r.Ga.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.Ka(l).next((function(t){return!!t||r.Ha(l)})).next((function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Aa.xu((function(){return r.Na(!1)})),new A(x.FAILED_PRECONDITION,nr);return n(i)})).next((function(t){return r.Ya(l).next((function(){return t}))})):r.cf(l).next((function(){return n(i)}))})).then((function(t){return i.Ws(),t}))},t.prototype.cf=function(t){var e=this;return mi(t).get(Kr.key).next((function(t){if(null!==t&&e.tf(t.leaseTimestampMs,5e3)&&!e.ef(t.ownerId)&&!e.Xa(t)&&!t.allowTabSynchronization)throw new A(x.FAILED_PRECONDITION,pi)}))},t.prototype.Ya=function(t){var e=new Kr(this.clientId,this.allowTabSynchronization,Date.now());return mi(t).put(Kr.key,e)},t.Hs=function(){return ir.Hs()},t.af=function(t){var e=t.s.projectId;return t.s.o||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.Ja=function(t){var e=this,n=mi(t);return n.get(Kr.key).next((function(t){return e.Xa(t)?(g("IndexedDbPersistence","Releasing primary lease."),n.delete(Kr.key)):tr.resolve()}))},t.prototype.tf=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ma=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ca=function(){t.Aa.xu((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ba()}))},this.document.addEventListener("visibilitychange",this.Ca),this.inForeground="visible"===this.document.visibilityState)},t.prototype.uf=function(){this.Ca&&(_(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.Ca),this.Ca=null)},t.prototype.qa=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Sa=function(){t.rf(),t.Aa.xu((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Sa))},t.prototype.sf=function(){this.Sa&&(_("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Sa),this.Sa=null)},t.prototype.ef=function(t){try{var e=null!==this.Ua.getItem(this.if(t));return g("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return m("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.rf=function(){try{this.Ua.setItem(this.if(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.hf=function(){try{this.Ua.removeItem(this.if(this.clientId))}catch(t){}},t.prototype.if=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.Fa="main",t}();function mi(t){return t.store(Kr.store)}function vi(t){return t.store(oi.store)}var yi=function(){function t(t,e){this.db=t,this.ff=null,this.Vc=new Pr(this,e)}return t.prototype.Lc=function(t){var e=this.lf(t);return this.db.Ih().ia(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.lf=function(t){var e=0;return this.Mc(t,(function(t){e++})).next((function(){return e}))},t.prototype.Le=function(t,e){return this.db.Ih().Le(t,e)},t.prototype.Mc=function(t,e){return this.df(t,(function(t,n){return e(n)}))},t.prototype.ph=function(t){this.ff=t},t.prototype.fs=function(t,e){return _i(t,e)},t.prototype.ds=function(t,e){return _i(t,e)},t.prototype.qc=function(t,e,n){return this.db.Ih().qc(t,e,n)},t.prototype.Lo=function(t,e){return _i(t,e)},t.prototype.vf=function(t,e){return this.ff.bs(e)?tr.resolve(!0):function(t,e){var n=!1;return mr(t).lo((function(r){return dr(t,r,e).next((function(t){return t&&(n=!0),tr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Qc=function(t,e){var n=this,r=this.db.yh().Nh(),i=[],l=0;return this.df(t,(function(o,s){if(s<=e){var u=n.vf(t,o).next((function(e){if(!e)return l++,r.Ls(t,o).next((function(){return r.js(o),Lr(t).delete([0,Wn(o.path)])}))}));i.push(u)}})).next((function(){return tr.ks(i)})).next((function(){return r.apply(t)})).next((function(){return l}))},t.prototype.removeTarget=function(t,e){var n=e.Oi(t.Mh);return this.db.Ih().Qh(t,n)},t.prototype.Gh=function(t,e){return _i(t,e)},t.prototype.df=function(t,e){var n,r=Lr(t),i=Fn.gu;return r.fo({index:ni.documentTargetsIndex},(function(t,r){var l=r.path,o=r.sequenceNumber;0===t[0]?(i!==Fn.gu&&e(new ft($n(n)),i),i=o,n=l):i=Fn.gu})).next((function(){i!==Fn.gu&&e(new ft($n(n)),i)}))},t.prototype.Gc=function(t){return this.db.yh().wa(t)},t}();function _i(t,e){return Lr(t).put(function(t,e){return new ni(0,Wn(t.path),e)}(e,t.Mh))}var bi,wi,ki=function(){function t(){}return t.prototype.Rh=function(t){this.wf=t},t.prototype.nh=function(t,e,n,r){var l=this;return _(void 0!==this.wf,"setLocalDocumentsView() not called"),e.fi()?this.mf(t,e):n.isEqual(at.MIN)?this.mf(t,e):this.wf.Zo(t,r).next((function(o){var s=l.pf(e,o);return(e.gi()||e.bi())&&l.gf(e.Yn,s,r,n)?l.mf(t,e):(p()<=i.DEBUG&&g("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),l.wf.nh(t,e,n).next((function(t){return s.forEach((function(e){t=t.lt(e.key,e)})),t})))}))},t.prototype.pf=function(t,e){var n=new _t((function(e,n){return t.di(e,n)}));return e.forEach((function(e,r){r instanceof oe&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.gf=function(t,e,n,r){if(n.size!==e.size)return!0;var i=t===ge.Kn?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.h(r)>0)},t.prototype.mf=function(t,e){return p()<=i.DEBUG&&g("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.wf.nh(t,e,at.MIN)},t}(),Ci=function(){function t(t,e){this.do=t,this.vo=e,this.Jo=[],this.bf=1,this.lastStreamToken=Me.Pi,this.yf=new _t(Jn.Bn)}return t.prototype.po=function(t){return tr.resolve(0===this.Jo.length)},t.prototype.bo=function(t,e,n){var r=e.batchId,i=this._f(r,"acknowledged");_(0===i,"Can only acknowledge the first batch in the mutation queue");var l=this.Jo[i];return _(r===l.batchId,"Queue ordering failure: expected batch "+r+", got batch "+l.batchId),this.lastStreamToken=n,tr.resolve()},t.prototype._o=function(t){return tr.resolve(this.lastStreamToken)},t.prototype.Io=function(t,e){return this.lastStreamToken=e,tr.resolve()},t.prototype.To=function(t,e,n,r){_(0!==r.length,"Mutation batches should not be empty");var i=this.bf;this.bf++,this.Jo.length>0&&_(this.Jo[this.Jo.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var l=new Qn(i,e,n,r);this.Jo.push(l);for(var o=0,s=r;o<s.length;o++){var u=s[o];this.yf=this.yf.add(new Jn(u.key,i)),this.do.Ro(t,u.key.path.H())}return tr.resolve(l)},t.prototype.Ao=function(t,e){return tr.resolve(this.If(e))},t.prototype.Po=function(t,e){var n=this.If(e);return _(null!=n,"Failed to find local mutation batch."),tr.resolve(n.keys())},t.prototype.So=function(t,e){var n=this.Tf(e+1),r=n<0?0:n;return tr.resolve(this.Jo.length>r?this.Jo[r]:null)},t.prototype.Co=function(){return tr.resolve(0===this.Jo.length?-1:this.bf-1)},t.prototype.ko=function(t){return tr.resolve(this.Jo.slice())},t.prototype.Vo=function(t,e){var n=this,r=new Jn(e,0),i=new Jn(e,Number.POSITIVE_INFINITY),l=[];return this.yf.Lt([r,i],(function(t){_(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.If(t.ys);_(null!==r,"Batches in the index must exist in the main table"),l.push(r)})),tr.resolve(l)},t.prototype.No=function(t,e){var n=this,r=new _t(w);return e.forEach((function(t){var e=new Jn(t,0),i=new Jn(t,Number.POSITIVE_INFINITY);n.yf.Lt([e,i],(function(e){_(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.ys)}))})),tr.resolve(this.Ef(r))},t.prototype.Fo=function(t,e){_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ft.ht(i)||(i=i.child(""));var l=new Jn(new ft(i),0),o=new _t(w);return this.yf.Bt((function(t){var e=t.key.path;return!!n.$(e)&&(e.length===r&&(o=o.add(t.ys)),!0)}),l),tr.resolve(this.Ef(o))},t.prototype.Ef=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.If(t);null!==r&&n.push(r)})),n},t.prototype.Uo=function(t,e){var n=this;_(0===this._f(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.Jo.shift();var r=this.yf;return tr.forEach(e.mutations,(function(i){var l=new Jn(i.key,e.batchId);return r=r.delete(l),n.vo.Lo(t,i.key)})).next((function(){n.yf=r}))},t.prototype.jo=function(t){},t.prototype.bs=function(t,e){var n=new Jn(e,0),r=this.yf.Mt(n);return tr.resolve(e.isEqual(r&&r.key))},t.prototype.Bo=function(t){return 0===this.Jo.length&&_(this.yf.J(),"Document leak -- detected dangling mutation references when queue is empty."),tr.resolve()},t.prototype._f=function(t,e){var n=this.Tf(t);return _(n>=0&&n<this.Jo.length,"Batches must exist to be "+e),n},t.prototype.Tf=function(t){return 0===this.Jo.length?0:t-this.Jo[0].batchId},t.prototype.If=function(t){var e=this.Tf(t);if(e<0||e>=this.Jo.length)return null;var n=this.Jo[e];return _(n.batchId===t,"If found batch must match"),n},t}(),Ei=function(){function t(t,e){this.do=t,this.Rf=e,this.docs=new gt(ft.G),this.size=0}return t.prototype.Us=function(t,e,n){_(!n.isEqual(at.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),l=i?i.size:0,o=this.Rf(e);return this.docs=this.docs.lt(r,{sa:e,size:o,readTime:n}),this.size+=o-l,this.do.Ro(t,r.path.H())},t.prototype.js=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ls=function(t,e){var n=this.docs.get(e);return tr.resolve(n?n.sa:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ke();return e.forEach((function(t){var e=n.docs.get(t);r=r.lt(t,e?e.sa:null)})),tr.resolve(r)},t.prototype.nh=function(t,e,n){_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Qe(),i=new ft(e.path.child("")),l=this.docs.yt(i);l.At();){var o=l.Rt(),s=o.value,u=s.sa,a=s.readTime;if(!e.path.$(o.key.path))break;a.h(n)<=0||u instanceof oe&&e.matches(u)&&(r=r.lt(u.key,u))}return tr.resolve(r)},t.prototype.Af=function(t,e){return tr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.fc=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.dc=function(t){return tr.resolve(at.MIN)},t.prototype.Nh=function(e){return new t.va(this)},t.prototype.wa=function(t){return tr.resolve(this.size)},t.va=function(t){function e(e){var n=t.call(this)||this;return n.ma=e,n}return o.__extends(e,t),e.prototype.qs=function(t){var e=this,n=[];return this.Ns.forEach((function(r,i){i?n.push(e.ma.Us(t,i,e.readTime)):e.ma.js(r)})),tr.ks(n)},e.prototype.Bs=function(t,e){return this.ma.Ls(t,e)},e.prototype.Ms=function(t,e){return this.ma.getEntries(t,e)},e}(er),t}(),Ti=function(){function t(t){this.persistence=t,this.Df=new Xn((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=at.MIN,this.highestTargetId=0,this.Pf=0,this.Sf=new Zn,this.targetCount=0,this.zc=br.zo()}return t.prototype.Le=function(t,e){return this.Df.forEach((function(t,n){return e(n)})),tr.resolve()},t.prototype.xh=function(t){return tr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Jc=function(t){return tr.resolve(this.Pf)},t.prototype.$h=function(t){var e=this.zc.after(this.highestTargetId);return this.highestTargetId=e,tr.resolve(e)},t.prototype.Wh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Pf&&(this.Pf=e),tr.resolve()},t.prototype.Yc=function(t){this.Df.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Pf&&(this.Pf=t.sequenceNumber)},t.prototype.Zh=function(t,e){return _(!this.Df.has(e.target),"Adding a target that already exists"),this.Yc(e),this.targetCount+=1,tr.resolve()},t.prototype.Qh=function(t,e){return _(this.Df.has(e.target),"Updating a non-existent target"),this.Yc(e),tr.resolve()},t.prototype.$c=function(t,e){return _(this.targetCount>0,"Removing a target from an empty cache"),_(this.Df.has(e.target),"Removing a non-existent target from the cache"),this.Df.delete(e.target),this.Sf.ms(e.targetId),this.targetCount-=1,tr.resolve()},t.prototype.qc=function(t,e,n){var r=this,i=0,l=[];return this.Df.forEach((function(o,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Df.delete(o),l.push(r.Zc(t,s.targetId)),i++)})),tr.ks(l).next((function(){return i}))},t.prototype.ia=function(t){return tr.resolve(this.targetCount)},t.prototype.Xh=function(t,e){var n=this.Df.get(e)||null;return tr.resolve(n)},t.prototype.Ye=function(t,e){return y("Not yet implemented.")},t.prototype.Bh=function(t,e,n){this.Sf.ls(e,n);var r=this.persistence.vo,i=[];return r&&e.forEach((function(e){i.push(r.fs(t,e))})),tr.ks(i)},t.prototype.Lh=function(t,e,n){this.Sf.ws(e,n);var r=this.persistence.vo,i=[];return r&&e.forEach((function(e){i.push(r.ds(t,e))})),tr.ks(i)},t.prototype.Zc=function(t,e){return this.Sf.ms(e),tr.resolve()},t.prototype.ic=function(t,e){var n=this.Sf.gs(e);return tr.resolve(n)},t.prototype.bs=function(t,e){return tr.resolve(this.Sf.bs(e))},t}(),Si=function(){function t(t,e){var n=this;this.clientId=t,this.Cf={},this.Ga=new Fn(0),this.Pa=!1,this.Pa=!0,this.vo=e(this),this._h=new Ti(this),this.do=new zr,this.Ho=new Ei(this.do,(function(t){return n.vo.kf(t)}))}return t.Vf=function(e,n){return new t(e,(function(t){return new Ai(t,n)}))},t.Nf=function(e){return new t(e,(function(t){return new xi(t)}))},t.prototype.shutdown=function(){return this.Pa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"mh",{get:function(){return this.Pa},enumerable:!0,configurable:!0}),t.prototype.uc=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.Wa=function(t){return t(!0)},t.prototype.za=function(){},t.prototype.oc=function(t){},t.prototype.Eh=function(){return this.do},t.prototype.gh=function(t){var e=this.Cf[t.v()];return e||(e=new Ci(this.do,this.vo),this.Cf[t.v()]=e),e},t.prototype.Ih=function(){return this._h},t.prototype.yh=function(){return this.Ho},t.prototype.runTransaction=function(t,e,n){var r=this;g("MemoryPersistence","Starting transaction:",t);var i=new Ii(this.Ga.next());return this.vo.Of(),n(i).next((function(t){return r.vo.Ff(i).next((function(){return t}))})).Ss().then((function(t){return i.Ws(),t}))},t.prototype.Uf=function(t,e){return tr.Vs((n=this.Cf,r=[],U(n,(function(t,e){return r.push(e)})),r).map((function(n){return function(){return n.bs(t,e)}})));var n,r},t}(),Ii=function(t){function e(e){var n=t.call(this)||this;return n.Mh=e,n}return o.__extends(e,t),e}(rr),xi=function(){function t(t){this.persistence=t,this.ff=null,this.xf=null}return Object.defineProperty(t.prototype,"jf",{get:function(){if(this.xf)return this.xf;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.ph=function(t){this.ff=t},t.prototype.fs=function(t,e){return this.jf.delete(e),tr.resolve()},t.prototype.ds=function(t,e){return this.jf.add(e),tr.resolve()},t.prototype.Lo=function(t,e){return this.jf.add(e),tr.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.Ih();return r.ic(t,e.targetId).next((function(t){t.forEach((function(t){return n.jf.add(t)}))})).next((function(){return r.$c(t,e)}))},t.prototype.Of=function(){this.xf=new Set},t.prototype.Ff=function(t){var e=this,n=this.persistence.yh().Nh();return tr.forEach(this.jf,(function(r){return e.Lf(t,r).next((function(t){t||n.js(r)}))})).next((function(){return e.xf=null,n.apply(t)}))},t.prototype.Gh=function(t,e){var n=this;return this.Lf(t,e).next((function(t){t?n.jf.delete(e):n.jf.add(e)}))},t.prototype.kf=function(t){return 0},t.prototype.Lf=function(t,e){var n=this;return tr.Vs([function(){return n.persistence.Ih().bs(t,e)},function(){return n.persistence.Uf(t,e)},function(){return tr.resolve(n.ff.bs(e))}])},t}(),Ai=function(){function t(t,e){this.persistence=t,this.ff=null,this.Bf=new Xn((function(t){return Wn(t.path)})),this.Vc=new Pr(this,e)}return t.prototype.Of=function(){},t.prototype.Ff=function(t){return tr.resolve()},t.prototype.Le=function(t,e){return this.persistence.Ih().Le(t,e)},t.prototype.Lc=function(t){var e=this.Mf(t);return this.persistence.Ih().ia(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Mf=function(t){var e=0;return this.Mc(t,(function(t){e++})).next((function(){return e}))},t.prototype.Mc=function(t,e){var n=this;return tr.forEach(this.Bf,(function(r,i){return n.vf(t,r,i).next((function(t){return t?tr.resolve():e(i)}))}))},t.prototype.ph=function(t){this.ff=t},t.prototype.qc=function(t,e,n){return this.persistence.Ih().qc(t,e,n)},t.prototype.Qc=function(t,e){var n=this,r=0,i=this.persistence.yh(),l=i.Nh();return i.Af(t,(function(i){return n.vf(t,i,e).next((function(t){t||(r++,l.js(i))}))})).next((function(){return l.apply(t)})).next((function(){return r}))},t.prototype.Lo=function(t,e){return this.Bf.set(e,t.Mh),tr.resolve()},t.prototype.removeTarget=function(t,e){var n=e.Oi(t.Mh);return this.persistence.Ih().Qh(t,n)},t.prototype.fs=function(t,e){return this.Bf.set(e,t.Mh),tr.resolve()},t.prototype.ds=function(t,e){return this.Bf.set(e,t.Mh),tr.resolve()},t.prototype.Gh=function(t,e){return this.Bf.set(e,t.Mh),tr.resolve()},t.prototype.kf=function(t){var e=t.key.toString().length;return t instanceof oe&&(e+=t.data().Nn()),e},t.prototype.vf=function(t,e,n){var r=this;return tr.Vs([function(){return r.persistence.Uf(t,e)},function(){return tr.resolve(r.ff.bs(e))},function(){return r.persistence.Ih().bs(t,e)},function(){var t=r.Bf.get(e);return tr.resolve(void 0!==t&&t>n)}])},t.prototype.Gc=function(t){return this.persistence.yh().wa(t)},t}(),Ni=1e3,Pi=1.5,Oi=6e4,Di=function(){function t(t,e,n,r,i){void 0===n&&(n=Ni),void 0===r&&(r=Pi),void 0===i&&(i=Oi),this.Aa=t,this.Su=e,this.qf=n,this.Qf=r,this.Gf=i,this.Wf=0,this.zf=null,this.Kf=Date.now(),this.reset()}return t.prototype.reset=function(){this.Wf=0},t.prototype.Hf=function(){this.Wf=this.Gf},t.prototype.Jf=function(t){var e=this;this.cancel();var n=Math.floor(this.Wf+this.Yf()),r=Math.max(0,Date.now()-this.Kf),i=Math.max(0,n-r);this.Wf>0&&g("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Wf+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zf=this.Aa.Yu(this.Su,i,(function(){return e.Kf=Date.now(),t()})),this.Wf*=this.Qf,this.Wf<this.qf&&(this.Wf=this.qf),this.Wf>this.Gf&&(this.Wf=this.Gf)},t.prototype.cancel=function(){null!==this.zf&&(this.zf.cancel(),this.zf=null)},t.prototype.Yf=function(){return(Math.random()-.5)*this.Wf},t}();(wi=bi||(bi={}))[wi.Xf=0]="__PRIVATE_Initial",wi[wi.$f=1]="__PRIVATE_Starting",wi[wi.Zf=2]="__PRIVATE_Open",wi[wi.Error=3]="Error",wi[wi.tl=4]="__PRIVATE_Backoff";var Ri,Mi,Li=function(){function t(t,e,n,r,i,l){this.Aa=t,this.nl=n,this.connection=r,this.il=i,this.listener=l,this.state=bi.Xf,this.el=0,this.rl=null,this.stream=null,this.ul=new Di(t,e)}return t.prototype.sl=function(){return this.state===bi.$f||this.state===bi.Zf||this.state===bi.tl},t.prototype.ol=function(){return this.state===bi.Zf},t.prototype.start=function(){this.state!==bi.Error?(_(this.state===bi.Xf,"Already started"),this.auth()):this.hl()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.sl()?[4,this.close(bi.Xf)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cl=function(){_(!this.sl(),"Can only inhibit backoff in a stopped state"),this.state=bi.Xf,this.ul.reset()},t.prototype.al=function(){var t=this;this.ol()&&null===this.rl&&(this.rl=this.Aa.Yu(this.nl,6e4,(function(){return t.fl()})))},t.prototype.ll=function(t){this.dl(),this.stream.send(t)},t.prototype.fl=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.ol()?[2,this.close(bi.Xf)]:[2]}))}))},t.prototype.dl=function(){this.rl&&(this.rl.cancel(),this.rl=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return _(this.sl(),"Only started streams should be closed."),_(t===bi.Error||pe(e),"Can't provide an error when not in an error state."),this.dl(),this.ul.cancel(),this.el++,t!==bi.Error?this.ul.reset():e&&e.code===x.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.ul.Hf()):e&&e.code===x.UNAUTHENTICATED&&this.il.I(),null!==this.stream&&(this.vl(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.wl(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.vl=function(){},t.prototype.auth=function(){var t=this;_(this.state===bi.Xf,"Must be in initial state to auth"),this.state=bi.$f;var e=this.ml(this.el),n=this.el;this.il.getToken().then((function(e){t.el===n&&t.pl(e)}),(function(n){e((function(){var e=new A(x.UNKNOWN,"Fetching auth token failed: "+n.message);return t.gl(e)}))}))},t.prototype.pl=function(t){var e=this;_(this.state===bi.$f,"Trying to start stream in a non-starting state");var n=this.ml(this.el);this.stream=this.bl(t),this.stream.yl((function(){n((function(){return _(e.state===bi.$f,"Expected stream to be in state Starting, but was "+e.state),e.state=bi.Zf,e.listener.yl()}))})),this.stream.wl((function(t){n((function(){return e.gl(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hl=function(){var t=this;_(this.state===bi.Error,"Should only perform backoff when in Error state"),this.state=bi.tl,this.ul.Jf((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return _(this.state===bi.tl,"Backoff elapsed but state is now: "+this.state),this.state=bi.Xf,this.start(),_(this.sl(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.gl=function(t){return _(this.sl(),"Can't handle server close on non-started stream"),g("PersistentStream","close with error: "+t),this.stream=null,this.close(bi.Error,t)},t.prototype.ml=function(t){var e=this;return function(n){e.Aa.xu((function(){return e.el===t?n():(g("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Fi=function(t){function e(e,n,r,i,l){var o=t.call(this,e,Dn._u,Dn.yu,n,r,l)||this;return o.serializer=i,o}return o.__extends(e,t),e.prototype.bl=function(t){return this.connection._l("Listen",t)},e.prototype.onMessage=function(t){this.ul.reset();var e=this.serializer.Cr(t),n=this.serializer.Vr(t);return this.listener.Il(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.wr,e.addTarget=this.serializer.li(t);var n=this.serializer.Zr(t);n&&(e.labels=n),this.ll(e)},e.prototype.Tl=function(t){var e={};e.database=this.serializer.wr,e.removeTarget=t,this.ll(e)},e}(Li),ji=function(t){function e(e,n,r,i,l){var o=t.call(this,e,Dn.Tu,Dn.Iu,n,r,l)||this;return o.serializer=i,o.El=!1,o.lastStreamToken=Me.Pi,o}return o.__extends(e,t),Object.defineProperty(e.prototype,"Rl",{get:function(){return this.El},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.El=!1,t.prototype.start.call(this)},e.prototype.vl=function(){this.El&&this.Al([])},e.prototype.bl=function(t){return this.connection._l("Write",t)},e.prototype.onMessage=function(t){if(_(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.er(t.streamToken),this.El){this.ul.reset();var e=this.serializer.qr(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Dl(n,e)}return _(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.El=!0,this.listener.Pl()},e.prototype.Sl=function(){_(this.ol(),"Writing handshake requires an opened stream"),_(!this.El,"Handshake already completed");var t={};t.database=this.serializer.wr,this.ll(t)},e.prototype.Al=function(t){var e=this;_(this.ol(),"Writing mutations requires an opened stream"),_(this.El,"Handshake must be complete before writing mutations"),_(this.lastStreamToken.Nn()>0,"Trying to write mutation without a token");var n={streamToken:this.serializer.ir(this.lastStreamToken),writes:t.map((function(t){return e.serializer.Nr(t)}))};this.ll(n)},e}(Li),Ui=function(){function t(t,e,n,r){this.Aa=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.Cl=function(t){return new ji(this.Aa,this.connection,this.credentials,this.serializer,t)},t.prototype.kl=function(t){return new Fi(this.Aa,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.wr,writes:t.map((function(t){return e.serializer.Nr(t)}))};return this.Vl("Commit",n).then((function(t){return e.serializer.qr(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.wr,documents:t.map((function(t){return e.serializer.cr(t)}))};return this.Nl("BatchGetDocuments",n).then((function(n){var r=Ge();n.forEach((function(t){var n=e.serializer.Dr(t);r=r.lt(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);_(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.Vl=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Vl(t,e,r)})).catch((function(t){throw t.code===x.UNAUTHENTICATED&&n.credentials.I(),t}))},t.prototype.Nl=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Nl(t,e,r)})).catch((function(t){throw t.code===x.UNAUTHENTICATED&&n.credentials.I(),t}))},t}(),Vi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new A(x.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+lt(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(W("FieldPath","string",n,t[n]),0===t[n].length)throw new A(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Ol=new pt(t)}return t.documentId=function(){return t.Fl},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","FieldPath",1,e);return this.Ol.isEqual(e.Ol)},t.Fl=new t(pt.st().nt()),t}(),qi=new RegExp("[~\\*/\\[\\]]"),zi=function(){function t(t){this.Ul=t}return t.delete=function(){return q("FieldValue.delete",arguments),Hi.instance},t.serverTimestamp=function(){return q("FieldValue.serverTimestamp",arguments),Bi.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return H("FieldValue.arrayUnion",arguments,1),new Wi(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return H("FieldValue.arrayRemove",arguments,1),new Gi(t)},t.increment=function(t){return W("FieldValue.increment","number",1,t),z("FieldValue.increment",arguments,1),new Ki(t)},t.prototype.isEqual=function(t){return this===t},t}(),Hi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(zi),Bi=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(zi),Wi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n.xl=e,n}return o.__extends(e,t),e}(zi),Gi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n.xl=e,n}return o.__extends(e,t),e}(zi),Ki=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n.jl=e,n}return o.__extends(e,t),e}(zi),$i=Nn(zi,"Use FieldValue.<field>() instead."),Qi=/^__.*__$/,Yi=function(){function t(t,e,n){this.data=t,this.on=e,this.fieldTransforms=n}return t.prototype.Ll=function(t,e){var n=[];return n.push(null!==this.on?new jt(t,this.data,this.on,e):new Ft(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ut(t,this.fieldTransforms)),n},t}(),Zi=function(){function t(t,e,n){this.data=t,this.on=e,this.fieldTransforms=n}return t.prototype.Ll=function(t,e){var n=[new jt(t,this.data,this.on,e)];return this.fieldTransforms.length>0&&n.push(new Ut(t,this.fieldTransforms)),n},t}();function Ji(t){switch(t){case Ri.Set:case Ri.Bl:case Ri.Ml:return!0;case Ri.ql:case Ri.Ql:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}(Mi=Ri||(Ri={}))[Mi.Set=0]="Set",Mi[Mi.Ml=1]="__PRIVATE_Update",Mi[Mi.Bl=2]="__PRIVATE_MergeSet",Mi[Mi.ql=3]="__PRIVATE_Argument",Mi[Mi.Ql=4]="__PRIVATE_ArrayArgument";var Xi=function(){function t(t,e,n,r,i,l){this.Gl=t,this.methodName=e,this.path=n,this.Wl=r,void 0===i&&this.zl(),this.Wl=void 0!==r&&r,this.fieldTransforms=i||[],this.on=l||[]}return t.prototype.Kl=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Gl,this.methodName,n,!1,this.fieldTransforms,this.on);return r.Hl(e),r},t.prototype.Jl=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Gl,this.methodName,n,!1,this.fieldTransforms,this.on);return r.zl(),r},t.prototype.Yl=function(e){return new t(this.Gl,this.methodName,null,!0,this.fieldTransforms,this.on)},t.prototype.Xl=function(t){var e=null===this.path||this.path.J()?"":" (found in field "+this.path.toString()+")";return new A(x.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.on.find((function(e){return t.$(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.$(e.field)}))},t.prototype.zl=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.Hl(this.path.get(t))},t.prototype.Hl=function(t){if(0===t.length)throw this.Xl("Document fields must not be empty");if(Ji(this.Gl)&&Qi.test(t))throw this.Xl('Document fields cannot begin and end with "__"')},t}(),tl=function(t,e){this.s=t,this.key=e},el=function(){function t(t){this.$l=t}return t.prototype.Zl=function(t,e){var n=new Xi(Ri.Set,t,pt.et);rl("Data must be an object, but it was:",n,e);var r=this.td(e,n);return new Yi(r,null,n.fieldTransforms)},t.prototype.nd=function(t,e,n){var r=new Xi(Ri.Bl,t,pt.et);rl("Data must be an object, but it was:",r,e);var i,l,o=this.td(e,r);if(n){for(var s=new _t(pt.G),u=0,a=n;u<a.length;u++){var c=a[u],h=void 0;if(c instanceof Vi)h=c.Ol;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=ll(t,c)}if(!r.contains(h))throw new A(x.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=xt.Jt(s),l=r.fieldTransforms.filter((function(t){return i.Xt(t.field)}))}else i=xt.Yt(r.on),l=r.fieldTransforms;return new Yi(o,i,l)},t.prototype.ed=function(t,e){var n=this,r=new Xi(Ri.Ml,t,pt.et);rl("Data must be an object, but it was:",r,e);var i=new _t(pt.G),l=ne.mn();U(e,(function(e,o){var s=ll(t,e),u=r.Jl(s);if((o=n.rd(o,u))instanceof Hi)i=i.add(s);else{var a=n.td(o,u);null!=a&&(i=i.add(s),l.set(s,a))}}));var o=xt.Jt(i);return new Zi(l.fn(),o,r.fieldTransforms)},t.prototype.ud=function(t,e,n,r){var i=new Xi(Ri.Ml,t,pt.et),l=[il(t,e)],o=[n];if(r.length%2!=0)throw new A(x.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)l.push(il(t,r[s])),o.push(r[s+1]);var u=new _t(pt.G),a=ne.mn();for(s=0;s<l.length;++s){var c=l[s],h=i.Jl(c),d=this.rd(o[s],h);if(d instanceof Hi)u=u.add(c);else{var p=this.td(d,h);null!=p&&(u=u.add(c),a.set(c,p))}}var f=xt.Jt(u);return new Zi(a.fn(),f,i.fieldTransforms)},t.prototype.sd=function(t,e,n){void 0===n&&(n=!1);var r=new Xi(n?Ri.Ql:Ri.ql,t,pt.et),i=this.td(e,r);return _(null!=i,"Parsed data should not be null."),_(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.rd=function(t,e){try{return this.$l(t)}catch(t){var n=ol(t);throw e.Xl(n)}},t.prototype.td=function(t,e){if(nl(t=this.rd(t,e)))return rl("Unsupported field value:",e,t),this.od(t,e);if(t instanceof zi)return this.hd(t,e),null;if(e.path&&e.on.push(e.path),t instanceof Array){if(e.Wl&&e.Gl!==Ri.Ql)throw e.Xl("Nested arrays are not supported");return this.ad(t,e)}return this.fd(t,e)},t.prototype.od=function(t,e){var n=this,r=new gt(w);return V(t)?e.path&&e.path.length>0&&e.on.push(e.path):U(t,(function(t,i){var l=n.td(i,e.Kl(t));null!=l&&(r=r.lt(t,l))})),new ne(r)},t.prototype.ad=function(t,e){for(var n=[],r=0,i=0,l=t;i<l.length;i++){var o=this.td(l[i],e.Yl(r));null==o&&(o=Bt.On),n.push(o),r++}return new ie(n)},t.prototype.hd=function(t,e){if(!Ji(e.Gl))throw e.Xl(t.Ul+"() can only be used with update() and set()");if(null===e.path)throw e.Xl(t.Ul+"() is not currently supported inside arrays");if(t instanceof Hi){if(e.Gl!==Ri.Bl)throw e.Gl===Ri.Ml?(_(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.Xl("FieldValue.delete() can only appear at the top level of your update data")):e.Xl("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.on.push(e.path)}else if(t instanceof Bi)e.fieldTransforms.push(new At(e.path,wt.instance));else if(t instanceof Wi){var n=this.ld(t.Ul,t.xl),r=new kt(n);e.fieldTransforms.push(new At(e.path,r))}else if(t instanceof Gi){n=this.ld(t.Ul,t.xl);var i=new Ct(n);e.fieldTransforms.push(new At(e.path,i))}else if(t instanceof Ki){var l=this.sd("FieldValue.increment",t.jl),o=new Et(l);e.fieldTransforms.push(new At(e.path,o))}else y("Unknown FieldValue type: "+t)},t.prototype.fd=function(t,e){if(null===t)return Bt.On;if("number"==typeof t)return fe(t)?new $t(t):new Qt(t);if("boolean"==typeof t)return Wt.of(t);if("string"==typeof t)return new Yt(t);if(t instanceof Date)return new Zt(ut.fromDate(t));if(t instanceof ut)return new Zt(new ut(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof ot)return new ee(t);if(t instanceof Mn)return new Xt(t);if(t instanceof tl)return new te(t.s,t.key);throw e.Xl("Unsupported field value: "+X(t))},t.prototype.ld=function(t,e){var n=this;return e.map((function(e,r){var i=new Xi(Ri.ql,t,pt.et);return n.td(e,i.Yl(r))}))},t}();function nl(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof ot||t instanceof Mn||t instanceof tl||t instanceof zi)}function rl(t,e,n){if(!nl(n)||!J(n)){var r=X(n);throw e.Xl("an object"===r?t+" a custom object":t+" "+r)}}function il(t,e){if(e instanceof Vi)return e.Ol;if("string"==typeof e)return ll(t,e);throw new A(x.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function ll(t,e){try{return function(t){if(t.search(qi)>=0)throw new A(x.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Vi.bind.apply(Vi,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new A(x.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Ol}catch(r){var n=ol(r);throw new A(x.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function ol(t){return t instanceof Error?t.message:t.toString()}var sl=function(){function t(t){this.dd=t,this.vd=Ze(),this.mutations=[],this.wd=!1,this.md=null,this.pd=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this.gd(),this.mutations.length>0)throw new A(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.dd.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof se||t instanceof oe?n.bd(t):y("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Ll(t,this.rn(t))),this.pd.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ll(t,this.yd(t)))}catch(t){this.md=t}this.pd.add(t)},t.prototype.delete=function(t){this.write([new Vt(t,this.rn(t))]),this.pd.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this.gd(),this.md)throw this.md;return t=this.vd,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new qt(t,e.rn(t)))})),[4,this.dd.commit(this.mutations)];case 1:return n.sent(),this.wd=!0,[2]}}))}))},t.prototype.bd=function(t){var e;if(t instanceof oe)e=t.version;else{if(!(t instanceof se))throw y("Document in a transaction was a "+t.constructor.name);e=at.B()}var n=this.vd.get(t.key);if(null!==n){if(!e.isEqual(n))throw new A(x.ABORTED,"Document version changed between two reads.")}else this.vd=this.vd.lt(t.key,e)},t.prototype.rn=function(t){var e=this.vd.get(t);return!this.pd.has(t)&&e?Mt.updateTime(e):Mt.NONE},t.prototype.yd=function(t){var e=this.vd.get(t);if(!this.pd.has(t)&&e){if(e.isEqual(at.B()))throw new A(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mt.updateTime(e)}return Mt.exists(!0)},t.prototype.write=function(t){this.gd(),this.mutations=this.mutations.concat(t)},t.prototype.gd=function(){_(!this.wd,"A transaction object cannot be used after its update callback has been invoked.")},t}(),ul=function(){function t(t,e){this.Pu=t,this._d=e,this.state="Unknown",this.Id=0,this.Td=null,this.Ed=!0}return t.prototype.Rd=function(){var t=this;0===this.Id&&(this.Ad("Unknown"),_(null===this.Td,"onlineStateTimer shouldn't be started yet"),this.Td=this.Pu.Yu(Dn.Eu,1e4,(function(){return t.Td=null,_("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Dd("Backend didn't respond within 10 seconds."),t.Ad("Offline"),Promise.resolve()})))},t.prototype.Pd=function(t){"Online"===this.state?(this.Ad("Unknown"),_(0===this.Id,"watchStreamFailures must be 0"),_(null===this.Td,"onlineStateTimer must be null")):(this.Id++,this.Id>=1&&(this.Sd(),this.Dd("Connection failed 1 times. Most recent error: "+t.toString()),this.Ad("Offline")))},t.prototype.set=function(t){this.Sd(),this.Id=0,"Online"===t&&(this.Ed=!1),this.Ad(t)},t.prototype.Ad=function(t){t!==this.state&&(this.state=t,this._d(t))},t.prototype.Dd=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ed?(m(e),this.Ed=!1):g("OnlineStateTracker",e)},t.prototype.Sd=function(){null!==this.Td&&(this.Td.cancel(),this.Td=null)},t}(),al="RemoteStore",cl=function(){function t(t,e,n,r,i){var l=this;this.Nc=t,this.dd=e,this.Cd=[],this.kd={},this.Vd=null,this.networkEnabled=!1,this.isPrimary=!1,this.Nd=i,this.Nd.Od((function(t){n.xu((function(){return o.__awaiter(l,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Fd()?(g(al,"Restarting streams for network reachability change."),[4,this.Ud()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.xd=new ul(n,r),this.jd=this.dd.kl({yl:this.Ld.bind(this),wl:this.Bd.bind(this),Il:this.Md.bind(this)}),this.qd=this.dd.Cl({yl:this.Qd.bind(this),wl:this.Gd.bind(this),Pl:this.Wd.bind(this),Dl:this.Dl.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.Fd()?(t=this.qd,[4,this.Nc._o()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.zd()?this.Kd():this.xd.set("Unknown"),[4,this.Hd()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.xd.set("Offline"),[2]}}))}))},t.prototype.Jd=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.qd.stop()];case 1:return t.sent(),[4,this.jd.stop()];case 2:return t.sent(),this.Cd.length>0&&(g(al,"Stopping write stream with "+this.Cd.length+" pending writes"),this.Cd=[]),this.Yd(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return g(al,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.Nd.shutdown(),this.xd.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){L(this.kd,t.targetId)||(this.kd[t.targetId]=t,this.zd()?this.Kd():this.jd.ol()&&this.Xd(t))},t.prototype.$d=function(t){_(L(this.kd,t),"unlisten called on target no currently watched: "+t),delete this.kd[t],this.jd.ol()&&this.Zd(t),V(this.kd)&&(this.jd.ol()?this.jd.al():this.Fd()&&this.xd.set("Unknown"))},t.prototype.Ye=function(t){return this.kd[t]||null},t.prototype.Je=function(t){return this.tv.Je(t)},t.prototype.Xd=function(t){this.Vd.De(t.targetId),this.jd.watch(t)},t.prototype.Zd=function(t){this.Vd.De(t),this.jd.Tl(t)},t.prototype.Kd=function(){_(this.zd(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Vd=new yn(this),this.jd.start(),this.xd.Rd()},t.prototype.zd=function(){return this.Fd()&&!this.jd.sl()&&!V(this.kd)},t.prototype.Fd=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Yd=function(){this.Vd=null},t.prototype.Ld=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return j(this.kd,(function(e,n){t.Xd(n)})),[2]}))}))},t.prototype.Bd=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&_(!this.zd(),"Watch stream was stopped gracefully while still needed."),this.Yd(),this.zd()?(this.xd.Pd(t),this.Kd()):this.xd.set("Unknown"),[2]}))}))},t.prototype.Md=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.xd.set("Online"),t instanceof mn&&t.state===un.Mi&&t.cause?[2,this.nv(t)]:(t instanceof fn?this.Vd.Fe(t):t instanceof gn?this.Vd.Qe(t):(_(t instanceof mn,"Expected watchChange to be an instance of WatchTargetChange"),this.Vd.je(t)),e.isEqual(at.MIN)?[3,3]:[4,this.Nc.xh()]);case 1:return n=r.sent(),e.h(n)>=0?[4,this.iv(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.iv=function(t){var e=this;_(!t.isEqual(at.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.Vd.ze(t);return j(n.Zi,(function(n,r){if(r.resumeToken.Nn()>0){var i=e.kd[n];i&&(e.kd[n]=i.Fi(r.resumeToken,t))}})),n.te.forEach((function(t){var n=e.kd[t];if(n){e.kd[t]=n.Fi(Me.Pi,n.Ni),e.Zd(t);var r=new Ve(n.target,t,De.Ci,n.sequenceNumber);e.Xd(r)}})),this.tv.jh(n)},t.prototype.nv=function(t){var e=this;_(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return L(this.kd,t)?(delete this.kd[t],this.Vd.removeTarget(t),[2,this.tv.ev(t,n)]):[2]}))}))}))})),r},t.prototype.Hd=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.rv()?[4,this.Nc.Hh(this.Cd.length>0?this.Cd[this.Cd.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.Cd.length&&this.qd.al(),[3,4]);case 2:return this.uv(t),[4,this.Hd()];case 3:e.sent(),e.label=4;case 4:return this.sv()&&this.ov(),[2]}}))}))},t.prototype.rv=function(){return this.Fd()&&this.Cd.length<10},t.prototype.hv=function(){return this.Cd.length},t.prototype.uv=function(t){_(this.rv(),"addToWritePipeline called when pipeline is full"),this.Cd.push(t),this.qd.ol()&&this.qd.Rl&&this.qd.Al(t.mutations)},t.prototype.sv=function(){return this.Fd()&&!this.qd.sl()&&this.Cd.length>0},t.prototype.ov=function(){_(this.sv(),"startWriteStream() called when shouldStartWriteStream() is false."),this.qd.start()},t.prototype.Qd=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.qd.Sl(),[2]}))}))},t.prototype.Wd=function(){var t=this;return this.Nc.Io(this.qd.lastStreamToken).then((function(){for(var e=0,n=t.Cd;e<n.length;e++)t.qd.Al(n[e].mutations)})).catch(Tr)},t.prototype.Dl=function(t,e){var n=this;_(this.Cd.length>0,"Got result for empty write pipeline");var r=this.Cd.shift(),i=Yn.from(r,t,e,this.qd.lastStreamToken);return this.tv.cv(i).then((function(){return n.Hd()}))},t.prototype.Gd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&_(!this.sv(),"Write stream was stopped gracefully while still needed."),t&&this.Cd.length>0?[2,(this.qd.Rl?this.av(t):this.fv(t)).then((function(){e.sv()&&e.ov()}))]:[2]}))}))},t.prototype.fv=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return ze(t.code)?(g(al,"RemoteStore error before completed handshake; resetting stream token: ",this.qd.lastStreamToken),this.qd.lastStreamToken=Me.Pi,[2,this.Nc.Io(Me.Pi).catch(Tr)]):[2]}))}))},t.prototype.av=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){return ze(i=t.code)&&i!==x.ABORTED?(e=this.Cd.shift(),this.qd.cl(),[2,this.tv.lv(e.batchId,t).then((function(){return n.Hd()}))]):[2];var i}))}))},t.prototype.dv=function(){return new sl(this.dd)},t.prototype.Ud=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.xd.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.vv=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Fd()?(g(al,"RemoteStore restarting streams for new credential"),[4,this.Ud()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.wv=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.Jd()];case 3:e.sent(),this.xd.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}(),hl="firestore_clients";function dl(t,e){return _(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),hl+"_"+t+"_"+e}var pl="firestore_mutations";function fl(t,e,n){var r=pl+"_"+t+"_"+n;return e.l()&&(r+="_"+e.uid),r}var gl="firestore_targets";function ml(t,e){return gl+"_"+t+"_"+e}var vl="firestore_online_state",yl="firestore_sequence_number",_l="SharedClientState",bl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,_(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.mv=function(e,n,r){var i=JSON.parse(r),l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new A(i.error.code,i.error.message)),l?new t(e,n,i.state,o):(m(_l,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.pv=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,_(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.mv=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),l=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(l=new A(r.error.code,r.error.message)),i?new t(e,r.state,l):(m(_l,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.pv=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),kl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.mv=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,l=en(),o=0;i&&o<r.activeTargetIds.length;++o)i=fe(r.activeTargetIds[o]),l=l.add(r.activeTargetIds[o]);return i?new t(e,l):(m(_l,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Cl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.mv=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(m(_l,"Failed to parse online state: "+e),null)},t}(),El=function(){function t(){this.activeTargetIds=en()}return t.prototype.gv=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.bv=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.pv=function(){var t={activeTargetIds:this.activeTargetIds.tt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Tl=function(){function t(e,n,r,i,l){if(this.Aa=e,this.platform=n,this.persistenceKey=r,this.yv=i,this.tv=null,this._d=null,this.vu=null,this._v={},this.Iv=this.Tv.bind(this),this.mh=!1,this.Ev=[],!t.Hs(this.platform))throw new A(x.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=l,this.Rv=dl(this.persistenceKey,this.yv),this.Av=function(t){return yl+"_"+t}(this.persistenceKey),this._v[this.yv]=new El,this.Dv=new RegExp("^"+hl+"_"+o+"_([^_]*)$"),this.Pv=new RegExp("^"+pl+"_"+o+"_(\\d+)(?:_(.*))?$"),this.Sv=new RegExp("^"+gl+"_"+o+"_(\\d+)$"),this.Cv=function(t){return vl+"_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Iv)}return t.Hs=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,l,s,u,a,c,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return _(!this.mh,"WebStorageSharedClientState already started"),_(null!==this.tv,"syncEngine property must be set before calling start()"),_(null!==this._d,"onlineStateHandler property must be set before calling start()"),[4,this.tv.uc()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.yv&&(i=this.getItem(dl(this.persistenceKey,r)))&&(l=kl.mv(r,i))&&(this._v[l.clientId]=l);for(this.kv(),(s=this.storage.getItem(this.Cv))&&(u=this.Vv(s))&&this.Nv(u),a=0,c=this.Ev;a<c.length;a++)this.Tv(c[a]);return this.Ev=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.mh=!0,[2]}}))}))},t.prototype.pu=function(t){this.setItem(this.Av,JSON.stringify(t))},t.prototype.Ov=function(){var t=en();return U(this._v,(function(e,n){t=t.qt(n.activeTargetIds)})),t},t.prototype.Fv=function(t){for(var e in this._v)if(this._v.hasOwnProperty(e)&&this._v[e].activeTargetIds.has(t))return!0;return!1},t.prototype.Uv=function(t){this.xv(t,"pending")},t.prototype.jv=function(t,e,n){this.xv(t,e,n),this.Lv(t)},t.prototype.Bv=function(t){var e="not-current";if(this.Fv(t)){var n=this.storage.getItem(ml(this.persistenceKey,t));if(n){var r=wl.mv(t,n);r&&(e=r.state)}}return this.Mv.gv(t),this.kv(),e},t.prototype.qv=function(t){this.Mv.bv(t),this.kv()},t.prototype.Qv=function(t){return this.Mv.activeTargetIds.has(t)},t.prototype.Gv=function(t){this.removeItem(ml(this.persistenceKey,t))},t.prototype.Wv=function(t,e,n){this.zv(t,e,n)},t.prototype.Dh=function(t,e,n){var r=this;e.forEach((function(t){r.Lv(t)})),this.currentUser=t,n.forEach((function(t){r.Uv(t)}))},t.prototype.Kv=function(t){this.Hv(t)},t.prototype.shutdown=function(){this.mh&&(this.platform.window.removeEventListener("storage",this.Iv),this.removeItem(this.Rv),this.mh=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return g(_l,"READ",t,e),e},t.prototype.setItem=function(t,e){g(_l,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){g(_l,"REMOVE",t),this.storage.removeItem(t)},t.prototype.Tv=function(t){var e=this;if(t.storageArea===this.storage){if(g(_l,"EVENT",t.key,t.newValue),t.key===this.Rv)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Aa.xu((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,l,s;return o.__generator(this,(function(o){if(!this.mh)return this.Ev.push(t),[2];if(null===t.key)return[2];if(this.Dv.test(t.key)){if(null==t.newValue)return n=this.Jv(t.key),[2,this.Yv(n,null)];if(e=this.Xv(t.key,t.newValue))return[2,this.Yv(e.clientId,e)]}else if(this.Pv.test(t.key)){if(null!==t.newValue&&(r=this.$v(t.key,t.newValue)))return[2,this.Zv(r)]}else if(this.Sv.test(t.key)){if(null!==t.newValue&&(i=this.tw(t.key,t.newValue)))return[2,this.nw(i)]}else if(t.key===this.Cv){if(null!==t.newValue&&(l=this.Vv(t.newValue)))return[2,this.Nv(l)]}else t.key===this.Av&&(_(!!this.vu,"Missing sequenceNumberHandler"),(s=function(t){var e=Fn.gu;if(null!=t)try{var n=JSON.parse(t);_("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){m(_l,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Fn.gu&&this.vu(s));return[2]}))}))}))}},Object.defineProperty(t.prototype,"Mv",{get:function(){return this._v[this.yv]},enumerable:!0,configurable:!0}),t.prototype.kv=function(){this.setItem(this.Rv,this.Mv.pv())},t.prototype.xv=function(t,e,n){var r=new bl(this.currentUser,t,e,n),i=fl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.pv())},t.prototype.Lv=function(t){var e=fl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Hv=function(t){this.storage.setItem(this.Cv,JSON.stringify({clientId:this.yv,onlineState:t}))},t.prototype.zv=function(t,e,n){var r=ml(this.persistenceKey,t),i=new wl(t,e,n);this.setItem(r,i.pv())},t.prototype.Jv=function(t){var e=this.Dv.exec(t);return e?e[1]:null},t.prototype.Xv=function(t,e){var n=this.Jv(t);return _(null!==n,"Cannot parse client state key '"+t+"'"),kl.mv(n,e)},t.prototype.$v=function(t,e){var n=this.Pv.exec(t);_(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return bl.mv(new I(void 0!==n[2]?n[2]:null),r,e)},t.prototype.tw=function(t,e){var n=this.Sv.exec(t);_(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return wl.mv(r,e)},t.prototype.Vv=function(t){return Cl.mv(t)},t.prototype.Zv=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(g(_l,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.tv.iw(t.batchId,t.state,t.error)]}))}))},t.prototype.nw=function(t){return this.tv.ew(t.targetId,t.state,t.error)},t.prototype.Yv=function(t,e){var n=this,r=this.Ov();e?this._v[t]=e:delete this._v[t];var i=this.Ov(),l=[],s=[];return i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||l.push(t),[2]}))}))})),r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||s.push(t),[2]}))}))})),this.tv.rw(l,s)},t.prototype.Nv=function(t){this._v[t.clientId]&&this._d(t.onlineState)},t}(),Sl=function(){function t(){this.uw=new El,this.sw={},this.tv=null,this._d=null,this.vu=null}return t.prototype.Uv=function(t){},t.prototype.jv=function(t,e,n){},t.prototype.Bv=function(t){return this.uw.gv(t),this.sw[t]||"not-current"},t.prototype.Wv=function(t,e,n){this.sw[t]=e},t.prototype.qv=function(t){this.uw.bv(t)},t.prototype.Qv=function(t){return this.uw.activeTargetIds.has(t)},t.prototype.Gv=function(t){delete this.sw[t]},t.prototype.Ov=function(){return this.uw.activeTargetIds},t.prototype.Fv=function(t){return this.uw.activeTargetIds.has(t)},t.prototype.start=function(){return this.uw=new El,Promise.resolve()},t.prototype.Dh=function(t,e,n){},t.prototype.Kv=function(t){},t.prototype.shutdown=function(){},t.prototype.pu=function(t){},t}(),Il=function(t){this.key=t},xl=function(t){this.key=t},Al=function(){function t(t,e){this.query=t,this.ow=e,this.hw=null,this.ue=!1,this.cw=Xe(),this.Ji=Xe(),this.aw=new sn(t.di.bind(t))}return Object.defineProperty(t.prototype,"fw",{get:function(){return this.ow},enumerable:!0,configurable:!0}),t.prototype.lw=function(t,e){var n=this,r=e?e.dw:new cn,i=e?e.aw:this.aw,l=e?e.Ji:this.Ji,o=i,s=!1,u=this.query.gi()&&i.size===this.query.limit?i.last():null,a=this.query.bi()&&i.size===this.query.limit?i.first():null;if(t.pt((function(t,e){var c=i.get(t),h=e instanceof oe?e:null;h&&(_(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var d=!!c&&n.Ji.has(c.key),p=!!h&&(h.un||n.Ji.has(h.key)&&h.hasCommittedMutations),f=!1;c&&h?c.data().isEqual(h.data())?d!==p&&(r.track({type:nn.Qi,doc:h}),f=!0):n.vw(c,h)||(r.track({type:nn.qi,doc:h}),f=!0,(u&&n.query.di(h,u)>0||a&&n.query.di(h,a)<0)&&(s=!0)):!c&&h?(r.track({type:nn.Bi,doc:h}),f=!0):c&&!h&&(r.track({type:nn.Mi,doc:c}),f=!0,(u||a)&&(s=!0)),f&&(h?(o=o.add(h),l=p?l.add(t):l.delete(t)):(o=o.delete(t),l=l.delete(t)))})),this.query.gi()||this.query.bi())for(;o.size>this.query.limit;){var c=this.query.gi()?o.last():o.first();o=o.delete(c.key),l=l.delete(c.key),r.track({type:nn.Mi,doc:c})}return _(!s||!e,"View was refilled using docs that themselves needed refilling."),{aw:o,dw:r,gf:s,Ji:l}},t.prototype.vw=function(t,e){return t.un&&e.hasCommittedMutations&&!e.un},t.prototype.qs=function(t,e,n){var r=this;_(!t.gf,"Cannot apply changes that need a refill");var i=this.aw;this.aw=t.aw,this.Ji=t.Ji;var l=t.dw.Ki();l.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case nn.Bi:return 1;case nn.qi:case nn.Qi:return 2;case nn.Mi:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.di(t.doc,e.doc)})),this.ww(n);var o=e?this.mw():[],s=0===this.cw.size&&this.ue?ln.Wi:ln.Gi,u=s!==this.hw;return this.hw=s,0!==l.length||u?{snapshot:new hn(this.query,t.aw,i,l,t.Ji,s===ln.Gi,u,!1),pw:o}:{pw:o}},t.prototype.gw=function(t){return this.ue&&"Offline"===t?(this.ue=!1,this.qs({aw:this.aw,dw:new cn,Ji:this.Ji,gf:!1},!1)):{pw:[]}},t.prototype.bw=function(t){return!this.ow.has(t)&&!!this.aw.has(t)&&!this.aw.get(t).un},t.prototype.ww=function(t){var e=this;t&&(t.se.forEach((function(t){return e.ow=e.ow.add(t)})),t.oe.forEach((function(t){return _(e.ow.has(t),"Modified document "+t+" not found in view.")})),t.he.forEach((function(t){return e.ow=e.ow.delete(t)})),this.ue=t.ue)},t.prototype.mw=function(){var t=this;if(!this.ue)return[];var e=this.cw;this.cw=Xe(),this.aw.forEach((function(e){t.bw(e.key)&&(t.cw=t.cw.add(e.key))}));var n=[];return e.forEach((function(e){t.cw.has(e)||n.push(new xl(e))})),this.cw.forEach((function(t){e.has(t)||n.push(new Il(t))})),n},t.prototype.yw=function(t){this.ow=t.ec,this.cw=Xe();var e=this.lw(t.documents);return this.qs(e,!0)},t.prototype._w=function(){return hn.$i(this.query,this.aw,this.Ji,this.hw===ln.Gi)},t}(),Nl=5,Pl=function(){function t(t,e,n,r){this.Pu=t,this.Iw=e,this.updateFunction=n,this.Vu=r,this.Tw=Nl,this.ul=new Di(this.Pu,Dn.Du)}return t.prototype.run=function(){this.Ew()},t.prototype.Ew=function(){var t=this;this.ul.Jf((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(r){return t=this.Iw.dv(),(e=this.Rw(t))&&e.then((function(e){n.Pu.xu((function(){return t.commit().then((function(){n.Vu.resolve(e)})).catch((function(t){n.Aw(t)}))}))})).catch((function(t){n.Aw(t)})),[2]}))}))}))},t.prototype.Rw=function(t){try{var e=this.updateFunction(t);return!pe(e)&&e.catch&&e.then?e:(this.Vu.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Vu.reject(t),null}},t.prototype.Aw=function(t){var e=this;this.Tw>0&&this.Dw(t)?(this.Tw-=1,this.Pu.xu((function(){return e.Ew(),Promise.resolve()}))):this.Vu.reject(t)},t.prototype.Dw=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ze(e)}return!1},t}(),Ol=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Dl=function(t){this.key=t,this.Pw=!1},Rl=function(){function t(t,e,n,r){this.Nc=t,this.Iw=e,this.Sw=n,this.currentUser=r,this.Cw=null,this.kw=new Xn((function(t){return t.canonicalId()})),this.Vw={},this.Nw=new gt(ft.G),this.Ow={},this.Fw=new Zn,this.Uw={},this.xw=new Map,this.jw=br.Ko(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"Lw",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){_(null!==t,"SyncEngine listener cannot be null"),_(null===this.Cw,"SyncEngine already has a subscriber."),this.Cw=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,l;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Bw("listen()"),(r=this.kw.get(t))?(this.Sw.Bv(e=r.targetId),n=r.view._w(),[3,4]):[3,1];case 1:return[4,this.Nc.Yh(t.li())];case 2:return i=o.sent(),l=this.Sw.Bv(i.targetId),[4,this.Mw(t,e=i.targetId,"current"===l)];case 3:n=o.sent(),this.isPrimary&&this.Iw.listen(i),o.label=4;case 4:return this.Cw.Il([n]),[2,e]}}))}))},t.prototype.Mw=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,l,s,u,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.Nc.nc(t,!0)];case 1:return r=o.sent(),i=new Al(t,r.ec),l=i.lw(r.documents),s=pn.re(e,n&&"Offline"!==this.onlineState),_(0===(u=i.qs(l,!0===this.isPrimary,s)).pw.length,"View returned limbo docs before target ack from the server."),_(!!u.snapshot,"applyChanges for new view should always return a snapshot"),a=new Ol(t,e,i),this.kw.set(t,a),this.Vw[e]||(this.Vw[e]=[]),this.Vw[e].push(t),[2,u.snapshot]}}))}))},t.prototype.qw=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Nc.nc(t.query,!0)];case 1:return e=r.sent(),n=t.view.yw(e),this.isPrimary&&this.Qw(t.targetId,n.pw),[2,n]}}))}))},t.prototype.$d=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Bw("unlisten()"),_(!!(e=this.kw.get(t)),"Trying to unlisten on query not found:"+t),(n=this.Vw[e.targetId]).length>1?(this.Vw[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.kw.delete(t),[2]):this.isPrimary?(this.Sw.qv(e.targetId),this.Sw.Fv(e.targetId)?[3,2]:[4,this.Nc.tc(e.targetId,!1).then((function(){r.Sw.Gv(e.targetId),r.Iw.$d(e.targetId),r.Gw(e.targetId)})).catch(Tr)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Gw(e.targetId),[4,this.Nc.tc(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Bw("write()"),[4,this.Nc.kh(t)];case 1:return n=r.sent(),this.Sw.Uv(n.batchId),this.Ww(n.batchId,e),[4,this.zw(n.Ns)];case 2:return r.sent(),[4,this.Iw.Hd()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Pl(t,this.Iw,e,n).run()},t.prototype.jh=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.Bw("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Nc.jh(t)];case 2:return e=r.sent(),U(t.Zi,(function(t,e){var r=n.Ow[Number(t)];r&&(_(e.se.size+e.oe.size+e.he.size<=1,"Limbo resolution for single document contains multiple changes."),e.se.size>0?r.Pw=!0:e.oe.size>0?_(r.Pw,"Received change for limbo target document without add."):e.he.size>0&&(_(r.Pw,"Received remove for limbo target document without add."),r.Pw=!1))})),[4,this.zw(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Tr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.gw=function(t,e){if(this.isPrimary&&e===ye.Ri||!this.isPrimary&&e===ye.Ai){this.Bw("applyOnlineStateChange()");var n=[];this.kw.forEach((function(e,r){var i=r.view.gw(t);_(0===i.pw.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.Cw.Kw(t),this.Cw.Il(n),this.onlineState=t,this.isPrimary&&this.Sw.Kv(t)}},t.prototype.ev=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,l,s,u=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Bw("rejectListens()"),this.Sw.Wv(t,"rejected",e),(r=(n=this.Ow[t])&&n.key)?(this.Nw=this.Nw.remove(r),delete this.Ow[t],i=(i=new gt(ft.G)).lt(r,new se(r,at.B())),l=Xe().add(r),s=new dn(at.MIN,{},new _t(w),i,l),[2,this.jh(s)]):[3,1];case 1:return[4,this.Nc.tc(t,!1).then((function(){return u.Gw(t,e)})).catch(Tr)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.iw=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Bw("applyBatchState()"),[4,this.Nc.Vh(t)];case 1:return null===(r=i.sent())?(g("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Iw.Hd()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.Hw(t,n||null),this.Nc.sc(t)):y("Unknown batchState: "+e),i.label=4;case 4:return[4,this.zw(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.cv=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Bw("applySuccessfulWrite()"),this.Hw(e=t.batch.batchId,null),this.Jw(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Nc.bo(t)];case 2:return n=r.sent(),this.Sw.jv(e,"acknowledged"),[4,this.zw(n)];case 3:return r.sent(),[3,6];case 4:return[4,Tr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.lv=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Bw("rejectFailedWrite()"),this.Hw(t,e),this.Jw(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Nc.Uh(t)];case 2:return n=r.sent(),this.Sw.jv(t,"rejected",e),[4,this.zw(n)];case 3:return r.sent(),[3,6];case 4:return[4,Tr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Yw=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Iw.Fd()||g("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.Nc.Co()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.xw.get(e)||[]).push(t),this.xw.set(e,n),[2])}}))}))},t.prototype.Jw=function(t){(this.xw.get(t)||[]).forEach((function(t){t.resolve()})),this.xw.delete(t)},t.prototype.Xw=function(t){this.xw.forEach((function(e){e.forEach((function(e){e.reject(new A(x.CANCELLED,t))}))})),this.xw.clear()},t.prototype.Ww=function(t,e){var n=this.Uw[this.currentUser.v()];n||(n=new gt(w)),n=n.lt(t,e),this.Uw[this.currentUser.v()]=n},t.prototype.Hw=function(t,e){var n=this.Uw[this.currentUser.v()];if(n){var r=n.get(t);r&&(_(t===n.vt(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.Uw[this.currentUser.v()]=n}},t.prototype.Gw=function(t,e){var n=this;void 0===e&&(e=null),this.Sw.qv(t),_(this.Vw[t]&&0!==this.Vw[t].length,"There are no queries mapped to target id "+t);for(var r=0,i=this.Vw[t];r<i.length;r++){var l=i[r];this.kw.delete(l),e&&this.Cw.$w(l,e)}if(delete this.Vw[t],this.isPrimary){var o=this.Fw.gs(t);this.Fw.ms(t),o.forEach((function(t){n.Fw.bs(t)||n.Zw(t)}))}},t.prototype.Zw=function(t){var e=this.Nw.get(t);null!==e&&(this.Iw.$d(e),this.Nw=this.Nw.remove(t),delete this.Ow[e])},t.prototype.Qw=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Il?(this.Fw.fs(i.key,t),this.tm(i)):i instanceof xl?(g("SyncEngine","Document no longer in limbo: "+i.key),this.Fw.ds(i.key,t),this.Fw.bs(i.key)||this.Zw(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.tm=function(t){var e=t.key;if(!this.Nw.get(e)){g("SyncEngine","New document in limbo: "+e);var n=this.jw.next(),r=be.ti(e.path);this.Ow[n]=new Dl(e),this.Iw.listen(new Ve(r.li(),n,De.ki,Fn.gu)),this.Nw=this.Nw.lt(e,n)}},t.prototype.nm=function(){return this.Nw},t.prototype.zw=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.kw.forEach((function(o,s){i.push(Promise.resolve().then((function(){var e=s.view.lw(t);return e.gf?l.Nc.nc(s.query,!1).then((function(t){return s.view.lw(t.documents,e)})):e})).then((function(t){var i=s.view.qs(t,!0===l.isPrimary,e&&e.Zi[s.targetId]);if(l.Qw(s.targetId,i.pw),i.snapshot){l.isPrimary&&l.Sw.Wv(s.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var o=kr.ah(s.targetId,i.snapshot);r.push(o)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.Cw.Il(n),[4,this.Nc.Kh(r)];case 2:return o.sent(),[2]}}))}))},t.prototype.Bw=function(t){_(null!==this.Cw,"Trying to call "+t+" before calling subscribe().")},t.prototype.vv=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Xw("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.Nc.Dh(t)]):[3,3];case 1:return n=r.sent(),this.Sw.Dh(t,n.Sh,n.Ch),[4,this.zw(n.Ph)];case 2:r.sent(),r.label=3;case 3:return[4,this.Iw.vv()];case 4:return r.sent(),[2]}}))}))},t.prototype.wv=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,l,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Iw.wv(!0)]);case 1:return o.sent(),i=this.Sw.Ov(),[4,this.im(i.tt())];case 2:for(e=o.sent(),n=0,r=e;n<r.length;n++)this.Iw.listen(r[n]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,i=[],l=Promise.resolve(),j(this.Vw,(function(t,e){s.Sw.Qv(t)?i.push(t):l=l.then((function(){return s.Gw(t),s.Nc.tc(t,!0)})),s.Iw.$d(t)})),[4,l]);case 4:return o.sent(),[4,this.im(i)];case 5:return o.sent(),this.em(),[4,this.Iw.wv(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.em=function(){var t=this;j(this.Ow,(function(e){t.Iw.$d(e)})),this.Fw.ps(),this.Ow=[],this.Nw=new gt(ft.G)},t.prototype.im=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,l,s,u,a,c,h,d,p,f;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],r=0,i=t,o.label=1;case 1:return r<i.length?(s=void 0,(u=this.Vw[l=i[r]])&&0!==u.length?[4,this.Nc.tc(l,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.Nc.Yh(u[0].li())];case 3:s=o.sent(),a=0,c=u,o.label=4;case 4:return a<c.length?(_(!!(d=this.kw.get(h=c[a])),"No query view found for "+h),[4,this.qw(d)]):[3,7];case 5:(p=o.sent()).snapshot&&n.push(p.snapshot),o.label=6;case 6:return a++,[3,4];case 7:return[3,12];case 8:return _(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.Nc.ac(l)];case 9:return _(!!(f=o.sent()),"Target for id "+l+" not found"),[4,this.Nc.Yh(f)];case 10:return s=o.sent(),[4,this.Mw(this.rm(f),l,!1)];case 11:o.sent(),o.label=12;case 12:e.push(s),o.label=13;case 13:return r++,[3,1];case 14:return this.Cw.Il(n),[2,e]}}))}))},t.prototype.rm=function(t){return new be(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,ge.Kn,t.startAt,t.endAt)},t.prototype.uc=function(){return this.Nc.uc()},t.prototype.ew=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(l){switch(l.label){case 0:if(this.isPrimary)return g("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.Vw[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.Nc.fc()];case 2:return r=l.sent(),i=dn.ee(t,"current"===e),[4,this.zw(r,i)];case 3:return l.sent(),[3,7];case 4:return[4,this.Nc.tc(t,!0)];case 5:return l.sent(),this.Gw(t,n),[3,7];case 6:y("Unexpected target state: "+e),l.label=7;case 7:return[2]}}))}))},t.prototype.rw=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,l,s,u,a,c,h,d=this;return o.__generator(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(_(!this.Vw[h=r[n]],"Trying to add an already active target"),[4,this.Nc.ac(h)]):[3,6];case 2:return _(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.Nc.Yh(i)];case 3:return l=p.sent(),[4,this.Mw(this.rm(i),l.targetId,!1)];case 4:p.sent(),this.Iw.listen(l),p.label=5;case 5:return n++,[3,1];case 6:s=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return u.Vw[t]?[4,u.Nc.tc(t,!1).then((function(){d.Iw.$d(t),d.Gw(t)})).catch(Tr)]:[2,"continue"];case 1:return e.sent(),[2]}}))},u=this,a=0,c=e,p.label=7;case 7:return a<c.length?[5,s(h=c[a])]:[3,10];case 8:p.sent(),p.label=9;case 9:return a++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.Nc.oc(!0),this.Iw.enableNetwork()},t.prototype.disableNetwork=function(){return this.Nc.oc(!1),this.Iw.disableNetwork()},t.prototype.Je=function(t){var e=this.Ow[t];if(e&&e.Pw)return Xe().add(e.key);var n=Xe(),r=this.Vw[t];if(!r)return n;for(var i=0,l=r;i<l.length;i++){var o=l[i],s=this.kw.get(o);_(!!s,"No query view found for "+o),n=n.qt(s.view.fw)}return n},t}(),Ml=function(){this.um=null,this.targetId=0,this.listeners=[]},Ll=function(){function t(t){this.tv=t,this.sm=new Xn((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.om=new Set,this.tv.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.sm.get(e);return r||(n=!0,r=new Ml,this.sm.set(e,r)),r.listeners.push(t),_(!t.gw(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.um&&t.hm(r.um)&&this.cm(),n?this.tv.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.$d=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(l){return n=!1,(r=this.sm.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.sm.delete(e),[2,this.tv.$d(e)]):[2]}))}))},t.prototype.Il=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],l=this.sm.get(i.query);if(l){for(var o=0,s=l.listeners;o<s.length;o++)s[o].hm(i)&&(e=!0);l.um=i}}e&&this.cm()},t.prototype.$w=function(t,e){var n=this.sm.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.sm.delete(t)},t.prototype.Kw=function(t){this.onlineState=t;var e=!1;this.sm.forEach((function(n,r){for(var i=0,l=r.listeners;i<l.length;i++)l[i].gw(t)&&(e=!0)})),e&&this.cm()},t.prototype.am=function(t){this.om.add(t),t.next()},t.prototype.fm=function(t){this.om.delete(t)},t.prototype.cm=function(){this.om.forEach((function(t){t.next()}))},t}(),Fl=function(){function t(t,e,n){this.query=t,this.lm=e,this.dm=!1,this.vm=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.hm=function(t){if(_(t.docChanges.length>0||t.Yi,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==nn.Qi&&e.push(i)}t=new hn(t.query,t.docs,t.Hi,e,t.Ji,t.fromCache,t.Yi,!0)}var l=!1;return this.dm?this.wm(t)&&(this.lm.next(t),l=!0):this.mm(t,this.onlineState)&&(this.pm(t),l=!0),this.vm=t,l},t.prototype.onError=function(t){this.lm.error(t)},t.prototype.gw=function(t){this.onlineState=t;var e=!1;return this.vm&&!this.dm&&this.mm(this.vm,t)&&(this.pm(this.vm),e=!0),e},t.prototype.mm=function(t,e){return _(!this.dm,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.gm&&"Offline"!==e?(_(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.J()||"Offline"===e)},t.prototype.wm=function(t){return t.docChanges.length>0||!!(t.Yi||this.vm&&this.vm.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.pm=function(t){_(!this.dm,"Trying to raise initial events for second time"),t=hn.$i(t.query,t.docs,t.Ji,t.fromCache),this.dm=!0,this.lm.next(t)},t}(),jl=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.ja=function(){return Ar.Rc(this.cacheSizeBytes)},t}(),Ul=function(){},Vl=function(){function t(t,e,n,r){this.platform=t,this.bm=e,this.credentials=n,this.Pu=r,this.clientId=b.u()}return t.prototype.start=function(t){var e=this;this.ym();var n=new jn,r=new jn,i=!1;return this.credentials.T((function(l){i?e.Pu.xu((function(){return e.vv(l)})):(i=!0,e._m(t,r,l).then((function(t){return e.Im(l,t)})).then(n.resolve,n.reject))})),this.Pu.xu((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.ym(),this.Pu.enqueue((function(){return t.tv.enableNetwork()}))},t.prototype._m=function(t,e,n){var r=this;return t instanceof jl?this.Tm(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.Em(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.Rm()})):(e.resolve(),this.Rm())},t.prototype.Em=function(t){return t instanceof A?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.ym=function(){if(this.Pu.Gu)throw new A(x.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Tm=function(t,e){var n=this,r=gi.af(this.bm),i=new xn(this.bm.s,{Ze:!0});return Promise.resolve().then((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,l;return o.__generator(this,(function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!Tl.Hs(this.platform))throw new A(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.ja(),this.Sw=e.synchronizeTabs?new Tl(this.Pu,this.platform,r,this.clientId,t):new Sl,[4,gi.xa({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,Aa:this.Pu,serializer:i,ja:n,Da:this.Sw})];case 1:return l=o.sent(),this.persistence=l,[2,l.vo.Vc]}}))}))}))},t.prototype.Rm=function(){return this.persistence=Si.Nf(this.clientId),this.Sw=new Sl,Promise.resolve(null)},t.prototype.Im=function(t,e){var n=this;return g("FirestoreClient","Initializing. user=",t.uid),this.platform.Am(this.bm).then((function(r){return o.__awaiter(n,void 0,void 0,(function(){var n,i,l,s,u,a=this;return o.__generator(this,(function(c){switch(c.label){case 0:return n=new ki,this.Nc=new Er(this.persistence,n,t),[4,this.Nc.start()];case 1:return c.sent(),e&&(this.Dm=new Nr(e,this.Pu,this.Nc)),i=this.platform.Pm(),l=this.platform.Sm(this.bm.s),s=new Ui(this.Pu,r,this.credentials,l),u=function(t){return a.tv.gw(t,ye.Ai)},this.Iw=new cl(this.Nc,s,this.Pu,(function(t){return a.tv.gw(t,ye.Ri)}),i),this.tv=new Rl(this.Nc,this.Iw,this.Sw,t),this.Sw._d=u,this.Iw.tv=this.tv,this.Sw.tv=this.tv,this.Cm=new Ll(this.tv),[4,this.Sw.start()];case 2:return c.sent(),[4,this.Iw.start()];case 3:return c.sent(),[4,this.persistence.Wa((function(t){return o.__awaiter(a,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.tv.wv(t)];case 1:return e.sent(),this.Dm&&(t&&!this.Dm.mh?this.Dm.start():t||this.Dm.stop()),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.za((function(){return o.__awaiter(a,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},t.prototype.vv=function(t){return this.Pu.$u(),g("FirestoreClient","Credential Changed. Current user: "+t.uid),this.tv.vv(t)},t.prototype.disableNetwork=function(){var t=this;return this.ym(),this.Pu.enqueue((function(){return t.tv.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Pu.Ju((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Dm&&this.Dm.stop(),[4,this.Iw.shutdown()];case 1:return t.sent(),[4,this.Sw.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.R(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.ym();var e=new jn;return this.Pu.xu((function(){return t.tv.Yw(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.ym();var i=new Fl(t,e,n);return this.Pu.xu((function(){return r.Cm.listen(i)})),i},t.prototype.$d=function(t){var e=this;this.km||this.Pu.xu((function(){return e.Cm.$d(t)}))},t.prototype.Vm=function(t){var e=this;return this.ym(),this.Pu.enqueue((function(){return e.Nc.Jh(t)})).then((function(t){if(t instanceof oe)return t;if(t instanceof se)return null;throw new A(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.Nm=function(t){var e=this;return this.ym(),this.Pu.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Nc.nc(t,!0)];case 1:return e=i.sent(),n=new Al(t,e.ec),r=n.lw(e.documents),[2,n.qs(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.ym();var n=new jn;return this.Pu.xu((function(){return e.tv.write(t,n)})),n.promise},t.prototype.s=function(){return this.bm.s},t.prototype.am=function(t){var e=this;this.ym(),this.Pu.xu((function(){return e.Cm.am(t),Promise.resolve()}))},t.prototype.fm=function(t){this.km||this.Cm.fm(t)},Object.defineProperty(t.prototype,"km",{get:function(){return this.Pu.Gu},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.ym();var n=new jn;return this.Pu.xu((function(){return e.tv.runTransaction(e.Pu,t,n),Promise.resolve()})),n.promise},t}(),ql=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Om(this.observer.next,t)},t.prototype.error=function(t){this.Om(this.observer.error,t)},t.prototype.Fm=function(){this.muted=!0},t.prototype.Om=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function zl(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var l=i[r];if(l in n&&"function"==typeof n[l])return!0}return!1}(t)}var Hl="firestore.googleapis.com",Bl=!0,Wl=!0,Gl=!1,Kl=Ar.Pc,$l=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new A(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hl,this.ssl=Bl}else K("settings","non-empty string","host",t.host),this.host=t.host,$("settings","boolean","ssl",t.ssl),this.ssl=F(t.ssl,Bl);if(et("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),$("settings","object","credentials",t.credentials),this.credentials=t.credentials,$("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=F(t.timestampsInSnapshots,Wl),$("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ar.Cc;else{if(t.cacheSizeBytes!==Kl&&t.cacheSizeBytes<Ar.Sc)throw new A(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ar.Sc);this.cacheSizeBytes=t.cacheSizeBytes}$("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Gl:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Ql=function(){function t(e,n){var r=this;if(this.Um=null,this.xm=new Vn,this.INTERNAL={delete:function(){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.jm(),[4,this.Lm.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var i=e;this.Um=i,this.Bm=t.Mm(i),this.qm=i.name,this.Qm=new O(n)}else{var l=e;if(!l.projectId)throw new A(x.INVALID_ARGUMENT,"Must provide projectId");this.Bm=new S(l.projectId,l.database),this.qm="[DEFAULT]",this.Qm=new P}this.Gm=new $l({}),this.Wm=this.zm(this.Bm)}return t.prototype.settings=function(t){if(z("Firestore.settings",arguments,1),W("Firestore.settings","object",1,t),L(t,"persistence"))throw new A(x.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new $l(t);if(this.Lm&&!this.Gm.isEqual(e))throw new A(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Gm=e,void 0!==e.credentials&&(this.Qm=M(e.credentials))},t.prototype.enableNetwork=function(){return this.jm(),this.Lm.enableNetwork()},t.prototype.disableNetwork=function(){return this.jm(),this.Lm.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.Lm)throw new A(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=F(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.Km(new jl(this.Gm.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=gi.af(this.Hm()),n=new jn;return this.xm.Wu((function(){return o.__awaiter(t,void 0,void 0,(function(){var t;return o.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this.Lm&&!this.Lm.km)throw new A(x.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,gi.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Jm",{get:function(){return this.jm(),this.Lm.km},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.jm(),this.Lm.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.jm(),zl(t)?this.Ym(t):(W("Firestore.onSnapshotsInSync","function",1,t),this.Ym({next:t}))},t.prototype.Ym=function(t){var e=this,n=new ql({next:function(){t.next&&t.next()},error:function(t){throw y("Uncaught Error in onSnapshotsInSync")}});return this.Lm.am(n),function(){n.Fm(),e.Lm.fm(n)}},t.prototype.jm=function(){return this.Lm||this.Km(new Ul),this.Lm},t.prototype.Hm=function(){return new E(this.Bm,this.qm,this.Gm.host,this.Gm.ssl,this.Gm.forceLongPolling)},t.prototype.Km=function(t){_(!!this.Gm.host,"FirestoreSettings.host is not set"),_(!this.Lm,"configureClient() called multiple times");var e=this.Hm();return this.Lm=new Vl(An.t(),e,this.Qm,this.xm),this.Lm.start(t)},t.prototype.zm=function(t){return new el((function(e){if(e instanceof Jl){var n=t,r=e.firestore.Bm;if(!r.isEqual(n))throw new A(x.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new tl(t,e.Xm)}return e}))},t.Mm=function(t){var e=t.options;if(!L(e,"projectId"))throw new A(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new A(x.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new S(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Um)throw new A(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Um},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return z("Firestore.collection",arguments,1),W("Firestore.collection","non-empty string",1,t),this.jm(),new io(ht.it(t),this)},t.prototype.doc=function(t){return z("Firestore.doc",arguments,1),W("Firestore.doc","non-empty string",1,t),this.jm(),Jl.$m(ht.it(t),this)},t.prototype.collectionGroup=function(t){if(z("Firestore.collectionGroup",arguments,1),W("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new A(x.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.jm(),new no(new be(ht.et,t),this)},t.prototype.runTransaction=function(t){var e=this;return z("Firestore.runTransaction",arguments,1),W("Firestore.runTransaction","function",1,t),this.jm().transaction((function(n){return t(new Yl(e,n))}))},t.prototype.batch=function(){return this.jm(),new Zl(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(p()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return y("Unknown log level: "+p())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(z("Firestore.setLogLevel",arguments,1),W("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":f(i.DEBUG);break;case"error":f(i.ERROR);break;case"silent":f(i.SILENT);break;default:throw new A(x.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.Zm=function(){return this.Gm.timestampsInSnapshots},t}(),Yl=function(){function t(t,e){this.tp=t,this.np=e}return t.prototype.get=function(t){var e=this;z("Transaction.get",arguments,1);var n=uo("Transaction.get",t,this.tp);return this.np.lookup([n.Xm]).then((function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof se)return new to(e.tp,n.Xm,null,!1,!1,n.ip);if(r instanceof oe)return new to(e.tp,n.Xm,r,!1,!1,n.ip);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){B("Transaction.set",arguments,2,3);var r=uo("Transaction.set",t,this.tp);n=lo("Transaction.set",n);var i=co(r.ip,e,"Transaction.set"),l=i[0],o=i[1],s=n.merge||n.mergeFields?this.tp.Wm.nd(o,l,n.mergeFields):this.tp.Wm.Zl(o,l);return this.np.set(r.Xm,s),this},t.prototype.update=function(t,e,n){for(var r,i,l=[],o=3;o<arguments.length;o++)l[o-3]=arguments[o];return"string"==typeof e||e instanceof Vi?(H("Transaction.update",arguments,3),r=uo("Transaction.update",t,this.tp),i=this.tp.Wm.ud("Transaction.update",e,n,l)):(z("Transaction.update",arguments,2),r=uo("Transaction.update",t,this.tp),i=this.tp.Wm.ed("Transaction.update",e)),this.np.update(r.Xm,i),this},t.prototype.delete=function(t){z("Transaction.delete",arguments,1);var e=uo("Transaction.delete",t,this.tp);return this.np.delete(e.Xm),this},t}(),Zl=function(){function t(t){this.tp=t,this.ep=[],this.rp=!1}return t.prototype.set=function(t,e,n){B("WriteBatch.set",arguments,2,3),this.up();var r=uo("WriteBatch.set",t,this.tp);n=lo("WriteBatch.set",n);var i=co(r.ip,e,"WriteBatch.set"),l=i[0],o=i[1],s=n.merge||n.mergeFields?this.tp.Wm.nd(o,l,n.mergeFields):this.tp.Wm.Zl(o,l);return this.ep=this.ep.concat(s.Ll(r.Xm,Mt.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,l=[],o=3;o<arguments.length;o++)l[o-3]=arguments[o];return this.up(),"string"==typeof e||e instanceof Vi?(H("WriteBatch.update",arguments,3),r=uo("WriteBatch.update",t,this.tp),i=this.tp.Wm.ud("WriteBatch.update",e,n,l)):(z("WriteBatch.update",arguments,2),r=uo("WriteBatch.update",t,this.tp),i=this.tp.Wm.ed("WriteBatch.update",e)),this.ep=this.ep.concat(i.Ll(r.Xm,Mt.exists(!0))),this},t.prototype.delete=function(t){z("WriteBatch.delete",arguments,1),this.up();var e=uo("WriteBatch.delete",t,this.tp);return this.ep=this.ep.concat(new Vt(e.Xm,Mt.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.up(),this.rp=!0,this.ep.length>0?[2,this.tp.jm().write(this.ep)]:[2]}))}))},t.prototype.up=function(){if(this.rp)throw new A(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Jl=function(){function t(t,e,n){this.Xm=t,this.firestore=e,this.ip=n,this.Lm=this.firestore.jm()}return t.$m=function(e,n,r){if(e.length%2!=0)throw new A(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.nt()+" has "+e.length);return new t(new ft(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.Xm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new io(this.Xm.path.H(),this.firestore,this.ip)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Xm.path.nt()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(z("DocumentReference.collection",arguments,1),W("DocumentReference.collection","non-empty string",1,t),!t)throw new A(x.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ht.it(t);return new io(this.Xm.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.Xm.isEqual(e.Xm)&&this.ip===e.ip},t.prototype.set=function(t,e){B("DocumentReference.set",arguments,1,2),e=lo("DocumentReference.set",e);var n=co(this.ip,t,"DocumentReference.set"),r=n[0],i=n[1],l=e.merge||e.mergeFields?this.firestore.Wm.nd(i,r,e.mergeFields):this.firestore.Wm.Zl(i,r);return this.Lm.write(l.Ll(this.Xm,Mt.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Vi?(H("DocumentReference.update",arguments,2),n=this.firestore.Wm.ud("DocumentReference.update",t,e,r)):(z("DocumentReference.update",arguments,1),n=this.firestore.Wm.ed("DocumentReference.update",t)),this.Lm.write(n.Ll(this.Xm,Mt.exists(!0)))},t.prototype.delete=function(){return z("DocumentReference.delete",arguments,0),this.Lm.write([new Vt(this.Xm,Mt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];B("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||zl(t[i])||(et("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),$("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var l={includeMetadataChanges:r.includeMetadataChanges};return zl(t[i])?n=t[i]:(W("DocumentReference.onSnapshot","function",i,t[i]),G("DocumentReference.onSnapshot","function",i+1,t[i+1]),G("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.sp(l,n)},t.prototype.sp=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ql({next:function(t){if(e.next){_(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n.Xm);e.next(new to(n.firestore,n.Xm,r,t.fromCache,t.hasPendingWrites,n.ip))}},error:r}),l=this.Lm.listen(be.ti(this.Xm.path),i,t);return function(){i.Fm(),n.Lm.$d(l)}},t.prototype.get=function(t){var e=this;return B("DocumentReference.get",arguments,0,1),so("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jm().Vm(e.Xm).then((function(t){n(new to(e.firestore,e.Xm,t,!0,t instanceof oe&&t.un,e.ip))}),r):e.hp(n,r,t)}))},t.prototype.hp=function(t,e,n){var r=this.sp({includeMetadataChanges:!0,gm:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new A(x.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new A(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.Xm,this.firestore,e)},t}(),Xl=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),to=function(){function t(t,e,n,r,i,l){this.tp=t,this.Xm=e,this.cp=n,this.ap=r,this.fp=i,this.ip=l}return t.prototype.data=function(t){if(B("DocumentSnapshot.data",arguments,0,1),t=oo("DocumentSnapshot.data",t),this.cp){if(this.ip){var e=new eo(this.tp,this.Xm,this.cp,this.ap,this.fp);return this.ip.fromFirestore(e,t)}return this.lp(this.cp.data(),zt.Cn(t,this.tp.Zm()))}},t.prototype.get=function(t,e){if(B("DocumentSnapshot.get",arguments,1,2),e=oo("DocumentSnapshot.get",e),this.cp){var n=this.cp.data().field(il("DocumentSnapshot.get",t));if(null!==n)return this.dp(n,zt.Cn(e,this.tp.Zm()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Xm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Jl(this.Xm,this.tp,this.ip)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.cp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Xl(this.fp,this.ap)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","DocumentSnapshot",1,e);return this.tp===e.tp&&this.ap===e.ap&&this.Xm.isEqual(e.Xm)&&(null===this.cp?null===e.cp:this.cp.isEqual(e.cp))&&this.ip===e.ip},t.prototype.lp=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.dp(i,e)})),r},t.prototype.dp=function(t,e){if(t instanceof ne)return this.lp(t,e);if(t instanceof ie)return this.vp(t,e);if(t instanceof te){var n=t.value(e),r=this.tp.jm().s();return t.s.isEqual(r)||m("Document "+this.Xm.path+" contains a document reference within a different database ("+t.s.projectId+"/"+t.s.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Jl(n,this.tp,this.ip)}return t.value(e)},t.prototype.vp=function(t,e){var n=this;return t.Ht.map((function(t){return n.dp(t,e)}))},t}(),eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return _(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(to),no=function(){function t(t,e,n){this.wp=t,this.firestore=e,this.ip=n}return t.prototype.where=function(e,n,r){z("Query.where",arguments,3),tt("Query.where",3,r);var i,l=["<","<=","==",">=",">","array-contains","in","array-contains-any"];Y("Query.where",l,2,n);var o=il("Query.where",e),s=we.it(n);if(o.ut()){if(s===we.ARRAY_CONTAINS||s===we.ARRAY_CONTAINS_ANY)throw new A(x.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===we.IN){this.mp(r,s);for(var u=[],a=0,c=r;a<c.length;a++){var h=c[a];u.push(this.pp(h))}i=new ie(u)}else i=this.pp(r)}else s!==we.IN&&s!==we.ARRAY_CONTAINS_ANY||this.mp(r,s),i=this.firestore.Wm.sd("Query.where",r,s===we.IN);var d=ke.create(o,s,i);return this.gp(d),new t(this.wp.ei(d),this.firestore,this.ip)},t.prototype.orderBy=function(e,n){var r;if(B("Query.orderBy",arguments,1,2),G("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=xe.ASCENDING;else{if("desc"!==n)throw new A(x.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=xe.DESCENDING}if(null!==this.wp.startAt)throw new A(x.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.wp.endAt)throw new A(x.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=il("Query.orderBy",e),l=new Ne(i,r);return this.bp(l),new t(this.wp.ui(l),this.firestore,this.ip)},t.prototype.limit=function(e){return z("Query.limit",arguments,1),W("Query.limit","number",1,e),rt("Query.limit",1,e),new t(this.wp.si(e),this.firestore,this.ip)},t.prototype.limitToLast=function(e){return z("Query.limitToLast",arguments,1),W("Query.limitToLast","number",1,e),rt("Query.limitToLast",1,e),new t(this.wp.oi(e),this.firestore,this.ip)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];H("Query.startAt",arguments,1);var i=this.yp("Query.startAt",e,n,!0);return new t(this.wp.hi(i),this.firestore,this.ip)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];H("Query.startAfter",arguments,1);var i=this.yp("Query.startAfter",e,n,!1);return new t(this.wp.hi(i),this.firestore,this.ip)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];H("Query.endBefore",arguments,1);var i=this.yp("Query.endBefore",e,n,!0);return new t(this.wp.ci(i),this.firestore,this.ip)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];H("Query.endAt",arguments,1);var i=this.yp("Query.endAt",e,n,!1);return new t(this.wp.ci(i),this.firestore,this.ip)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","Query",1,e);return this.firestore===e.firestore&&this.wp.isEqual(e.wp)},t.prototype.withConverter=function(e){return new t(this.wp,this.firestore,e)},t.prototype.yp=function(t,e,n,r){if(tt(t,1,e),e instanceof to){if(n.length>0)throw new A(x.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new A(x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this._p(t,i.cp,r)}var l=[e].concat(n);return this.Ip(t,l,r)},t.prototype._p=function(t,e,n){for(var r=[],i=0,l=this.wp.orderBy;i<l.length;i++){var o=l[i];if(o.field.ut())r.push(new te(this.firestore.Bm,e.key));else{var s=e.field(o.field);if(s instanceof Jt)throw new A(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=o.field.nt();throw new A(x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Ae(r,n)},t.prototype.Ip=function(t,e,n){var r=this.wp.Jn;if(e.length>r.length)throw new A(x.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],l=0;l<e.length;l++){var o=e[l];if(r[l].field.ut()){if("string"!=typeof o)throw new A(x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof o);if(!this.wp._i()&&-1!==o.indexOf("/"))throw new A(x.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+o+"' contains a slash.");var s=this.wp.path.child(ht.it(o));if(!ft.ht(s))throw new A(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new ft(s);i.push(new te(this.firestore.Bm,u))}else{var a=this.firestore.Wm.sd(t,o);i.push(a)}}return new Ae(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];B("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||zl(t[i])||(et("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),$("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),zl(t[i])?n=t[i]:(W("Query.onSnapshot","function",i,t[i]),G("Query.onSnapshot","function",i+1,t[i+1]),G("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Tp(this.wp),this.sp(r,n)},t.prototype.sp=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ql({next:function(t){e.next&&e.next(new ro(n.firestore,n.wp,t,n.ip))},error:r}),l=this.firestore.jm(),o=l.listen(this.wp,i,t);return function(){i.Fm(),l.$d(o)}},t.prototype.Tp=function(t){if(t.bi()&&0===t.Jn.length)throw new A(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return B("Query.get",arguments,0,1),so("Query.get",t),this.Tp(this.wp),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jm().Nm(e.wp).then((function(t){n(new ro(e.firestore,e.wp,t,e.ip))}),r):e.hp(n,r,t)}))},t.prototype.hp=function(t,e,n){var r=this.sp({includeMetadataChanges:!0,gm:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new A(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.pp=function(t){if("string"==typeof t){if(""===t)throw new A(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.wp._i()&&-1!==t.indexOf("/"))throw new A(x.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.wp.path.child(ht.it(t));if(!ft.ht(e))throw new A(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new te(this.firestore.Bm,new ft(e))}if(t instanceof Jl)return new te(this.firestore.Bm,t.Xm);throw new A(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+X(t)+".")},t.prototype.mp=function(t,e){if(!Array.isArray(t)||0===t.length)throw new A(x.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new A(x.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new A(x.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new A(x.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.gp=function(t){if(t instanceof ke){var e=[we.ARRAY_CONTAINS,we.ARRAY_CONTAINS_ANY],n=[we.IN,we.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.ri()){var l=this.wp.ni();if(null!==l&&!l.isEqual(t.field))throw new A(x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+l.toString()+"' and '"+t.field.toString()+"'");var o=this.wp.ii();null!==o&&this.Ep(t.field,o)}else if(i||r){var s=null;if(i&&(s=this.wp.yi(n)),null===s&&r&&(s=this.wp.yi(e)),null!=s)throw new A(x.INVALID_ARGUMENT,s===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.bp=function(t){if(null===this.wp.ii()){var e=this.wp.ni();null!==e&&this.Ep(e,t.field)}},t.prototype.Ep=function(t,e){if(!e.isEqual(t))throw new A(x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),ro=function(){function t(t,e,n,r){this.tp=t,this.Rp=e,this.Ap=n,this.ip=r,this.Dp=null,this.Pp=null,this.metadata=new Xl(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Ap.docs.J()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Ap.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;B("QuerySnapshot.forEach",arguments,1,2),W("QuerySnapshot.forEach","function",1,t),this.Ap.docs.forEach((function(r){t.call(e,n.Sp(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new no(this.Rp,this.tp,this.ip)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(et("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),$("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Ap.Xi)throw new A(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Dp&&this.Pp===e||(this.Dp=function(t,e,n,r){if(n.Hi.J()){var i,l=0;return n.docChanges.map((function(e){var o=new eo(t,e.doc.key,e.doc,n.fromCache,n.Ji.has(e.doc.key),r);return _(e.type===nn.Bi,"Invalid event type for first snapshot"),_(!i||n.query.di(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:l++}}))}var o=n.Hi;return n.docChanges.filter((function(t){return e||t.type!==nn.Qi})).map((function(e){var i=new eo(t,e.doc.key,e.doc,n.fromCache,n.Ji.has(e.doc.key),r),l=-1,s=-1;return e.type!==nn.Bi&&(_((l=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==nn.Mi&&(s=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:ao(e.type),doc:i,oldIndex:l,newIndex:s}}))}(this.tp,e,this.Ap,this.ip),this.Pp=e),this.Dp},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","QuerySnapshot",1,e);return this.tp===e.tp&&this.Rp.isEqual(e.Rp)&&this.Ap.isEqual(e.Ap)&&this.ip===e.ip},t.prototype.Sp=function(t){return new eo(this.tp,t.key,t,this.metadata.fromCache,this.Ap.Ji.has(t.key),this.ip)},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(ro.prototype.docChanges,t,{get:function(){return function(){throw new A(x.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var io=function(t){function e(e,n,r){var i=t.call(this,be.ti(e),n,r)||this;if(i.Cp=e,e.length%2!=1)throw new A(x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.nt()+" has "+e.length);return i}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.wp.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.wp.path.H();return t.J()?null:new Jl(new ft(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.wp.path.nt()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(B("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=b.u()),W("CollectionReference.doc","non-empty string",1,t),""===t)throw new A(x.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ht.it(t);return Jl.$m(this.wp.path.child(e),this.firestore,this.ip)},e.prototype.add=function(t){z("CollectionReference.add",arguments,1);var e=this.ip?this.ip.toFirestore(t):t;W("CollectionReference.add","object",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Cp,this.firestore,t)},e}(no);function lo(t,e){if(void 0===e)return{merge:!1};if(et(t,e,["merge","mergeFields"]),$(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new A(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+X(r));for(var l=0;l<r.length;++l)if(!i(r[l]))throw new A(x.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+l+" was: "+X(r[l]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Vi}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new A(x.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function oo(t,e){return void 0===e?{}:(et(t,e,["serverTimestamps"]),Q(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function so(t,e){G(t,"object",1,e),e&&(et(t,e,["source"]),Q(t,0,"source",e.source,["default","server","cache"]))}function uo(t,e,n){if(e instanceof Jl){if(e.firestore!==n)throw new A(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw nt(t,"DocumentReference",1,e)}function ao(t){switch(t){case nn.Bi:return"added";case nn.qi:case nn.Qi:return"modified";case nn.Mi:return"removed";default:return y("Unknown change type: "+t)}}function co(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var ho=Nn(Ql,"Use firebase.firestore() instead."),po=Nn(Yl,"Use firebase.firestore().runTransaction() instead."),fo=Nn(Zl,"Use firebase.firestore().batch() instead."),go=Nn(Jl,"Use firebase.firestore().doc() instead."),mo=Nn(to),vo=Nn(eo),yo=Nn(no),_o=Nn(ro),bo=Nn(io,"Use firebase.firestore().collection() instead."),wo={Firestore:ho,GeoPoint:ot,Timestamp:ut,Blob:Ln,Transaction:po,WriteBatch:fo,DocumentReference:go,DocumentSnapshot:mo,Query:yo,QueryDocumentSnapshot:vo,QuerySnapshot:_o,CollectionReference:bo,FieldPath:Vi,FieldValue:$i,setLogLevel:Ql.setLogLevel,CACHE_SIZE_UNLIMITED:Kl},ko=function(){function t(){}return t.prototype.Od=function(t){},t.prototype.shutdown=function(){},t}(),Co=function(){function t(){var t=this;this.kp=function(){return t.Vp()},this.Np=function(){return t.Op()},this.Fp=[],this.Up()}return t.prototype.Od=function(t){this.Fp.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.kp),window.removeEventListener("offline",this.Np)},t.prototype.Up=function(){window.addEventListener("online",this.kp),window.addEventListener("offline",this.Np)},t.prototype.Vp=function(){g("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fp;t<e.length;t++)(0,e[t])(0)},t.prototype.Op=function(){g("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fp;t<e.length;t++)(0,e[t])(1)},t.Hs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Eo=function(){function t(t){this.xp=t.xp,this.jp=t.jp}return t.prototype.yl=function(t){_(!this.Lp,"Called onOpen on stream twice!"),this.Lp=t},t.prototype.wl=function(t){_(!this.Bp,"Called onClose on stream twice!"),this.Bp=t},t.prototype.onMessage=function(t){_(!this.Mp,"Called onMessage on stream twice!"),this.Mp=t},t.prototype.close=function(){this.jp()},t.prototype.send=function(t){this.xp(t)},t.prototype.qp=function(){_(void 0!==this.Lp,"Cannot call onOpen because no callback was set"),this.Lp()},t.prototype.Qp=function(t){_(void 0!==this.Bp,"Cannot call onClose because no callback was set"),this.Bp(t)},t.prototype.Gp=function(t){_(void 0!==this.Mp,"Cannot call onMessage because no callback was set"),this.Mp(t)},t}(),To={BatchGetDocuments:"batchGet",Commit:"commit"},So="gl-js/ fire/"+h,Io=function(){function t(t){this.s=t.s,this.Wp=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.zp=function(t,e){if(e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n]);t["X-Goog-Api-Client"]=So},t.prototype.Vl=function(t,e,n){var r=this,i=this.Kp(t);return new Promise((function(l,s){var u=new c.XhrIo;u.listenOnce(c.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=u.getResponseJson();g("Connection","XHR received:",JSON.stringify(e)),l(e);break;case c.ErrorCode.TIMEOUT:g("Connection",'RPC "'+t+'" timed out'),s(new A(x.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(g("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status.toLowerCase().replace("_","-"),Object.values(x).indexOf(o)>=0?o:x.UNKNOWN);s(new A(i,r.message))}else s(new A(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else g("Connection",'RPC "'+t+'" failed'),s(new A(x.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{g("Connection",'RPC "'+t+'" completed.')}var o}));var a=o.__assign({},e);delete a.database;var h=JSON.stringify(a);g("Connection","XHR sending: ",i+" "+h);var d={"Content-Type":"text/plain"};r.zp(d,n),u.send(i,"POST",h,d,15)}))},t.prototype.Nl=function(t,e,n){return this.Vl(t,e,n)},t.prototype._l=function(t,e){var n=[this.Wp,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.zp(i.initMessageHeaders,e),u.isMobileCordova()||u.isReactNative()||u.isElectron()||u.isIE()||u.isUWP()||u.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");g("Connection","Creating WebChannel: "+l+" "+i);var o=r.createWebChannel(l,i),s=!1,a=!1,h=new Eo({xp:function(t){a?g("Connection","Not sending because WebChannel is closed:",t):(s||(g("Connection","Opening WebChannel transport."),o.open(),s=!0),g("Connection","WebChannel sending:",t),o.send(t))},jp:function(){return o.close()}}),d=function(t,e){o.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(c.WebChannel.EventType.OPEN,(function(){a||g("Connection","WebChannel transport opened.")})),d(c.WebChannel.EventType.CLOSE,(function(){a||(a=!0,g("Connection","WebChannel transport closed"),h.Qp())})),d(c.WebChannel.EventType.ERROR,(function(t){a||(a=!0,g("Connection","WebChannel transport errored:",t),h.Qp(new A(x.UNAVAILABLE,"The operation could not be completed")))})),d(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!a){var n=t.data[0];_(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){g("Connection","WebChannel received error:",r);var i=r.status,l=function(t){var e=je[t];if(void 0!==e)return He(e)}(i),s=r.message;void 0===l&&(l=x.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),a=!0,h.Qp(new A(l,s)),o.close()}else g("Connection","WebChannel received:",n),h.Gp(n)}})),setTimeout((function(){h.qp()}),0),h},t.prototype.Kp=function(t){var e=To[t];return _(void 0!==e,"Unknown REST mapping for: "+t),this.Wp+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),xo=function(){function t(){this.du="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.Am=function(t){return Promise.resolve(new Io(t))},t.prototype.Pm=function(){return Co.Hs()?new Co:new ko},t.prototype.Sm=function(t){return new xn(t,{Ze:!0})},t.prototype.i=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();An.lu(new xo);var Ao="@firebase/firestore",No="1.12.0";function Po(t){(function(t){var e;t.INTERNAL.registerComponent(new a.Component("firestore",(function(t){var e=t.getProvider("app").getImmediate();return new Ql(e,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps((_((e=wo)&&"object"==typeof e,"shallowCopy() expects object parameter."),o.__assign({},e))))})(t),t.registerVersion(Ao,No)}Po(l),e.__PRIVATE_registerFirestore=Po},"6LWA":function(t,e,n){var r=n("xrYK");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"6PKz":function(t,e,n){n("++zV"),n("Y4C7"),n("ZsH6"),n("vZi8"),n("5r1n"),n("sQ9d"),n("bdeN"),n("AwgR"),n("qgGA")},"6VoE":function(t,e,n){var r=n("tiKp"),i=n("P4y1"),l=r("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[l]===t)}},"8YOa":function(t,e,n){var r=n("0BK2"),i=n("hh1v"),l=n("UTVS"),o=n("m/L8").f,s=n("kOOl"),u=n("uy83"),a=s("meta"),c=0,h=Object.isExtensible||function(){return!0},d=function(t){o(t,a,{value:{objectID:"O"+ ++c,weakData:{}}})},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!l(t,a)){if(!h(t))return"F";if(!e)return"E";d(t)}return t[a].objectID},getWeakData:function(t,e){if(!l(t,a)){if(!h(t))return!0;if(!e)return!1;d(t)}return t[a].weakData},onFreeze:function(t){return u&&p.REQUIRED&&h(t)&&!l(t,a)&&d(t),t}};r[a]=!0},"93I0":function(t,e,n){var r=n("VpIT"),i=n("kOOl"),l=r("keys");t.exports=function(t){return l[t]||(l[t]=i(t))}},"9d/t":function(t,e,n){var r=n("AO7/"),i=n("xrYK"),l=n("tiKp")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),l))?n:o?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},"AO7/":function(t,e,n){var r={};r[n("tiKp")("toStringTag")]="z",t.exports="[object z]"===String(r)},AwgR:function(t,e,n){var r=n("I+eb"),i=n("eDxR"),l=n("glrk"),o=i.has,s=i.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,e){var n=arguments.length<3?void 0:s(arguments[2]);return o(t,l(e),n)}})},Bs8V:function(t,e,n){var r=n("g6v/"),i=n("0eef"),l=n("XGwC"),o=n("/GqU"),s=n("wE6v"),u=n("UTVS"),a=n("DPsx"),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=o(t),e=s(e,!0),a)try{return c(t,e)}catch(n){}if(u(t,e))return l(!i.f.call(t,e),t[e])}},DPsx:function(t,e,n){var r=n("g6v/"),i=n("0Dky"),l=n("zBJ4");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}))},ENF9:function(t,e,n){"use strict";var r,i=n("2oRo"),l=n("4syw"),o=n("8YOa"),s=n("bWFh"),u=n("rKzb"),a=n("hh1v"),c=n("afO8").enforce,h=n("f5p1"),d=!i.ActiveXObject&&"ActiveXObject"in i,p=Object.isExtensible,f=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},g=t.exports=s("WeakMap",f,u);if(h&&d){r=u.getConstructor(f,"WeakMap",!0),o.REQUIRED=!0;var m=g.prototype,v=m.delete,y=m.has,_=m.get,b=m.set;l(m,{delete:function(t){if(a(t)&&!p(t)){var e=c(this);return e.frozen||(e.frozen=new r),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(a(t)&&!p(t)){var e=c(this);return e.frozen||(e.frozen=new r),y.call(this,t)||e.frozen.has(t)}return y.call(this,t)},get:function(t){if(a(t)&&!p(t)){var e=c(this);return e.frozen||(e.frozen=new r),y.call(this,t)?_.call(this,t):e.frozen.get(t)}return _.call(this,t)},set:function(t,e){if(a(t)&&!p(t)){var n=c(this);n.frozen||(n.frozen=new r),y.call(this,t)?b.call(this,t,e):n.frozen.set(t,e)}else b.call(this,t,e);return this}})}},"G+Rx":function(t,e,n){var r=n("0GbY");t.exports=r("document","documentElement")},GarU:function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},HAuM:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},HH4o:function(t,e,n){var r=n("tiKp")("iterator"),i=!1;try{var l=0,o={next:function(){return{done:!!l++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var l={};l[r]=function(){return{next:function(){return{done:n=!0}}}},t(l)}catch(s){}return n}},HYAF:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},"I+eb":function(t,e,n){var r=n("2oRo"),i=n("Bs8V").f,l=n("kRJp"),o=n("busE"),s=n("zk60"),u=n("6JNq"),a=n("lMq5");t.exports=function(t,e){var n,c,h,d,p,f=t.target,g=t.global,m=t.stat;if(n=g?r:m?r[f]||s(f,{}):(r[f]||{}).prototype)for(c in e){if(d=e[c],h=t.noTargetGet?(p=i(n,c))&&p.value:n[c],!a(g?c:f+(m?".":"#")+c,t.forced)&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(t.sham||h&&h.sham)&&l(d,"sham",!0),o(n,c,d,t)}}},I8vh:function(t,e,n){var r=n("ppGB"),i=Math.max,l=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):l(n,e)}},ImZN:function(t,e,n){var r=n("glrk"),i=n("6VoE"),l=n("UMSQ"),o=n("+MLx"),s=n("NaFW"),u=n("m92n"),a=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,c,h){var d,p,f,g,m,v,y,_=o(e,n,c?2:1);if(h)d=t;else{if("function"!=typeof(p=s(t)))throw TypeError("Target is not iterable");if(i(p)){for(f=0,g=l(t.length);g>f;f++)if((m=c?_(r(y=t[f])[0],y[1]):_(t[f]))&&m instanceof a)return m;return new a(!1)}d=p.call(t)}for(v=d.next;!(y=v.call(d)).done;)if("object"==typeof(m=u(d,_,y.value,c))&&m&&m instanceof a)return m;return new a(!1)}).stop=function(t){return new a(!0,t)}},JBy8:function(t,e,n){var r=n("yoRg"),i=n("eDl+").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},JiZb:function(t,e,n){"use strict";var r=n("0GbY"),i=n("m/L8"),l=n("tiKp"),o=n("g6v/"),s=l("species");t.exports=function(t){var e=r(t);o&&e&&!e[s]&&(0,i.f)(e,s,{configurable:!0,get:function(){return this}})}},"N+g0":function(t,e,n){var r=n("g6v/"),i=n("m/L8"),l=n("glrk"),o=n("33Wh");t.exports=r?Object.defineProperties:function(t,e){l(t);for(var n,r=o(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,l=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),s=n("zVF4"),u=n("q/0M"),a=n("S+S0"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),s.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:s.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return s.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new h},p=d("localStorage"),f=d("sessionStorage"),g=new u.Logger("@firebase/database"),m=(i=1,function(){return i++}),v=function(t){var e=s.stringToByteArray(t),n=new s.Sha1;n.update(e);var r=n.digest();return s.base64.encodeByteArray(r)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=y.apply(null,i):n+="object"==typeof i?s.stringify(i):i,n+=" "}return n},_=null,b=!0,w=function(t,e){s.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=u.LogLevel.VERBOSE,_=g.log.bind(g),e&&f.set("logging_enabled",!0)):"function"==typeof t?_=t:(_=null,f.remove("logging_enabled"))},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===_&&!0===f.get("logging_enabled")&&w(!0)),_){var n=y.apply(null,t);_(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];k.apply(void 0,o.__spread([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,o.__spread(t));g.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,o.__spread(t));throw g.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,o.__spread(t));g.warn(n)},I=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",A="[MAX_NAME]",N=function(t,e){if(t===e)return 0;if(t===x||e===A)return-1;if(e===x||t===A)return 1;var n=$(t),r=$(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},O=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+s.stringify(e))},D=function(t){if("object"!=typeof t||null===t)return s.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=s.stringify(e[i]),r+=":",r+=D(t[e[i]]);return r+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L,F,j,U,V,q,z,H,B,W,G=function(t){var e,n,r,i,l;s.assert(!I(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var o=[];for(l=52;l;l-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(l=11;l;l-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();var u=o.join(""),a="";for(l=0;l<64;l+=8){var c=parseInt(u.substr(l,8),2).toString(16);1===c.length&&(c="0"+c),a+=c}return a.toLowerCase()},K=new RegExp("^-?(0*)\\d{1,10}$"),$=function(t){if(K.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Q=function(t){try{t()}catch(e){setTimeout((function(){throw S("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Y=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Z=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},J=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var l=N(n[i],r[i]);if(0!==l)return l}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),X=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=s.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=s.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt="long_polling",et=function(){function t(t,e,n,r,i,l){void 0===i&&(i=""),void 0===l&&(l=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=l,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(s.assert("string"==typeof t,"typeof type must == string"),s.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==tt)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return M(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),nt=function(t){var e=rt(t),n=e.namespace;return"firebase"===e.domain&&T(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new et(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!==e.subdomain),path:new J(e.pathString)}},rt=function(t){var e="",n="",r="",i="",l="",s=!0,u="https",a=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(u=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(l){}e+="/"+i}return e}(t.substring(h,d)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=o.__values(t.split("&")),l=i.next();!l.done;l=i.next()){var s=l.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(a){e={error:a}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(c=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,a=parseInt(e.substring(c+1),10)):c=t.length;var f=e.split(".");3===f.length?(n=f[1],l=r=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,c).toLowerCase()&&(n="localhost"),"ns"in p&&(l=p.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:l}},it=/[\[\].#$\/\u0000-\u001F\u007F]/,lt=/[\[\].#$\u0000-\u001F\u007F]/,ot=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return"string"==typeof t&&0!==t.length&&!lt.test(t)},ut=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!I(t)||t&&"object"==typeof t&&s.contains(t,".sv")},at=function(t,e,n,r,i){i&&void 0===n||ct(s.errorPrefix(t,e,i),n,r)},ct=function(t,e,n){var r=n instanceof J?new X(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(I(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&s.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,l=!1;if(M(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(l=!0,!ot(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ct(t,n,r),r.pop()})),i&&l)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ht=function(t,e,n,r,i){if(!i||void 0!==n){var l=s.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(l+" must be an object containing the children to replace.");var o=[];M(n,(function(t,e){var n=new J(t);if(ct(l,e,r.child(n)),".priority"===n.getBack()&&!ut(e))throw new Error(l+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),l=0;l<i.length;l++)if(".priority"===i[l]&&l===i.length-1);else if(!ot(i[l]))throw new Error(t+"contains an invalid key ("+i[l]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(J.comparePaths);var o=null;for(n=0;n<e.length;n++){if(r=e[n],null!==o&&o.contains(r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(l,o)}},dt=function(t,e,n,r){if(!r||void 0!==n){if(I(n))throw new Error(s.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ut(n))throw new Error(s.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ft=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gt=function(t,e,n,r){if(!(r&&void 0===n||st(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gt(t,e,n,r)},vt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},yt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),st(t)}(r))throw new Error(s.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},_t=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(s.errorPrefix(t,e,r)+"must be a boolean.")},bt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),vt("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),vt("OnDisconnect.set",this.path_),at("OnDisconnect.set",1,t,this.path_,!1),s.validateCallback("OnDisconnect.set",2,e,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),vt("OnDisconnect.setWithPriority",this.path_),at("OnDisconnect.setWithPriority",1,t,this.path_,!1),dt("OnDisconnect.setWithPriority",2,e,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),vt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("OnDisconnect.update",1,t,this.path_,!1),s.validateCallback("OnDisconnect.update",2,e,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),wt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),kt=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",F=0,j=[],function(t){var e,n=t===F;F=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=L.charAt(t%64),t=Math.floor(t/64);s.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===j[e];e--)j[e]=0;j[e]++}else for(e=0;e<12;e++)j[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=L.charAt(j[e]);return s.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ct=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Et=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ct(x,t),r=new Ct(x,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ct.MIN},t}(),Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return U},set:function(t){U=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return N(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(A,U)},e.prototype.makePost=function(t,e){return s.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ct(t,U)},e.prototype.toString=function(){return".key"},e}(Et),St=new Tt,It=function(t){return"number"==typeof t?"number:"+G(t):"string:"+t},xt=function(t){if(t.isLeafNode()){var e=t.val();s.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&s.contains(e,".sv"),"Priority must be a string or number.")}else s.assert(t===V||t.isEmpty(),"priority of unexpected type.");s.assert(t===V||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},At=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,s.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),xt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return q},set:function(t){q=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(s.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+It(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?G(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(s.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),l=t.VALUE_TYPE_ORDER.indexOf(r);return s.assert(i>=0,"Unknown leaf type: "+n),s.assert(l>=0,"Unknown leaf type: "+r),i===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Nt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(A,new At("[PRIORITY-POST]",H))},e.prototype.makePost=function(t,e){var n=z(t);return new Ct(e,new At("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Et)),Pt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var l=1;!t.isEmpty();)if(t=t,l=e?n(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ot=function(){function t(e,n,r,i,l){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Rt.EMPTY_NODE,this.right=null!=l?l:Rt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,l){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Rt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Rt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ot(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Rt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Pt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Pt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}(),Mt=Math.log(2),Lt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Mt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Ft=function(t,e,n,r){t.sort(e);var i=function(e,r){var l,o,s=r-e;if(0===s)return null;if(1===s)return l=t[e],o=n?n(l):l,new Ot(o,l.node,Ot.BLACK,null,null);var u=parseInt(s/2,10)+e,a=i(e,u),c=i(u+1,r);return l=t[u],o=n?n(l):l,new Ot(o,l.node,Ot.BLACK,a,c)},l=function(e){for(var r=null,l=null,o=t.length,s=function(e,r){var l=o-e,s=o;o-=e;var a=i(l+1,s),c=t[l],h=n?n(c):c;u(new Ot(h,c.node,r,null,a))},u=function(t){r?(r.left=t,r=t):(l=t,r=t)},a=0;a<e.count;++a){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(a+1));c?s(h,Ot.BLACK):(s(h,Ot.BLACK),s(h,Ot.RED))}return l}(new Lt(t.length));return new Rt(r||e,l)},jt={},Ut=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return s.assert(jt&&Nt,"ChildrenNode.ts has not been loaded"),B=B||new t({".priority":jt},{".priority":Nt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Rt?e:null},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){s.assert(e!==St,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],l=!1,u=n.getIterator(Ct.Wrap),a=u.getNext();a;)l=l||e.isDefinedOn(a.node),i.push(a),a=u.getNext();r=l?Ft(i,e.getCompare()):jt;var c=e.toString(),h=o.__assign({},this.indexSet_);h[c]=e;var d=o.__assign({},this.indexes_);return d[c]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(s.map(this.indexes_,(function(t,i){var l=s.safeGet(r.indexSet_,i);if(s.assert(l,"Missing index implementation for "+i),t===jt){if(l.isDefinedOn(e.node)){for(var o=[],u=n.getIterator(Ct.Wrap),a=u.getNext();a;)a.name!==e.name&&o.push(a),a=u.getNext();return o.push(e),Ft(o,l.getCompare())}return jt}var c=n.get(e.name),h=t;return c&&(h=h.remove(new Ct(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(s.map(this.indexes_,(function(t){if(t===jt)return t;var r=n.get(e.name);return r?t.remove(new Ct(e.name,r)):t})),this.indexSet_)},t}();function Vt(t,e){return N(t.name,e.name)}function qt(t,e){return N(t,e)}var zt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&xt(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return W||(W=new t(new Rt(qt),null,Ut.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||W},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?W:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ct(e,n),i=void 0,l=void 0;n.isEmpty()?(i=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(r,this.children_));var o=i.isEmpty()?W:this.priorityNode_;return new t(i,o,l)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;s.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,l=!0;if(this.forEachChild(Nt,(function(o,s){n[o]=s.val(e),r++,l&&t.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):l=!1})),!e&&l&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+It(this.getPriority().val())+":"),this.forEachChild(Nt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ct(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Ct.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Ct.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ht?-1:0},t.prototype.withIndex=function(e){if(e===St||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===St||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Nt),r=e.getIterator(Nt),i=n.getNext(),l=r.getNext();i&&l;){if(i.name!==l.name||!i.node.equals(l.node))return!1;i=n.getNext(),l=r.getNext()}return null===i&&null===l}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===St?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ht=new(function(t){function e(){return t.call(this,new Rt(qt),zt.EMPTY_NODE,Ut.Default)||this}return o.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return zt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(zt));Object.defineProperties(Ct,{MIN:{value:new Ct(x,zt.EMPTY_NODE)},MAX:{value:new Ct(A,Ht)}}),Tt.__EMPTY_NODE=zt.EMPTY_NODE,At.__childrenNodeConstructor=zt,V=Ht,H=Ht;var Bt=!0;function Wt(t,e){if(void 0===e&&(e=null),null===t)return zt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),s.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new At(t,Wt(e));if(t instanceof Array||!Bt){var n=zt.EMPTY_NODE;return M(t,(function(e,r){if(s.contains(t,e)&&"."!==e.substring(0,1)){var i=Wt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Wt(e))}var r=[],i=!1;if(M(t,(function(t,e){if("."!==t.substring(0,1)){var n=Wt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ct(t,n)))}})),0===r.length)return zt.EMPTY_NODE;var l=Ft(r,Vt,(function(t){return t.name}),qt);if(i){var o=Ft(r,Nt.getCompare());return new zt(l,Wt(e),new Ut({".priority":o},{".priority":Nt}))}return new zt(l,Wt(e),Ut.Default)}z=Wt;var Gt,Kt,$t,Qt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?N(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return Ct.MAX},e.prototype.makePost=function(t,e){var n=Wt(t);return new Ct(e,n)},e.prototype.toString=function(){return".value"},e}(Et)),Yt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,s.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return o.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Wt(t),r=zt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ct(e,r)},e.prototype.maxPost=function(){var t=zt.EMPTY_NODE.updateChild(this.indexPath_,Ht);return new Ct(A,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Et),Zt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),gt("DataSnapshot.child",1,e,!1);var n=new J(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Nt)},t.prototype.hasChild=function(t){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),gt("DataSnapshot.hasChild",1,t,!1);var e=new J(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Nt))}))},t.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Jt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},t}(),Xt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),te=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Jt("value",this,new Zt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ee=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return s.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Jt(t.type,this,new Zt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),l=r.length;if(l===i.length){if(1===l){var o=r[0],s=i[0];return!(s!==o||e.callbacks_[o]&&this.callbacks_[s]&&e.callbacks_[o]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ne=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(Gt,"Reference.ts has not been loaded"),Gt},set:function(t){Gt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===St){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==x)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==A)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Nt){if(null!=e&&!ut(e)||null!=n&&!ut(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(t.getIndex()instanceof Yt||t.getIndex()===Qt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){s.validateArgCount("Query.on",2,4,arguments.length),pt("Query.on",1,e,!1),s.validateCallback("Query.on",2,n,!1);var l=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,l.cancel,l.context);else{var o={};o[e]=n,this.onChildEvent(o,l.cancel,l.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new te(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ee(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){s.validateArgCount("Query.off",0,3,arguments.length),pt("Query.off",1,t,!0),s.validateCallback("Query.off",2,e,!0),s.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var l=e||null;r=new te(l,null,n||null)}else t&&(e&&((i={})[t]=e),r=new ee(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var l=this;s.validateArgCount("Query.once",1,4,arguments.length),pt("Query.once",1,e,!1),s.validateCallback("Query.once",2,n,!0);var o=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,a=new s.Deferred;a.promise.catch((function(){}));var c=function(t){u&&(u=!1,l.off(e,c),n&&n.bind(o.context)(t),a.resolve(t))};return this.on(e,c,(function(t){l.off(e,c),o.cancel&&o.cancel.bind(o.context)(t),a.reject(t)})),a.promise},t.prototype.limitToFirst=function(e){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');gt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new J(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Yt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(St);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Nt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Qt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.startAt",0,2,arguments.length),at("Query.startAt",1,e,this.path,!0),ft("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.endAt",0,2,arguments.length),at("Query.endAt",1,e,this.path,!0),ft("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),at("Query.equalTo",1,t,this.path,!1),ft("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=D(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),l=this.queryIdentifier()===e.queryIdentifier();return r&&i&&l},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,s.validateCallback(t,3,r.cancel,!0),r.context=n,s.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(s.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),re=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Nt,(function(t,e){n.remember(new J(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new J(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ie=function(t,e){return t&&"object"==typeof t?(s.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},le=function(t,e){var n,r=t.getPriority().val(),i=ie(r,e);if(t.isLeafNode()){var l=t,o=ie(l.getValue(),e);return o!==l.getValue()||i!==l.getPriority().val()?new At(o,Wt(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new At(i))),s.forEachChild(Nt,(function(t,r){var i=le(r,e);i!==r&&(n=n.updateImmediateChild(t,i))})),n},oe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),se=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,s.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ue=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=oe.ACK_USER_WRITE,this.source=se.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new J(e));return new t(J.Empty,n,this.revert)}return s.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ae=function(){return Kt||(Kt=new Rt(P)),Kt},ce=function(){function t(t,e){void 0===e&&(e=ae()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return M(e,(function(t,e){n=n.set(new J(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:J.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new J(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),l=this.children.insert(r,i);return new t(this.value,l)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),l=void 0;return l=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&l.isEmpty()?t.Empty:new t(this.value,l)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),l=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(J.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,J.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),l=this.children.get(i);return l?l.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,J.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),l=this.children.get(i);return l?l.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(J.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),he=function(){function t(t,e){this.source=t,this.path=e,this.type=oe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty):new t(this.source,this.path.popFront())},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=oe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),pe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=oe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new J(e));return n.isEmpty()?null:n.value?new de(this.source,J.Empty,n.value):new t(this.source,J.Empty,n)}return s.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),fe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ge=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new fe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new fe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new fe(zt.EMPTY_NODE,!1,!1),new fe(zt.EMPTY_NODE,!1,!1)),t}(),me=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,l){s.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=t.getImmediateChild(e);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?t:(null!=l&&(n.isEmpty()?t.hasChild(e)?l.trackChildChange(me.childRemovedChange(e,o)):s.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?l.trackChildChange(me.childAddedChange(e,n)):l.trackChildChange(me.childChangedChange(e,n,o))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Nt,(function(t,r){e.hasChild(t)||n.trackChildChange(me.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Nt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(me.childChangedChange(e,r,i))}else n.trackChildChange(me.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?zt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;s.assert(e===me.CHILD_ADDED||e===me.CHILD_CHANGED||e===me.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===me.CHILD_ADDED&&i===me.CHILD_REMOVED)this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===me.CHILD_REMOVED&&i===me.CHILD_ADDED)this.changeMap.delete(n);else if(e===me.CHILD_REMOVED&&i===me.CHILD_CHANGED)this.changeMap.set(n,me.childRemovedChange(n,r.oldSnap));else if(e===me.CHILD_CHANGED&&i===me.CHILD_ADDED)this.changeMap.set(n,me.childAddedChange(n,t.snapshotNode));else{if(e!==me.CHILD_CHANGED||i!==me.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),_e=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),be=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new fe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),we=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),ke=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){s.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var l,o,u=new ye;if(n.type===oe.OVERWRITE){var a=n;a.source.fromUser?l=this.applyUserOverwrite_(e,a.path,a.snap,r,i,u):(s.assert(a.source.fromServer,"Unknown source."),o=a.source.tagged||e.getServerCache().isFiltered()&&!a.path.isEmpty(),l=this.applyServerOverwrite_(e,a.path,a.snap,r,i,o,u))}else if(n.type===oe.MERGE){var c=n;c.source.fromUser?l=this.applyUserMerge_(e,c.path,c.children,r,i,u):(s.assert(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.getServerCache().isFiltered(),l=this.applyServerMerge_(e,c.path,c.children,r,i,o,u))}else if(n.type===oe.ACK_USER_WRITE){var h=n;l=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==oe.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);l=this.listenComplete_(e,n.path,r,u)}var d=u.getChanges();return t.maybeAddValueEvent_(e,l,d),new we(l,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&n.push(me.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var l=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var o=void 0,u=void 0;if(e.isEmpty())if(s.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var a=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(a instanceof zt?a:zt.EMPTY_NODE);o=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());o=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var d=e.getFront();if(".priority"===d){s.assert(1===e.getLength(),"Can't have a priority with additional path components");var p=l.getNode();u=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,p,u);o=null!=f?this.filter_.updatePriority(p,f):l.getNode()}else{var g=e.popFront(),m=void 0;if(l.isCompleteForChild(d)){u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,l.getNode(),u);m=null!=v?l.getNode().getImmediateChild(d).updateChild(g,v):l.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,t.getServerCache());o=null!=m?this.filter_.updateChild(l.getNode(),d,m,g,r,i):l.getNode()}}return t.updateEventSnap(o,l.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,l,o){var s,u=t.getServerCache(),a=l?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=a.updateFullNode(u.getNode(),n,null);else if(a.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);s=a.updateFullNode(u.getNode(),c,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(d,n);s=".priority"===h?a.updatePriority(u.getNode(),p):a.updateChild(u.getNode(),h,p,d,_e,null)}var f=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),a.filtersNodes()),g=new be(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,g,o)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,l){var o,s,u=t.getEventCache(),a=new be(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,l),o=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),o=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),d=u.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=a.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):zt.EMPTY_NODE}if(d.equals(p))o=t;else{var g=this.filter_.updateChild(u.getNode(),c,p,h,a,l);o=t.updateEventSnap(g,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return o},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,l,o){var s=this,u=e;return r.foreach((function(r,a){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=s.applyUserOverwrite_(u,c,a,i,l,o))})),r.foreach((function(r,a){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=s.applyUserOverwrite_(u,c,a,i,l,o))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,l,o){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,a=t;u=e.isEmpty()?n:ce.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);a=s.applyServerOverwrite_(a,new J(e),h,r,i,l,o)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),d=s.applyMerge_(h,n);a=s.applyServerOverwrite_(a,new J(e),d,r,i,l,o)}})),a},t.prototype.ackUserWrite_=function(t,e,n,r,i,l){if(null!=r.shadowingWrite(e))return t;var o=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,o,l);if(e.isEmpty()){var u=ce.Empty;return s.getNode().forEachChild(St,(function(t,e){u=u.set(new J(t),e)})),this.applyServerMerge_(t,e,u,r,i,o,l)}return t}var a=ce.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(a=a.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,a,r,i,o,l)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),l=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(l,e,n,_e,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var l;if(null!=n.shadowingWrite(e))return t;var o=new be(n,t,r),u=t.getEventCache().getNode(),a=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();s.assert(h instanceof zt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}a=this.filter_.updateFullNode(u,c=c,i)}else{var d=e.getFront(),p=n.calcCompleteChild(d,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(d)&&(p=u.getImmediateChild(d)),(a=null!=p?this.filter_.updateChild(u,d,p,e.popFront(),o,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(u,d,zt.EMPTY_NODE,e.popFront(),o,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(l=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(a=this.filter_.updateFullNode(a,l,i))}return l=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(J.Empty),t.updateEventSnap(a,l,this.filter_.filtersNodes())},t}(),Ce=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],l=[];return t.forEach((function(t){t.type===me.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&l.push(me.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,me.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,me.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,me.CHILD_MOVED,l,n,e),this.generateEventsForType_(i,me.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,me.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var l=this,o=n.filter((function(t){return t.type===e}));o.sort(this.compareChanges_.bind(this)),o.forEach((function(e){var n=l.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,l.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw s.assertionError("Should only compare child_ events.");var n=new Ct(t.childName,t.snapshotNode),r=new Ct(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ee=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ve(n.getIndex()),i=n.getNodeFilter();this.processor_=new ke(i);var l=e.getServerCache(),o=e.getEventCache(),s=r.updateFullNode(zt.EMPTY_NODE,l.getNode(),null),u=i.updateFullNode(zt.EMPTY_NODE,o.getNode(),null),a=new fe(s,l.isFullyInitialized(),r.filtersNodes()),c=new fe(u,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ge(c,a),this.eventGenerator_=new Ce(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){s.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],l=0;l<this.eventRegistrations_.length;++l){var o=this.eventRegistrations_[l];if(o.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(l+1));break}}else i.push(o)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===oe.MERGE&&null!==t.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Nt,(function(t,e){n.push(me.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(me.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Te=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert($t,"Reference.ts has not been loaded"),$t},set:function(t){s.assert(!$t,"__referenceConstructor has already been defined"),$t=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,l=t.source.queryId;if(null!==l){var u=this.views.get(l);return s.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var a=[];try{for(var c=o.__values(this.views.values()),h=c.next();!h.done;h=c.next())a=a.concat((u=h.value).applyOperation(t,e,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return a},t.prototype.addEventRegistration=function(t,e,n,r,i){var l=t.queryIdentifier(),o=this.views.get(l);if(!o){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof zt?(s=n.calcCompleteEventChildren(r),u=!1):(s=zt.EMPTY_NODE,u=!1);var a=new ge(new fe(s,u,!1),new fe(r,i,!1));o=new Ee(t,a),this.views.set(l,o)}return o.addEventRegistration(e),o.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,l,s=e.queryIdentifier(),u=[],a=[],c=this.hasCompleteView();if("default"===s)try{for(var h=o.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var p,f=o.__read(d.value,2),g=f[0];a=a.concat((p=f[1]).removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(g),p.getQuery().getQueryParams().loadsAllData()||u.push(p.getQuery()))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(i)throw i.error}}else(p=this.views.get(s))&&(a=a.concat(p.removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(s),p.getQuery().getQueryParams().loadsAllData()||u.push(p.getQuery())));return c&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:a}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=o.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var l=i.value;l.getQuery().getQueryParams().loadsAllData()||n.push(l)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=o.__values(this.views.values()),l=i.next();!l.done;l=i.next())r=r||l.value.getCompleteServerCache(t)}catch(s){e={error:s}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=o.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(l){t={error:l}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Se=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ce(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,l=r.value,o=J.relativePath(i,e);return l=l.updateChild(o,n),new t(this.writeTree_.set(i,l))}var s=new ce(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return M(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ce.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(J.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Nt,(function(e,n){t.push(new Ct(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ct(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ce(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,l){".priority"===n?(s.assert(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):r=t(e.child(n),l,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(J.Empty,this.writeTree_,t)},t.Empty=new t(new ce(null)),t}(),Ie=function(){function t(){this.visibleWrites_=Se.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new xe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));s.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,l=!1,o=this.allWrites_.length-1;i&&o>=0;){var u=this.allWrites_[o];u.visible&&(o>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(l=!0)),o--}return!!i&&(l?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var l=this.visibleWrites_.childCompoundWrite(e);return!i&&l.isEmpty()?n:i||null!=n||l.hasCompleteWrite(J.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||zt.EMPTY_NODE):null}var o=this.visibleWrites_.getCompleteNode(e);if(null!=o)return o;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(J.Empty)?s.apply(n||zt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=zt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Nt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Nt,(function(t,e){var r=i.childCompoundWrite(new J(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){s.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var l=this.visibleWrites_.childCompoundWrite(i);return l.isEmpty()?r.getChild(e):l.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,l){var o,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(J.Empty);if(null!=u)o=u;else{if(null==e)return[];o=s.apply(e)}if((o=o.withIndex(l)).isEmpty()||o.isLeafNode())return[];for(var a=[],c=l.getCompare(),h=i?o.getReverseIteratorFrom(n,l):o.getIteratorFrom(n,l),d=h.getNext();d&&a.length<r;)0!==c(d,n)&&a.push(d),d=h.getNext();return a},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,J.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Se.Empty,i=0;i<t.length;++i){var l=t[i];if(e(l)){var o=l.path,u=void 0;if(l.snap)n.contains(o)?(u=J.relativePath(n,o),r=r.addWrite(u,l.snap)):o.contains(n)&&(u=J.relativePath(o,n),r=r.addWrite(J.Empty,l.snap.getChild(u)));else{if(!l.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(o))u=J.relativePath(n,o),r=r.addWrites(u,l.children);else if(o.contains(n))if((u=J.relativePath(o,n)).isEmpty())r=r.addWrites(J.Empty,l.children);else{var a=s.safeGet(l.children,u.getFront());if(a){var c=a.getChild(u.popFront());r=r.addWrite(J.Empty,c)}}}}}return r},t}(),xe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ae=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ce.Empty,this.pendingWriteTree_=new Ie,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new de(se.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ce.fromObject(e);return this.applyOperationToSyncPoints_(new pe(se.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ce.Empty;return null!=n.snap?r=r.set(J.Empty,!0):M(n.children,(function(t,e){r=r.set(new J(t),e)})),this.applyOperationToSyncPoints_(new ue(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new de(se.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ce.fromObject(e);return this.applyOperationToSyncPoints_(new pe(se.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new he(se.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var l=t.parseQueryKey_(i),o=l.path,s=l.queryId,u=J.relativePath(o,e),a=new de(se.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(o,a)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var l=t.parseQueryKey_(i),o=l.path,s=l.queryId,u=J.relativePath(o,e),a=ce.fromObject(n),c=new pe(se.forServerTaggedQuery(s),u,a);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),l=i.path,o=i.queryId,s=J.relativePath(l,e),u=new he(se.forServerTaggedQuery(o),s);return this.applyTaggedOperation_(l,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,l=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=J.relativePath(t,r);i=i||e.getCompleteServerCache(n),l=l||e.hasCompleteView()}));var o,u=this.syncPointTree_.get(r);u?(l=l||u.hasCompleteView(),i=i||u.getCompleteServerCache(J.Empty)):(u=new Te,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?o=!0:(o=!1,i=zt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(J.Empty);n&&(i=i.updateImmediateChild(t,n))})));var a=u.viewExistsForQuery(e);if(!a&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);s.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var d=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(e,n,d,i,o);if(!a&&!l){var f=u.viewForQuery(e);p=p.concat(this.setupListener_(e,f))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,l=e.path,o=this.syncPointTree_.get(l),s=[];if(o&&("default"===e.queryIdentifier()||o.viewExistsForQuery(e))){var u=o.removeEventRegistration(e,n,r);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(l));var a=u.removed;s=u.events;var c=-1!==a.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(l,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var d=this.syncPointTree_.subtree(l);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var g=p[f],m=g.getQuery(),v=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),v.hashFn,v.onComplete)}}!h&&a.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):a.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(a)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=J.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),M(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),l=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(l)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),l=this.createListenerForView_(n),o=this.listenProvider_.startListening(t.queryForListening_(e),i,l.hashFn,l.onComplete),u=this.syncPointTree_.subtree(r);if(i)s.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var a=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),M(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<a.length;++c){var h=a[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return o},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||zt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return s.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new J(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);s.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(J.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(J.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(J.Empty));var l=[],o=t.path.getFront(),s=t.operationForChild(o),u=e.children.get(o);if(u&&s){var a=n?n.getImmediateChild(o):null,c=r.child(o);l=l.concat(this.applyOperationHelper_(s,u,a,c))}return i&&(l=l.concat(i.applyOperation(t,r,n))),l},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,l=e.get(J.Empty);null==n&&null!=l&&(n=l.getCompleteServerCache(J.Empty));var o=[];return e.children.inorderTraversal((function(e,l){var s=n?n.getImmediateChild(e):null,u=r.child(e),a=t.operationForChild(e);a&&(o=o.concat(i.applyOperationDescendantsHelper_(a,l,s,u)))})),l&&(o=o.concat(l.applyOperation(t,r,n))),o},t.nextQueryTag_=1,t}(),Ne=function(){function t(){this.rootNode_=zt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Pe=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';S(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Oe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),s.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return s.deepCopy(this.counters_)},t}(),De=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Oe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=o.__assign({},t);return this.last_&&M(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Me=1e4,Le=3e4,Fe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=Me+(Le-Me)*Math.random();Z(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,(function(e,i){i>0&&s.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),je=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ue(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ue=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&k("event: "+e.toString()),Q(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ve=function(){function t(t){this.allowedEvents_=t,this.listeners_={},s.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=o.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){s.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),qe=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return o.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ve),ze=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return o.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ve),He=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Q((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Be="pLPCommand",We="pRTLPCB",Ge=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=De.getCollection(e),this.urlFn=function(t){return e.connectionURL(tt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new He(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(s.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ke((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=o.__read(t,5),i=r[0],l=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=l,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);l?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(l,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=o.__read(t,2),i=r[0],l=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,l)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(s.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=s.base64Encode(e),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=s.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ke=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window[Be+this.uniqueCallbackIdentifier]=e,window[We+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(l='<script>document.domain="'+document.domain+'";<\/script>');var o="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){k("frame writing exception"),u.stack&&k(u.stack),k(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||k("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;s.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){k("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),$e="",Qe=null;"undefined"!=typeof MozWebSocket?Qe=MozWebSocket:"undefined"!=typeof WebSocket&&(Qe=WebSocket);var Ye=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=De.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+$e+"/"+process.platform+"/"+(s.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,l=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;l&&(r.proxy={origin:l}),this.mySock=new Qe(this.connURL,[],r)}else this.mySock=new Qe(this.connURL)}catch(u){this.log_("Error instantiating WebSocket.");var o=u.message||u.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Qe&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=s.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(s.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ze=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Ge,Ye]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Ye&&Ye.isAvailable(),l=i&&!Ye.previouslyFailed();if(e.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[Ye];else{var s=this.transports_=[];try{for(var u=o.__values(t.ALL_TRANSPORTS),a=u.next();!a.done;a=u.next()){var c=a.value;c&&c.isAvailable()&&s.push(c)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Je=function(){function t(t,e,n,r,i,l,o){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=l,this.lastSessionId=o,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Ze(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Z((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=O("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Z((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Xe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),tn=1e3,en=3e5,nn=function(t){function e(n,r,i,l,o,u){var a=t.call(this)||this;if(a.repoInfo_=n,a.onDataUpdate_=r,a.onConnectStatus_=i,a.onServerInfoUpdate_=l,a.authTokenProvider_=o,a.authOverride_=u,a.id=e.nextPersistentConnectionId_++,a.log_=C("p:"+a.id+":"),a.interruptReasons_={},a.listens=new Map,a.outstandingPuts_=[],a.outstandingPutCount_=0,a.onDisconnectRequestQueue_=[],a.connected_=!1,a.reconnectDelay_=tn,a.maxReconnectDelay_=en,a.securityDebugCallback_=null,a.lastSessionId=null,a.establishConnectionTimer_=null,a.visible_=!1,a.requestCBHash_={},a.requestNumber_=0,a.realtime_=null,a.authToken_=null,a.forceTokenRefresh_=!1,a.invalidAuthTokenCount_=0,a.firstConnection_=!0,a.lastConnectionAttemptTime_=null,a.lastConnectionEstablishedTime_=null,u&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return a.scheduleConnect_(0),qe.getInstance().on("visible",a.onVisible_,a),-1===n.host.indexOf("fblocal")&&ze.getInstance().on("online",a.onOnline_,a),a}return o.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r,a:t,b:e};this.log_(s.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),l=t.path.toString();this.log_("Listen called for "+l+" "+i),this.listens.has(l)||this.listens.set(l,new Map),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(l).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(l).set(i,o),this.connected_&&this.sendListen_(o)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),l=r.queryIdentifier();this.log_("Listen on "+i+" for "+l);var o={p:i};t.tag&&(o.q=r.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(l))===t&&(n.log_("listen response",o),"ok"!==u&&n.removeListen_(i,l),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&s.contains(t,"w")){var n=s.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||s.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=s.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var l={p:e,d:n};void 0!==i&&(l.h=i),this.outstandingPuts_.push({action:t,request:l,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+s.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+s.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=tn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,l=this,o=this.lastSessionId,u=!1,a=null,c=function(){a?a.close():(u=!0,r())};this.realtime_={close:c,sendRequest:function(t){s.assert(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){u?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),l.authToken_=e&&e.accessToken,a=new Je(i,l.repoInfo_,t,n,r,(function(t){S(t+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")}),o))})).then(null,(function(t){l.log_("Failed to get token: "+t),u||(s.CONSTANTS.NODE_ADMIN&&S(t),c())}))}},e.prototype.interrupt=function(t){k("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){k("Resuming connection for reason: "+t),delete this.interruptReasons_[t],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=tn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return D(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new J(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){k("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=o.__values(this.listens.values()),l=i.next();!l.done;l=i.next()){var s=l.value;try{for(var u=(n=void 0,o.__values(s.values())),a=u.next();!a.done;a=u.next())this.sendListen_(a.value)}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{l&&!l.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";s.CONSTANTS.NODE_ADMIN?e="admin_node":s.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+$e.replace(/\./g,"-")]=1,s.isMobileCordova()?t["framework.cordova"]=1:s.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ze.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Xe),rn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=C("p:rest:"),i.listens_={},i}return o.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(s.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var l=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var u=e.getListenId_(t,r),a={};this.listens_[u]=a;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(o+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&l.onDataUpdate_(o,n,!1,r),s.safeGet(l.listens_,u)===a&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var l=i&&i.accessToken;l&&(e.auth=l);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+s.querystring(e);r.log_("Sending REST request for "+o);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+o+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=s.jsonEval(u.responseText)}catch(e){S("Failed to parse JSON response for "+o+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+o+" Status: "+u.status),n(u.status);n=null}},u.open("GET",o,!0),u.send()}))},e}(Xe),ln=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new je,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new re,this.persistentConnection_=null;var l=new Pe(n,r);if(this.stats_=De.getCollection(t),e||Y())this.server_=new rn(this.repoInfo_,this.onDataUpdate_.bind(this),l),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(o)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}this.persistentConnection_=new nn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),l,o),this.server_=this.persistentConnection_}l.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=De.getOrCreateReporter(t,(function(){return new Fe(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Ne,this.infoSyncTree_=new Ae({startListening:function(t,e,n,r){var l=[],o=i.infoData_.getNode(t.path);return o.isEmpty()||(l=i.infoSyncTree_.applyServerOverwrite(t.path,o),setTimeout((function(){r("ok")}),0)),l},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ae({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var l=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,l)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new J(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var l=[];if(r)if(n){var o=s.map(e,(function(t){return Wt(t)}));l=this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)}else{var u=Wt(e);l=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var a=s.map(e,(function(t){return Wt(t)}));l=this.serverSyncTree_.applyServerMerge(i,a)}else{var c=Wt(e);l=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;l.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,l)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;M(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new J("/.info/"+t),r=Wt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var l=this.generateServerValues(),o=Wt(e,n),s=le(o,l),u=this.getNextWriteId_(),a=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(a),this.server_.put(t.toString(),o.val(!0),(function(e,n){var l="ok"===e;l||S("set at "+t+" failed: "+e);var o=i.serverSyncTree_.ackUserWrite(u,!l);i.eventQueue_.raiseEventsForChangedPath(t,o),i.callOnCompleteCallback(r,e,n)}));var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,l=this.generateServerValues(),o={};if(M(e,(function(t,e){i=!1;var n=Wt(e);o[t]=le(n,l)})),i)k("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,o,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var l="ok"===e;l||S("update at "+t+" failed: "+e);var o=r.serverSyncTree_.ackUserWrite(s,!l),u=o.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,o),r.callOnCompleteCallback(n,e,i)})),M(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new re;return t.forEachTree(new J(""),(function(t,r){n.remember(t,le(r,e))})),n}(this.onDisconnect_,e),r=[];n.forEachTree(J.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new re,this.eventQueue_.raiseEventsForChangedPath(J.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Wt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,l){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,l)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,l=Wt(e,n);this.server_.onDisconnectPut(t.toString(),l.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,l),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(s.isEmpty(e))return k("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,l){"ok"===i&&M(e,(function(e,n){var i=Wt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,l)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Re(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);M(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),k.apply(void 0,o.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Q((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var l=new Error(i);l.code=r,t(l)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new gn(this))},enumerable:!0,configurable:!0}),t}(),on=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,l){return this.matches(new Ct(e,n))||(n=zt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,l)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=zt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(zt.EMPTY_NODE);var i=this;return e.forEachChild(Nt,(function(t,e){i.matches(new Ct(t,e))||(r=r.updateImmediateChild(t,zt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),sn=function(){function t(t){this.rangedFilter_=new on(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,l){return this.rangedFilter_.matches(new Ct(e,n))||(n=zt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,l):this.fullLimitUpdateChild_(t,e,n,i,l)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=zt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var l=0;i.hasNext()&&l<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),l++}}else{r=(r=e.withIndex(this.index_)).updatePriority(zt.EMPTY_NODE);var s=void 0,u=void 0,a=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();a=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();l=0;for(var h=!1;i.hasNext();)o=i.getNext(),!h&&a(s,o)<=0&&(h=!0),h&&l<this.limit_&&a(o,u)<=0?l++:r=r.updateImmediateChild(o.name,zt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var l;if(this.reverse_){var o=this.index_.getCompare();l=function(t,e){return o(e,t)}}else l=this.index_.getCompare();var u=t;s.assert(u.numChildren()===this.limit_,"");var a=new Ct(e,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(u.hasChild(e)){for(var d=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name===e||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:l(p,a);if(h&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(me.childChangedChange(e,n,d)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(me.childRemovedChange(e,d));var g=u.updateImmediateChild(e,zt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(me.childAddedChange(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:h&&l(c,a)>=0?(null!=i&&(i.trackChildChange(me.childRemovedChange(c.name,c.node)),i.trackChildChange(me.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(c.name,zt.EMPTY_NODE)):t},t}(),un=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Nt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Nt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ve(this.getIndex()):this.hasLimit()?new sn(this):new on(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Nt?e=n.PRIORITY_INDEX:this.index_===Qt?e=n.VALUE_INDEX:this.index_===St?e=n.KEY_INDEX:(s.assert(this.index_ instanceof Yt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=s.stringify(e),this.startSet_&&(r[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),an=function(t){function e(e,n){if(!(e instanceof ln))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,un.DEFAULT,!1)||this}return o.__extends(e,t),e.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof J||(null===this.path.getFront()?mt("Reference.child",1,t,!1):gt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){s.validateArgCount("Reference.set",1,2,arguments.length),vt("Reference.set",this.path),at("Reference.set",1,t,this.path,!1),s.validateCallback("Reference.set",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(s.validateArgCount("Reference.update",1,2,arguments.length),vt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("Reference.update",1,t,this.path,!1),s.validateCallback("Reference.update",2,e,!0);var i=new s.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),vt("Reference.setWithPriority",this.path),at("Reference.setWithPriority",1,t,this.path,!1),dt("Reference.setWithPriority",2,e,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new s.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return s.validateArgCount("Reference.remove",0,1,arguments.length),vt("Reference.remove",this.path),s.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),vt("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,t,!1),s.validateCallback("Reference.transaction",2,e,!0),_t("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new s.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new wt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){s.validateArgCount("Reference.setPriority",1,2,arguments.length),vt("Reference.setPriority",this.path),dt("Reference.setPriority",1,t,!1),s.validateCallback("Reference.setPriority",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){s.validateArgCount("Reference.push",0,2,arguments.length),vt("Reference.push",this.path),at("Reference.push",1,t,this.path,!0),s.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=kt(r),l=this.child(i),o=this.child(i);return n=null!=t?l.set(t,e).then((function(){return o})):Promise.resolve(o),l.then=n.then.bind(n),l.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),l},e.prototype.onDisconnect=function(){return vt("Reference.onDisconnect",this.path),new bt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(ne);ne.__referenceConstructor=an,Te.__referenceConstructor=an;var cn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),hn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new cn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof J?e:new J(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,s.safeGet(r.node_.children,i)||new cn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){s.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;M(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new J(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=s.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),dn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});ln.MAX_TRANSACTION_RETRIES_=25,ln.prototype.transactionsInit_=function(){this.transactionQueueTree_=new hn},ln.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},l=new an(this,t);l.on("value",i);var o={path:t,update:e,onComplete:n,status:null,order:m(),applyLocally:r,retryCount:0,unwatcher:function(){l.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);o.currentInputSnapshot=u;var a=o.update(u.val());if(void 0===a){if(o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete){var c=new Zt(o.currentInputSnapshot,new an(this,o.path),Nt);o.onComplete(null,!1,c)}}else{ct("transaction failed: Data returned ",a,o.path),o.status=dn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(o),h.setValue(d);var p=void 0;"object"==typeof a&&null!==a&&s.contains(a,".priority")?(p=s.safeGet(a,".priority"),s.assert(ut(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||zt.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),g=Wt(a,p),v=le(g,f);o.currentOutputSnapshotRaw=g,o.currentOutputSnapshotResolved=v,o.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,v,o.currentWriteId,o.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},ln.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||zt.EMPTY_NODE},ln.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);s.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===dn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},ln.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),l=i,o=i.hash(),u=0;u<e.length;u++){var a=e[u];s.assert(a.status===dn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=dn.SENT,a.retryCount++;var c=J.relativePath(t,a.path);l=l.updateChild(c,a.currentOutputSnapshotRaw)}var h=l.val(!0),d=t;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var l=[],o=0;o<e.length;o++){if(e[o].status=dn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[o].currentWriteId)),e[o].onComplete){var s=e[o].currentOutputSnapshotResolved,u=new an(n,e[o].path),a=new Zt(s,u,Nt);l.push(e[o].onComplete.bind(null,null,!0,a))}e[o].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),o=0;o<l.length;o++)Q(l[o])}else{if("datastale"===r)for(o=0;o<e.length;o++)e[o].status=e[o].status===dn.SENT_NEEDS_ABORT?dn.NEEDS_ABORT:dn.RUN;else for(S("transaction at "+d.toString()+" failed: "+r),o=0;o<e.length;o++)e[o].status=dn.NEEDS_ABORT,e[o].abortReason=r;n.rerunTransactions_(t)}}),o)},ln.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},ln.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===dn.RUN})).map((function(t){return t.currentWriteId})),l=0;l<t.length;l++){var o=t[l],u=J.relativePath(e,o.path),a=!1,c=void 0;if(s.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===dn.NEEDS_ABORT)a=!0,c=o.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(o.currentWriteId,!0));else if(o.status===dn.RUN)if(o.retryCount>=ln.MAX_TRANSACTION_RETRIES_)a=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(o.currentWriteId,!0));else{var h=this.getLatestState_(o.path,i);o.currentInputSnapshot=h;var d=t[l].update(h.val());if(void 0!==d){ct("transaction failed: Data returned ",d,o.path);var p=Wt(d);"object"==typeof d&&null!=d&&s.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=o.currentWriteId,g=this.generateServerValues(),m=le(p,g);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=m,o.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(f),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(o.path,m,o.currentWriteId,o.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else a=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(o.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],a&&(t[l].status=dn.COMPLETED,setTimeout(t[l].unwatcher,Math.floor(0)),t[l].onComplete))if("nodata"===c){var v=new an(this,t[l].path),y=new Zt(t[l].currentInputSnapshot,v,Nt);n.push(t[l].onComplete.bind(null,null,!1,y))}else n.push(t[l].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),l=0;l<n.length;l++)Q(n[l]);this.sendReadyTransactions_()}},ln.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},ln.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},ln.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},ln.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==dn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},ln.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},ln.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,l=0;l<e.length;l++)e[l].status===dn.SENT_NEEDS_ABORT||(e[l].status===dn.SENT?(s.assert(i===l-1,"All SENT items should be at beginning of queue."),i=l,e[l].status=dn.SENT_NEEDS_ABORT,e[l].abortReason="set"):(s.assert(e[l].status===dn.RUN,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[l].currentWriteId,!0)),e[l].onComplete&&n.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),l=0;l<n.length;l++)Q(n[l])}};var pn,fn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return pn||(pn=new t),pn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),l=i.next();!l.done;l=i.next()){var s=l.value;try{for(var u=(n=void 0,o.__values(Object.keys(this.repos_[s]))),a=u.next();!a.done;a=u.next())this.repos_[s][a.value].interrupt()}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{l&&!l.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),l=i.next();!l.done;l=i.next()){var s=l.value;try{for(var u=(n=void 0,o.__values(Object.keys(this.repos_[s]))),a=u.next();!a.done;a=u.next())this.repos_[s][a.value].resume()}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{l&&!l.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&T("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=nt(r),l=i.repoInfo,o=void 0;return"undefined"!=typeof process&&(o=process.env.FIREBASE_DATABASE_EMULATOR_HOST),o&&(l=(i=nt(r="http://"+o+"?ns="+l.namespace)).repoInfo),yt("Invalid Firebase Database URL",1,i),i.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(l,t,e).database},t.prototype.deleteRepo=function(t){var e=s.safeGet(this.repos_,t.app.name);e&&s.safeGet(e,t.repoInfo_.toURLString())===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=s.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=s.safeGet(r,t.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new ln(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),gn=function(){function t(t){this.repo_=t,t instanceof ln||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new an(t,J.Empty),this.INTERNAL=new mn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),t instanceof an?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),s.validateArgCount(e,1,1,arguments.length);var n=nt(t);yt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&T(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),mn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.database.checkDeleted_("delete"),fn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),vn=Object.freeze({__proto__:null,forceLongPolling:function(){Ye.forceDisallow(),Ge.forceAllow()},forceWebSockets:function(){Ge.forceDisallow()},isWebSocketsAvailable:function(){return Ye.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),yn=nn;nn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},nn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var _n=Object.freeze({__proto__:null,DataConnection:yn,RealTimeConnection:Je,hijackHash:function(t){var e=nn.prototype.put;return nn.prototype.put=function(n,r,i,l){void 0!==l&&(l=t()),e.call(this,n,r,i,l)},function(){nn.prototype.put=e}},ConnectionTarget:et,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){fn.getInstance().forceRestClient(t)}}),bn="@firebase/database",wn="0.5.22",kn=gn.ServerValue;function Cn(e){!function(t){$e=t}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return fn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:an,Query:ne,Database:gn,DataSnapshot:Zt,enableLogging:w,INTERNAL:vn,ServerValue:kn,TEST_ACCESS:_n}).setMultipleInstances(!0));e.registerVersion(bn,wn),s.isNodeSdk()&&(t.exports=n)}Cn(l),e.DataSnapshot=Zt,e.Database=gn,e.OnDisconnect=bt,e.Query=ne,e.Reference=an,e.ServerValue=kn,e.enableLogging=w,e.registerDatabase=Cn},NaFW:function(t,e,n){var r=n("9d/t"),i=n("P4y1"),l=n("tiKp")("iterator");t.exports=function(t){if(null!=t)return t[l]||t["@@iterator"]||i[r(t)]}},O741:function(t,e,n){var r=n("hh1v");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},P4y1:function(t,e){t.exports={}},Qo9l:function(t,e,n){var r=n("2oRo");t.exports=r},RK3t:function(t,e,n){var r=n("0Dky"),i=n("xrYK"),l="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?l.call(t,""):Object(t)}:Object},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),l=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(l){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var l=this.getOrInitializeService(i);if(!l){if(n)return null;throw Error("Service "+this.name+" is not available")}return l}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),l=i.next();!l.done;l=i.next()){var o=r.__read(l.value,2),s=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var a=this.getOrInitializeService(u);s.resolve(a)}catch(c){}}}catch(h){e={error:h}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=l,e.ComponentContainer=s,e.Provider=o},STAE:function(t,e,n){var r=n("0Dky");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},TWQb:function(t,e,n){var r=n("/GqU"),i=n("UMSQ"),l=n("I8vh"),o=function(t){return function(e,n,o){var s,u=r(e),a=i(u.length),c=l(o,a);if(t&&n!=n){for(;a>c;)if((s=u[c++])!=s)return!0}else for(;a>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},Tskq:function(t,e,n){"use strict";var r=n("bWFh"),i=n("ZWaQ");t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},UMSQ:function(t,e,n){var r=n("ppGB"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},UTVS:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},VpIT:function(t,e,n){var r=n("xDBR"),i=n("xs3f");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.7",mode:r?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},Vu81:function(t,e,n){var r=n("0GbY"),i=n("JBy8"),l=n("dBg+"),o=n("glrk");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(o(t)),n=l.f;return n?e.concat(n(t)):e}},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.10.0","app"),t.exports=i},XGwC:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},Y4C7:function(t,e,n){var r=n("I+eb"),i=n("eDxR"),l=n("glrk"),o=i.toKey,s=i.getMap,u=i.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=s(l(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var i=u.get(e);return i.delete(n),!!i.size||u.delete(e)}})},YGK4:function(t,e,n){"use strict";var r=n("bWFh"),i=n("ZWaQ");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},ZWaQ:function(t,e,n){"use strict";var r=n("m/L8").f,i=n("fHMY"),l=n("4syw"),o=n("+MLx"),s=n("GarU"),u=n("ImZN"),a=n("fdAy"),c=n("JiZb"),h=n("g6v/"),d=n("8YOa").fastKey,p=n("afO8"),f=p.set,g=p.getterFor;t.exports={getConstructor:function(t,e,n,a){var c=t((function(t,r){s(t,c,e),f(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=r&&u(r,t[a],t,n)})),p=g(e),m=function(t,e,n){var r,i,l=p(t),o=v(t,e);return o?o.value=n:(l.last=o={index:i=d(e,!0),key:e,value:n,previous:r=l.last,next:void 0,removed:!1},l.first||(l.first=o),r&&(r.next=o),h?l.size++:t.size++,"F"!==i&&(l.index[i]=o)),t},v=function(t,e){var n,r=p(t),i=d(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return l(c.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=p(this),n=v(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),h?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=p(this),r=o(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),l(c.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),h&&r(c.prototype,"size",{get:function(){return p(this).size}}),c},setStrong:function(t,e,n){var r=e+" Iterator",i=g(e),l=g(r);a(t,e,(function(t,e){f(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=l(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},ZfDv:function(t,e,n){var r=n("hh1v"),i=n("6LWA"),l=n("tiKp")("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[l])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},ZsH6:function(t,e,n){var r=n("I+eb"),i=n("eDxR"),l=n("glrk"),o=n("4WOD"),s=i.has,u=i.get,a=i.toKey,c=function(t,e,n){if(s(t,e,n))return u(t,e,n);var r=o(e);return null!==r?c(t,r,n):void 0};r({target:"Reflect",stat:!0},{getMetadata:function(t,e){var n=arguments.length<3?void 0:a(arguments[2]);return c(t,l(e),n)}})},afO8:function(t,e,n){var r,i,l,o=n("f5p1"),s=n("2oRo"),u=n("hh1v"),a=n("kRJp"),c=n("UTVS"),h=n("93I0"),d=n("0BK2");if(o){var p=new(0,s.WeakMap),f=p.get,g=p.has,m=p.set;r=function(t,e){return m.call(p,t,e),e},i=function(t){return f.call(p,t)||{}},l=function(t){return g.call(p,t)}}else{var v=h("state");d[v]=!0,r=function(t,e){return a(t,v,e),e},i=function(t){return c(t,v)?t[v]:{}},l=function(t){return c(t,v)}}t.exports={set:r,get:i,has:l,enforce:function(t){return l(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},bWFh:function(t,e,n){"use strict";var r=n("I+eb"),i=n("2oRo"),l=n("lMq5"),o=n("busE"),s=n("8YOa"),u=n("ImZN"),a=n("GarU"),c=n("hh1v"),h=n("0Dky"),d=n("HH4o"),p=n("1E5z"),f=n("cVYH");t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),v=g?"set":"add",y=i[t],_=y&&y.prototype,b=y,w={},k=function(t){var e=_[t];o(_,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(l(t,"function"!=typeof y||!(m||_.forEach&&!h((function(){(new y).entries().next()})))))b=n.getConstructor(e,t,g,v),s.REQUIRED=!0;else if(l(t,!0)){var C=new b,E=C[v](m?{}:-0,1)!=C,T=h((function(){C.has(1)})),S=d((function(t){new y(t)})),I=!m&&h((function(){for(var t=new y,e=5;e--;)t[v](e,e);return!t.has(-0)}));S||((b=e((function(e,n){a(e,b,t);var r=f(new y,e,b);return null!=n&&u(n,r[v],r,g),r}))).prototype=_,_.constructor=b),(T||I)&&(k("delete"),k("has"),g&&k("get")),(I||E)&&k(v),m&&_.clear&&delete _.clear}return w[t]=b,r({global:!0,forced:b!=y},w),p(b,t),m||n.setStrong(b,t,g),b}},bdeN:function(t,e,n){var r=n("I+eb"),i=n("eDxR"),l=n("glrk"),o=n("4WOD"),s=i.has,u=i.toKey,a=function(t,e,n){if(s(t,e,n))return!0;var r=o(e);return null!==r&&a(t,r,n)};r({target:"Reflect",stat:!0},{hasMetadata:function(t,e){var n=arguments.length<3?void 0:u(arguments[2]);return a(t,l(e),n)}})},busE:function(t,e,n){var r=n("2oRo"),i=n("kRJp"),l=n("UTVS"),o=n("zk60"),s=n("iSVu"),u=n("afO8"),a=u.get,c=u.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,a=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||l(n,"name")||i(n,"name",e),c(n).source=h.join("string"==typeof e?e:"")),t!==r?(u?!d&&t[e]&&(a=!0):delete t[e],a?t[e]=n:i(t,e,n)):a?t[e]=n:o(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&a(this).source||s(this)}))},cVYH:function(t,e,n){var r=n("hh1v"),i=n("0rvr");t.exports=function(t,e,n){var l,o;return i&&"function"==typeof(l=e.constructor)&&l!==n&&r(o=l.prototype)&&o!==n.prototype&&i(t,o),t}},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},"dBg+":function(t,e){e.f=Object.getOwnPropertySymbols},"eDl+":function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},eDxR:function(t,e,n){var r=n("Tskq"),i=n("ENF9"),l=n("VpIT")("metadata"),o=l.store||(l.store=new i),s=function(t,e,n){var i=o.get(t);if(!i){if(!n)return;o.set(t,i=new r)}var l=i.get(e);if(!l){if(!n)return;i.set(e,l=new r)}return l};t.exports={store:o,getMap:s,has:function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){s(n,r,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach((function(t,e){r.push(e)})),r},toKey:function(t){return void 0===t||"symbol"==typeof t?t:String(t)}}},ewvW:function(t,e,n){var r=n("HYAF");t.exports=function(t){return Object(r(t))}},f5p1:function(t,e,n){var r=n("2oRo"),i=n("iSVu"),l=r.WeakMap;t.exports="function"==typeof l&&/native code/.test(i(l))},fHMY:function(t,e,n){var r=n("glrk"),i=n("N+g0"),l=n("eDl+"),o=n("0BK2"),s=n("G+Rx"),u=n("zBJ4"),a=n("93I0")("IE_PROTO"),c=function(){},h=function(){var t,e=u("iframe"),n=l.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;n--;)delete h.prototype[l[n]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=r(t),n=new c,c.prototype=null,n[a]=t):n=h(),void 0===e?n:i(n,e)},o[a]=!0},fdAy:function(t,e,n){"use strict";var r=n("I+eb"),i=n("ntOU"),l=n("4WOD"),o=n("0rvr"),s=n("1E5z"),u=n("kRJp"),a=n("busE"),c=n("tiKp"),h=n("xDBR"),d=n("P4y1"),p=n("rpNk"),f=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v=function(){return this};t.exports=function(t,e,n,c,p,y,_){i(n,e,c);var b,w,k,C=function(t){if(t===p&&x)return x;if(!g&&t in S)return S[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",T=!1,S=t.prototype,I=S[m]||S["@@iterator"]||p&&S[p],x=!g&&I||C(p),A="Array"==e&&S.entries||I;if(A&&(b=l(A.call(new t)),f!==Object.prototype&&b.next&&(h||l(b)===f||(o?o(b,f):"function"!=typeof b[m]&&u(b,m,v)),s(b,E,!0,!0),h&&(d[E]=v))),"values"==p&&I&&"values"!==I.name&&(T=!0,x=function(){return I.call(this)}),h&&!_||S[m]===x||u(S,m,x),d[e]=x,p)if(w={values:C("values"),keys:y?x:C("keys"),entries:C("entries")},_)for(k in w)!g&&!T&&k in S||a(S,k,w[k]);else r({target:e,proto:!0,forced:g||T},w);return w}},"g6v/":function(t,e,n){var r=n("0Dky");t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},glrk:function(t,e,n){var r=n("hh1v");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"hN/g":function(t,e,n){"use strict";n.r(e),n("6PKz"),n("pDpN")},hh1v:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},iSVu:function(t,e,n){var r=n("VpIT"),i=Function.toString;t.exports=r("inspectSource",(function(t){return i.call(t)}))},kOOl:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},kRJp:function(t,e,n){var r=n("g6v/"),i=n("m/L8"),l=n("XGwC");t.exports=r?function(t,e,n){return i.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t}},l2P5:function(t,e,n){"undefined"!=typeof window&&window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,(function(e){return t[e]}).bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";n.r(e);var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e;return(e=[{key:"getDescendantProperty",value:function(e,n){var r,i,l,o,s,u,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n){if(-1===(l=n.indexOf("."))?r=n:(r=n.slice(0,l),i=n.slice(l+1)),null!=(o=e[r]))if(i||"string"!=typeof o&&"number"!=typeof o)if("[object Array]"===Object.prototype.toString.call(o))for(s=0,u=o.length;s<u;s++)t.getDescendantProperty(o[s],i,a);else i&&t.getDescendantProperty(o,i,a);else a.push(o)}else a.push(e);return a}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t,e),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"default",(function(){return l}));var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(n)||(r=n,n=[]),this.haystack=e,this.keys=n,this.options=Object.assign({caseSensitive:!1,sort:!1},r)}var e,n,l;return e=t,l=[{key:"isMatch",value:function(t,e,n){n||(t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase());for(var r=e.split(""),i=[],l=0,o=0;o<r.length;o++){if(-1===(l=t.indexOf(r[o],l)))return!1;i.push(l),l++}return t===e?1:i.length>1?i[i.length-1]-i[0]+2:2+i[0]}}],(n=[{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===e)return this.haystack;for(var n=[],i=0;i<this.haystack.length;i++){var l=this.haystack[i];if(0===this.keys.length){var o=t.isMatch(l,e,this.options.caseSensitive);o&&n.push({item:l,score:o})}else for(var s=0;s<this.keys.length;s++){for(var u=r.getDescendantProperty(l,this.keys[s]),a=!1,c=0;c<u.length;c++){var h=t.isMatch(u[c],e,this.options.caseSensitive);if(h){a=!0,n.push({item:l,score:h});break}}if(a)break}}return this.options.sort&&n.sort((function(t,e){return t.score-e.score})),n.map((function(t){return t.item}))}}])&&i(e.prototype,n),l&&i(e,l),t}()}]).default},lMq5:function(t,e,n){var r=n("0Dky"),i=/#|\.prototype\./,l=function(t,e){var n=s[o(t)];return n==a||n!=u&&("function"==typeof e?r(e):!!e)},o=l.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=l.data={},u=l.NATIVE="N",a=l.POLYFILL="P";t.exports=l},"m/L8":function(t,e,n){var r=n("g6v/"),i=n("DPsx"),l=n("glrk"),o=n("wE6v"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(l(t),e=o(e,!0),l(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},m92n:function(t,e,n){var r=n("glrk");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var l=t.return;throw void 0!==l&&r(l.call(t)),o}}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return l})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return a})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return f})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,l=arguments.length,o=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(l<3?i(o):l>3?i(e,n,o):i(e,n))||o);return l>3&&o&&Object.defineProperty(e,n,o),o}function u(t,e){return function(n,r){e(n,r,t)}}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,l){function o(t){try{u(r.next(t))}catch(e){l(e)}}function s(t){try{u(r.throw(t))}catch(e){l(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(o,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,l,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=e.call(t,o)}catch(s){l=[6,s],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,l=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=l.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return o}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var l=arguments[e],o=0,s=l.length;o<s;o++,i++)r[i]=l[o];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),l=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){l.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,a):c(l[0][2],n)}catch(r){c(l[0][3],r)}var n}function u(t){s("next",t)}function a(t){s("throw",t)}function c(t,e){t(e),l.shift(),l.length&&s(l[0][0],l[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},ntOU:function(t,e,n){"use strict";var r=n("rpNk").IteratorPrototype,i=n("fHMY"),l=n("XGwC"),o=n("1E5z"),s=n("P4y1"),u=function(){return this};t.exports=function(t,e,n){var a=e+" Iterator";return t.prototype=i(r,{next:l(1,n)}),o(t,a,!1,!0),s[a]=u,t}},pDpN:function(t,e){!function(t){const e=t.performance;function n(t){e&&e.mark&&e.mark(t)}function r(t,n){e&&e.measure&&e.measure(t,n)}n("Zone");const i=!0===t.__zone_symbol__forceDuplicateZoneCheck;if(t.Zone){if(i||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}class l{constructor(t,e){this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,e)}static assertZonePatched(){if(t.Promise!==I.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=l.current;for(;t.parent;)t=t.parent;return t}static get current(){return A.zone}static get currentTask(){return N}static __load_patch(e,o){if(I.hasOwnProperty(e)){if(i)throw Error("Already loaded patch: "+e)}else if(!t["__Zone_disable_"+e]){const i="Zone:"+e;n(i),I[e]=o(t,l,x),r(i,i)}}get parent(){return this._parent}get name(){return this._name}get(t){const e=this.getZoneWith(t);if(e)return e._properties[t]}getZoneWith(t){let e=this;for(;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const n=this._zoneDelegate.intercept(this,t,e),r=this;return function(){return r.runGuarded(n,this,arguments,e)}}run(t,e,n,r){A={parent:A,zone:this};try{return this._zoneDelegate.invoke(this,t,e,n,r)}finally{A=A.parent}}runGuarded(t,e=null,n,r){A={parent:A,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,n,r)}catch(i){if(this._zoneDelegate.handleError(this,i))throw i}}finally{A=A.parent}}runTask(t,e,n){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||v).name+"; Execution: "+this.name+")");if(t.state===y&&(t.type===S||t.type===T))return;const r=t.state!=w;r&&t._transitionTo(w,b),t.runCount++;const i=N;N=t,A={parent:A,zone:this};try{t.type==T&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,n)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==y&&t.state!==C&&(t.type==S||t.data&&t.data.isPeriodic?r&&t._transitionTo(b,w):(t.runCount=0,this._updateTaskCount(t,-1),r&&t._transitionTo(y,w,y))),A=A.parent,N=i}}scheduleTask(t){if(t.zone&&t.zone!==this){let e=this;for(;e;){if(e===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);e=e.parent}}t._transitionTo(_,y);const e=[];t._zoneDelegates=e,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(n){throw t._transitionTo(C,_,y),this._zoneDelegate.handleError(this,n),n}return t._zoneDelegates===e&&this._updateTaskCount(t,1),t.state==_&&t._transitionTo(b,_),t}scheduleMicroTask(t,e,n,r){return this.scheduleTask(new u(E,t,e,n,r,void 0))}scheduleMacroTask(t,e,n,r,i){return this.scheduleTask(new u(T,t,e,n,r,i))}scheduleEventTask(t,e,n,r,i){return this.scheduleTask(new u(S,t,e,n,r,i))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||v).name+"; Execution: "+this.name+")");t._transitionTo(k,b,w);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(C,k),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(y,k),t.runCount=0,t}_updateTaskCount(t,e){const n=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(let r=0;r<n.length;r++)n[r]._updateTaskCount(t.type,e)}}l.__symbol__=D;const o={name:"",onHasTask:(t,e,n,r)=>t.hasTask(n,r),onScheduleTask:(t,e,n,r)=>t.scheduleTask(n,r),onInvokeTask:(t,e,n,r,i,l)=>t.invokeTask(n,r,i,l),onCancelTask:(t,e,n,r)=>t.cancelTask(n,r)};class s{constructor(t,e,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=e,this._forkZS=n&&(n&&n.onFork?n:e._forkZS),this._forkDlgt=n&&(n.onFork?e:e._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:e.zone),this._interceptZS=n&&(n.onIntercept?n:e._interceptZS),this._interceptDlgt=n&&(n.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:e.zone),this._invokeZS=n&&(n.onInvoke?n:e._invokeZS),this._invokeDlgt=n&&(n.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:e.zone),this._handleErrorZS=n&&(n.onHandleError?n:e._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:e.zone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:e._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:e.zone),this._invokeTaskZS=n&&(n.onInvokeTask?n:e._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:e.zone),this._cancelTaskZS=n&&(n.onCancelTask?n:e._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:e.zone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const r=n&&n.onHasTask;(r||e&&e._hasTaskZS)&&(this._hasTaskZS=r?n:o,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,n.onScheduleTask||(this._scheduleTaskZS=o,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=o,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=o,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}fork(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new l(t,e)}intercept(t,e,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,n):e}invoke(t,e,n,r,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,n,r,i):e.apply(n,r)}handleError(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)}scheduleTask(t,e){let n=e;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),(n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e))||(n=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=E)throw new Error("Task is missing scheduleFn.");g(e)}return n}invokeTask(t,e,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,n,r):e.callback.apply(n,r)}cancelTask(t,e){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");n=e.cancelFn(e)}return n}hasTask(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(n){this.handleError(t,n)}}_updateTaskCount(t,e){const n=this._taskCounts,r=n[t],i=n[t]=r+e;if(i<0)throw new Error("More tasks executed then were scheduled.");0!=r&&0!=i||this.hasTask(this.zone,{microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:t})}}class u{constructor(e,n,r,i,l,o){this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=n,this.data=i,this.scheduleFn=l,this.cancelFn=o,this.callback=r;const s=this;this.invoke=e===S&&i&&i.useG?u.invokeTask:function(){return u.invokeTask.call(t,s,this,arguments)}}static invokeTask(t,e,n){t||(t=this),P++;try{return t.runCount++,t.zone.runTask(t,e,n)}finally{1==P&&m(),P--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(y,_)}_transitionTo(t,e,n){if(this._state!==e&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${t}', expecting state '${e}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=t,t==y&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const a=D("setTimeout"),c=D("Promise"),h=D("then");let d,p=[],f=!1;function g(e){if(0===P&&0===p.length)if(d||t[c]&&(d=t[c].resolve(0)),d){let t=d[h];t||(t=d.then),t.call(d,m)}else t[a](m,0);e&&p.push(e)}function m(){if(!f){for(f=!0;p.length;){const e=p;p=[];for(let n=0;n<e.length;n++){const r=e[n];try{r.zone.runTask(r,null,null)}catch(t){x.onUnhandledError(t)}}}x.microtaskDrainDone(),f=!1}}const v={name:"NO ZONE"},y="notScheduled",_="scheduling",b="scheduled",w="running",k="canceling",C="unknown",E="microTask",T="macroTask",S="eventTask",I={},x={symbol:D,currentZoneFrame:()=>A,onUnhandledError:O,microtaskDrainDone:O,scheduleMicroTask:g,showUncaughtError:()=>!l[D("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:O,patchMethod:()=>O,bindArguments:()=>[],patchThen:()=>O,patchMacroTask:()=>O,setNativePromise:t=>{t&&"function"==typeof t.resolve&&(d=t.resolve(0))},patchEventPrototype:()=>O,isIEOrEdge:()=>!1,getGlobalObjects:()=>void 0,ObjectDefineProperty:()=>O,ObjectGetOwnPropertyDescriptor:()=>void 0,ObjectCreate:()=>void 0,ArraySlice:()=>[],patchClass:()=>O,wrapWithCurrentZone:()=>O,filterProperties:()=>[],attachOriginToPatched:()=>O,_redefineProperty:()=>O,patchCallbacks:()=>O};let A={parent:null,zone:new l(null,null)},N=null,P=0;function O(){}function D(t){return"__zone_symbol__"+t}r("Zone","Zone"),t.Zone=l}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",(t,e,n)=>{const r=Object.getOwnPropertyDescriptor,i=Object.defineProperty,l=n.symbol,o=[],s=l("Promise"),u=l("then"),a="__creationTrace__";n.onUnhandledError=t=>{if(n.showUncaughtError()){const e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},n.microtaskDrainDone=()=>{for(;o.length;)for(;o.length;){const e=o.shift();try{e.zone.runGuarded(()=>{throw e})}catch(t){h(t)}}};const c=l("unhandledPromiseRejectionHandler");function h(t){n.onUnhandledError(t);try{const n=e[c];n&&"function"==typeof n&&n.call(this,t)}catch(r){}}function d(t){return t&&t.then}function p(t){return t}function f(t){return R.reject(t)}const g=l("state"),m=l("value"),v=l("finally"),y=l("parentPromiseValue"),_=l("parentPromiseState"),b="Promise.then",w=null,k=!0,C=!1,E=0;function T(t,e){return n=>{try{A(t,e,n)}catch(r){A(t,!1,r)}}}const S=function(){let t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}},I="Promise resolved with itself",x=l("currentTaskTrace");function A(t,r,l){const s=S();if(t===l)throw new TypeError(I);if(t[g]===w){let h=null;try{"object"!=typeof l&&"function"!=typeof l||(h=l&&l.then)}catch(c){return s(()=>{A(t,!1,c)})(),t}if(r!==C&&l instanceof R&&l.hasOwnProperty(g)&&l.hasOwnProperty(m)&&l[g]!==w)P(l),A(t,l[g],l[m]);else if(r!==C&&"function"==typeof h)try{h.call(l,s(T(t,r)),s(T(t,!1)))}catch(c){s(()=>{A(t,!1,c)})()}else{t[g]=r;const s=t[m];if(t[m]=l,t[v]===v&&r===k&&(t[g]=t[_],t[m]=t[y]),r===C&&l instanceof Error){const t=e.currentTask&&e.currentTask.data&&e.currentTask.data[a];t&&i(l,x,{configurable:!0,enumerable:!1,writable:!0,value:t})}for(let e=0;e<s.length;)O(t,s[e++],s[e++],s[e++],s[e++]);if(0==s.length&&r==C){t[g]=E;try{throw new Error("Uncaught (in promise): "+((u=l)&&u.toString===Object.prototype.toString?(u.constructor&&u.constructor.name||"")+": "+JSON.stringify(u):u?u.toString():Object.prototype.toString.call(u))+(l&&l.stack?"\n"+l.stack:""))}catch(c){const r=c;r.rejection=l,r.promise=t,r.zone=e.current,r.task=e.currentTask,o.push(r),n.scheduleMicroTask()}}}}var u;return t}const N=l("rejectionHandledHandler");function P(t){if(t[g]===E){try{const n=e[N];n&&"function"==typeof n&&n.call(this,{rejection:t[m],promise:t})}catch(n){}t[g]=C;for(let e=0;e<o.length;e++)t===o[e].promise&&o.splice(e,1)}}function O(t,e,n,r,i){P(t);const l=t[g],o=l?"function"==typeof r?r:p:"function"==typeof i?i:f;e.scheduleMicroTask(b,()=>{try{const r=t[m],i=n&&v===n[v];i&&(n[y]=r,n[_]=l);const s=e.run(o,void 0,i&&o!==f&&o!==p?[]:[r]);A(n,!0,s)}catch(r){A(n,!1,r)}},n)}const D="function ZoneAwarePromise() { [native code] }";class R{constructor(t){const e=this;if(!(e instanceof R))throw new Error("Must be an instanceof Promise.");e[g]=w,e[m]=[];try{t&&t(T(e,k),T(e,C))}catch(n){A(e,!1,n)}}static toString(){return D}static resolve(t){return A(new this(null),k,t)}static reject(t){return A(new this(null),C,t)}static race(t){let e,n,r=new this((t,r)=>{e=t,n=r});function i(t){e(t)}function l(t){n(t)}for(let o of t)d(o)||(o=this.resolve(o)),o.then(i,l);return r}static all(t){let e,n,r=new this((t,r)=>{e=t,n=r}),i=2,l=0;const o=[];for(let s of t){d(s)||(s=this.resolve(s));const t=l;s.then(n=>{o[t]=n,0==--i&&e(o)},n),i++,l++}return 0==(i-=2)&&e(o),r}get[Symbol.toStringTag](){return"Promise"}then(t,n){const r=new this.constructor(null),i=e.current;return this[g]==w?this[m].push(i,r,t,n):O(this,i,r,t,n),r}catch(t){return this.then(null,t)}finally(t){const n=new this.constructor(null);n[v]=v;const r=e.current;return this[g]==w?this[m].push(r,n,t,t):O(this,r,n,t,t),n}}R.resolve=R.resolve,R.reject=R.reject,R.race=R.race,R.all=R.all;const M=t[s]=t.Promise,L=e.__symbol__("ZoneAwarePromise");let F=r(t,"Promise");F&&!F.configurable||(F&&delete F.writable,F&&delete F.value,F||(F={configurable:!0,enumerable:!0}),F.get=function(){return t[L]?t[L]:t[s]},F.set=function(e){e===R?t[L]=e:(t[s]=e,e.prototype[u]||U(e),n.setNativePromise(e))},i(t,"Promise",F)),t.Promise=R;const j=l("thenPatched");function U(t){const e=t.prototype,n=r(e,"then");if(n&&(!1===n.writable||!n.configurable))return;const i=e.then;e[u]=i,t.prototype.then=function(t,e){return new R((t,e)=>{i.call(this,t,e)}).then(t,e)},t[j]=!0}if(n.patchThen=U,M){U(M);const e=t.fetch;"function"==typeof e&&(t[n.symbol("fetch")]=e,t.fetch=function(t){return function(){let e=t.apply(this,arguments);if(e instanceof R)return e;let n=e.constructor;return n[j]||U(n),e}}(e))}return Promise[e.__symbol__("uncaughtPromiseErrors")]=o,R});const n=Object.getOwnPropertyDescriptor,r=Object.defineProperty,i=Object.getPrototypeOf,l=Object.create,o=Array.prototype.slice,s="addEventListener",u="removeEventListener",a=Zone.__symbol__(s),c=Zone.__symbol__(u),h="true",d="false",p="__zone_symbol__";function f(t,e){return Zone.current.wrap(t,e)}function g(t,e,n,r,i){return Zone.current.scheduleMacroTask(t,e,n,r,i)}const m=Zone.__symbol__,v="undefined"!=typeof window,y=v?window:void 0,_=v&&y||"object"==typeof self&&self||global,b="removeAttribute",w=[null];function k(t,e){for(let n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=f(t[n],e+"_"+n));return t}function C(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const E="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,T=!("nw"in _)&&void 0!==_.process&&"[object process]"==={}.toString.call(_.process),S=!T&&!E&&!(!v||!y.HTMLElement),I=void 0!==_.process&&"[object process]"==={}.toString.call(_.process)&&!E&&!(!v||!y.HTMLElement),x={},A=function(t){if(!(t=t||_.event))return;let e=x[t.type];e||(e=x[t.type]=m("ON_PROPERTY"+t.type));const n=this||t.target||_,r=n[e];let i;if(S&&n===y&&"error"===t.type){const e=t;!0===(i=r&&r.call(this,e.message,e.filename,e.lineno,e.colno,e.error))&&t.preventDefault()}else null==(i=r&&r.apply(this,arguments))||i||t.preventDefault();return i};function N(t,e,i){let l=n(t,e);if(!l&&i&&n(i,e)&&(l={enumerable:!0,configurable:!0}),!l||!l.configurable)return;const o=m("on"+e+"patched");if(t.hasOwnProperty(o)&&t[o])return;delete l.writable,delete l.value;const s=l.get,u=l.set,a=e.substr(2);let c=x[a];c||(c=x[a]=m("ON_PROPERTY"+a)),l.set=function(e){let n=this;n||t!==_||(n=_),n&&(n[c]&&n.removeEventListener(a,A),u&&u.apply(n,w),"function"==typeof e?(n[c]=e,n.addEventListener(a,A,!1)):n[c]=null)},l.get=function(){let n=this;if(n||t!==_||(n=_),!n)return null;const r=n[c];if(r)return r;if(s){let t=s&&s.call(this);if(t)return l.set.call(this,t),"function"==typeof n[b]&&n.removeAttribute(e),t}return null},r(t,e,l),t[o]=!0}function P(t,e,n){if(e)for(let r=0;r<e.length;r++)N(t,"on"+e[r],n);else{const e=[];for(const n in t)"on"==n.substr(0,2)&&e.push(n);for(let r=0;r<e.length;r++)N(t,e[r],n)}}const O=m("originalInstance");function D(t){const e=_[t];if(!e)return;_[m(t)]=e,_[t]=function(){const n=k(arguments,t);switch(n.length){case 0:this[O]=new e;break;case 1:this[O]=new e(n[0]);break;case 2:this[O]=new e(n[0],n[1]);break;case 3:this[O]=new e(n[0],n[1],n[2]);break;case 4:this[O]=new e(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},F(_[t],e);const n=new e((function(){}));let i;for(i in n)"XMLHttpRequest"===t&&"responseBlob"===i||function(e){"function"==typeof n[e]?_[t].prototype[e]=function(){return this[O][e].apply(this[O],arguments)}:r(_[t].prototype,e,{set:function(n){"function"==typeof n?(this[O][e]=f(n,t+"."+e),F(this[O][e],n)):this[O][e]=n},get:function(){return this[O][e]}})}(i);for(i in e)"prototype"!==i&&e.hasOwnProperty(i)&&(_[t][i]=e[i])}let R=!1;function M(t,e,r){let l=t;for(;l&&!l.hasOwnProperty(e);)l=i(l);!l&&t[e]&&(l=t);const o=m(e);let s=null;if(l&&!(s=l[o])&&(s=l[o]=l[e],C(l&&n(l,e)))){const t=r(s,o,e);l[e]=function(){return t(this,arguments)},F(l[e],s),R&&(u=s,a=l[e],"function"==typeof Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(u).forEach(t=>{const e=Object.getOwnPropertyDescriptor(u,t);Object.defineProperty(a,t,{get:function(){return u[t]},set:function(n){(!e||e.writable&&"function"==typeof e.set)&&(u[t]=n)},enumerable:!e||e.enumerable,configurable:!e||e.configurable})}))}var u,a;return s}function L(t,e,n){let r=null;function i(t){const e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},r.apply(e.target,e.args),t}r=M(t,e,t=>(function(e,r){const l=n(e,r);return l.cbIdx>=0&&"function"==typeof r[l.cbIdx]?g(l.name,r[l.cbIdx],l,i):t.apply(e,r)}))}function F(t,e){t[m("OriginalDelegate")]=e}let j=!1,U=!1;function V(){try{const t=y.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}function q(){if(j)return U;j=!0;try{const t=y.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(U=!0)}catch(t){}return U}Zone.__load_patch("toString",t=>{const e=Function.prototype.toString,n=m("OriginalDelegate"),r=m("Promise"),i=m("Error"),l=function(){if("function"==typeof this){const l=this[n];if(l)return"function"==typeof l?e.call(l):Object.prototype.toString.call(l);if(this===Promise){const n=t[r];if(n)return e.call(n)}if(this===Error){const n=t[i];if(n)return e.call(n)}}return e.call(this)};l[n]=e,Function.prototype.toString=l;const o=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":o.call(this)}});let z=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){z=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(Ct){z=!1}const H={useG:!0},B={},W={},G=/^__zone_symbol__(\w+)(true|false)$/,K="__zone_symbol__propagationStopped";function $(t,e,n){const r=n&&n.add||s,l=n&&n.rm||u,o=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",c=m(r),f="."+r+":",g="prependListener",v="."+g+":",y=function(t,e,n){if(t.isRemoved)return;const r=t.callback;"object"==typeof r&&r.handleEvent&&(t.callback=t=>r.handleEvent(t),t.originalDelegate=r),t.invoke(t,e,[n]);const i=t.options;i&&"object"==typeof i&&i.once&&e[l].call(e,n.type,t.originalDelegate?t.originalDelegate:t.callback,i)},_=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,r=n[B[e.type][d]];if(r)if(1===r.length)y(r[0],n,e);else{const t=r.slice();for(let r=0;r<t.length&&(!e||!0!==e[K]);r++)y(t[r],n,e)}},b=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,r=n[B[e.type][h]];if(r)if(1===r.length)y(r[0],n,e);else{const t=r.slice();for(let r=0;r<t.length&&(!e||!0!==e[K]);r++)y(t[r],n,e)}};function w(e,n){if(!e)return!1;let s=!0;n&&void 0!==n.useG&&(s=n.useG);const u=n&&n.vh;let y=!0;n&&void 0!==n.chkDup&&(y=n.chkDup);let w=!1;n&&void 0!==n.rt&&(w=n.rt);let k=e;for(;k&&!k.hasOwnProperty(r);)k=i(k);if(!k&&e[r]&&(k=e),!k)return!1;if(k[c])return!1;const C=n&&n.eventNameToString,E={},S=k[c]=k[r],I=k[m(l)]=k[l],x=k[m(o)]=k[o],A=k[m(a)]=k[a];let N;function P(t){z||"boolean"==typeof E.options||null==E.options||(t.options=!!E.options.capture,E.options=t.options)}n&&n.prepend&&(N=k[m(n.prepend)]=k[n.prepend]);const O=s?function(t){if(!E.isExisting)return P(t),S.call(E.target,E.eventName,E.capture?b:_,E.options)}:function(t){return P(t),S.call(E.target,E.eventName,t.invoke,E.options)},D=s?function(t){if(!t.isRemoved){const e=B[t.eventName];let n;e&&(n=e[t.capture?h:d]);const r=n&&t.target[n];if(r)for(let i=0;i<r.length;i++)if(r[i]===t){r.splice(i,1),t.isRemoved=!0,0===r.length&&(t.allRemoved=!0,t.target[n]=null);break}}if(t.allRemoved)return I.call(t.target,t.eventName,t.capture?b:_,t.options)}:function(t){return I.call(t.target,t.eventName,t.invoke,t.options)},R=n&&n.diff?n.diff:function(t,e){const n=typeof e;return"function"===n&&t.callback===e||"object"===n&&t.originalDelegate===e},M=Zone[Zone.__symbol__("BLACK_LISTED_EVENTS")],L=function(e,n,r,i,l=!1,o=!1){return function(){const a=this||t,c=arguments[0];let f=arguments[1];if(!f)return e.apply(this,arguments);if(T&&"uncaughtException"===c)return e.apply(this,arguments);let g=!1;if("function"!=typeof f){if(!f.handleEvent)return e.apply(this,arguments);g=!0}if(u&&!u(e,f,a,arguments))return;const m=arguments[2];if(M)for(let t=0;t<M.length;t++)if(c===M[t])return e.apply(this,arguments);let v,_=!1;void 0===m?v=!1:!0===m?v=!0:!1===m?v=!1:(v=!!m&&!!m.capture,_=!!m&&!!m.once);const b=Zone.current,w=B[c];let k;if(w)k=w[v?h:d];else{const t=(C?C(c):c)+d,e=(C?C(c):c)+h,n=p+t,r=p+e;B[c]={},B[c][d]=n,B[c][h]=r,k=v?r:n}let S,I=a[k],x=!1;if(I){if(x=!0,y)for(let t=0;t<I.length;t++)if(R(I[t],f))return}else I=a[k]=[];const A=a.constructor.name,N=W[A];N&&(S=N[c]),S||(S=A+n+(C?C(c):c)),E.options=m,_&&(E.options.once=!1),E.target=a,E.capture=v,E.eventName=c,E.isExisting=x;const P=s?H:void 0;P&&(P.taskData=E);const O=b.scheduleEventTask(S,f,P,r,i);return E.target=null,P&&(P.taskData=null),_&&(m.once=!0),(z||"boolean"!=typeof O.options)&&(O.options=m),O.target=a,O.capture=v,O.eventName=c,g&&(O.originalDelegate=f),o?I.unshift(O):I.push(O),l?a:void 0}};return k[r]=L(S,f,O,D,w),N&&(k[g]=L(N,v,(function(t){return N.call(E.target,E.eventName,t.invoke,E.options)}),D,w,!0)),k[l]=function(){const e=this||t,n=arguments[0],r=arguments[2];let i;i=void 0!==r&&(!0===r||!1!==r&&!!r&&!!r.capture);const l=arguments[1];if(!l)return I.apply(this,arguments);if(u&&!u(I,l,e,arguments))return;const o=B[n];let s;o&&(s=o[i?h:d]);const a=s&&e[s];if(a)for(let t=0;t<a.length;t++){const n=a[t];if(R(n,l))return a.splice(t,1),n.isRemoved=!0,0===a.length&&(n.allRemoved=!0,e[s]=null),n.zone.cancelTask(n),w?e:void 0}return I.apply(this,arguments)},k[o]=function(){const e=this||t,n=arguments[0],r=[],i=Q(e,C?C(n):n);for(let t=0;t<i.length;t++){const e=i[t];r.push(e.originalDelegate?e.originalDelegate:e.callback)}return r},k[a]=function(){const e=this||t,n=arguments[0];if(n){const t=B[n];if(t){const r=e[t[d]],i=e[t[h]];if(r){const t=r.slice();for(let e=0;e<t.length;e++){const r=t[e];this[l].call(this,n,r.originalDelegate?r.originalDelegate:r.callback,r.options)}}if(i){const t=i.slice();for(let e=0;e<t.length;e++){const r=t[e];this[l].call(this,n,r.originalDelegate?r.originalDelegate:r.callback,r.options)}}}}else{const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=G.exec(t[e]);let r=n&&n[1];r&&"removeListener"!==r&&this[a].call(this,r)}this[a].call(this,"removeListener")}if(w)return this},F(k[r],S),F(k[l],I),A&&F(k[a],A),x&&F(k[o],x),!0}let k=[];for(let i=0;i<e.length;i++)k[i]=w(e[i],n);return k}function Q(t,e){const n=[];for(let r in t){const i=G.exec(r);let l=i&&i[1];if(l&&(!e||l===e)){const e=t[r];if(e)for(let t=0;t<e.length;t++)n.push(e[t])}}return n}function Y(t,e){const n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",t=>(function(e,n){e[K]=!0,t&&t.apply(e,n)}))}function Z(t,e,n,r,i){const l=Zone.__symbol__(r);if(e[l])return;const o=e[l]=e[r];e[r]=function(l,s,u){return s&&s.prototype&&i.forEach((function(e){const i=`${n}.${r}::`+e,l=s.prototype;if(l.hasOwnProperty(e)){const n=t.ObjectGetOwnPropertyDescriptor(l,e);n&&n.value?(n.value=t.wrapWithCurrentZone(n.value,i),t._redefineProperty(s.prototype,e,n)):l[e]&&(l[e]=t.wrapWithCurrentZone(l[e],i))}else l[e]&&(l[e]=t.wrapWithCurrentZone(l[e],i))})),o.call(e,l,s,u)},t.attachOriginToPatched(e[r],o)}const J=Zone.__symbol__,X=Object[J("defineProperty")]=Object.defineProperty,tt=Object[J("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,et=Object.create,nt=J("unconfigurables");function rt(t,e,n){const r=n.configurable;return ot(t,e,n=lt(t,e,n),r)}function it(t,e){return t&&t[nt]&&t[nt][e]}function lt(t,e,n){return Object.isFrozen(n)||(n.configurable=!0),n.configurable||(t[nt]||Object.isFrozen(t)||X(t,nt,{writable:!0,value:{}}),t[nt]&&(t[nt][e]=!0)),n}function ot(t,e,n,r){try{return X(t,e,n)}catch(i){if(!n.configurable)throw i;void 0===r?delete n.configurable:n.configurable=r;try{return X(t,e,n)}catch(i){let r=null;try{r=JSON.stringify(n)}catch(i){r=n.toString()}console.log(`Attempting to configure '${e}' with descriptor '${r}' on object '${t}' and got error, giving up: ${i}`)}}}const st=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],ut=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],at=["load"],ct=["blur","error","focus","load","resize","scroll","messageerror"],ht=["bounce","finish","start"],dt=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],pt=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],ft=["close","error","open","message"],gt=["error","message"],mt=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],st,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function vt(t,e,n){if(!n||0===n.length)return e;const r=n.filter(e=>e.target===t);if(!r||0===r.length)return e;const i=r[0].ignoreProperties;return e.filter(t=>-1===i.indexOf(t))}function yt(t,e,n,r){t&&P(t,vt(t,e,n),r)}function _t(t,e){if(T&&!I)return;if(Zone[t.symbol("patchEvents")])return;const n="undefined"!=typeof WebSocket,r=e.__Zone_ignore_on_properties;if(S){const t=window,e=V?[{target:t,ignoreProperties:["error"]}]:[];yt(t,mt.concat(["messageerror"]),r?r.concat(e):r,i(t)),yt(Document.prototype,mt,r),void 0!==t.SVGElement&&yt(t.SVGElement.prototype,mt,r),yt(Element.prototype,mt,r),yt(HTMLElement.prototype,mt,r),yt(HTMLMediaElement.prototype,ut,r),yt(HTMLFrameSetElement.prototype,st.concat(ct),r),yt(HTMLBodyElement.prototype,st.concat(ct),r),yt(HTMLFrameElement.prototype,at,r),yt(HTMLIFrameElement.prototype,at,r);const n=t.HTMLMarqueeElement;n&&yt(n.prototype,ht,r);const l=t.Worker;l&&yt(l.prototype,gt,r)}const l=e.XMLHttpRequest;l&&yt(l.prototype,dt,r);const o=e.XMLHttpRequestEventTarget;o&&yt(o&&o.prototype,dt,r),"undefined"!=typeof IDBIndex&&(yt(IDBIndex.prototype,pt,r),yt(IDBRequest.prototype,pt,r),yt(IDBOpenDBRequest.prototype,pt,r),yt(IDBDatabase.prototype,pt,r),yt(IDBTransaction.prototype,pt,r),yt(IDBCursor.prototype,pt,r)),n&&yt(WebSocket.prototype,ft,r)}Zone.__load_patch("util",(t,e,i)=>{i.patchOnProperties=P,i.patchMethod=M,i.bindArguments=k,i.patchMacroTask=L;const a=e.__symbol__("BLACK_LISTED_EVENTS"),c=e.__symbol__("UNPATCHED_EVENTS");t[c]&&(t[a]=t[c]),t[a]&&(e[a]=e[c]=t[a]),i.patchEventPrototype=Y,i.patchEventTarget=$,i.isIEOrEdge=q,i.ObjectDefineProperty=r,i.ObjectGetOwnPropertyDescriptor=n,i.ObjectCreate=l,i.ArraySlice=o,i.patchClass=D,i.wrapWithCurrentZone=f,i.filterProperties=vt,i.attachOriginToPatched=F,i._redefineProperty=rt,i.patchCallbacks=Z,i.getGlobalObjects=()=>({globalSources:W,zoneSymbolEventNames:B,eventNames:mt,isBrowser:S,isMix:I,isNode:T,TRUE_STR:h,FALSE_STR:d,ZONE_SYMBOL_PREFIX:p,ADD_EVENT_LISTENER_STR:s,REMOVE_EVENT_LISTENER_STR:u})});const bt=m("zoneTask");function wt(t,e,n,r){let i=null,l=null;n+=r;const o={};function s(e){const n=e.data;return n.args[0]=function(){try{e.invoke.apply(this,arguments)}finally{e.data&&e.data.isPeriodic||("number"==typeof n.handleId?delete o[n.handleId]:n.handleId&&(n.handleId[bt]=null))}},n.handleId=i.apply(t,n.args),e}function u(t){return l(t.data.handleId)}i=M(t,e+=r,n=>(function(i,l){if("function"==typeof l[0]){const t=g(e,l[0],{isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?l[1]||0:void 0,args:l},s,u);if(!t)return t;const n=t.data.handleId;return"number"==typeof n?o[n]=t:n&&(n[bt]=t),n&&n.ref&&n.unref&&"function"==typeof n.ref&&"function"==typeof n.unref&&(t.ref=n.ref.bind(n),t.unref=n.unref.bind(n)),"number"==typeof n||n?n:t}return n.apply(t,l)})),l=M(t,n,e=>(function(n,r){const i=r[0];let l;"number"==typeof i?l=o[i]:(l=i&&i[bt])||(l=i),l&&"string"==typeof l.type?"notScheduled"!==l.state&&(l.cancelFn&&l.data.isPeriodic||0===l.runCount)&&("number"==typeof i?delete o[i]:i&&(i[bt]=null),l.zone.cancelTask(l)):e.apply(t,r)}))}function kt(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:l,ZONE_SYMBOL_PREFIX:o}=e.getGlobalObjects();for(let u=0;u<n.length;u++){const t=n[u],e=o+(t+l),s=o+(t+i);r[t]={},r[t][l]=e,r[t][i]=s}const s=t.EventTarget;return s&&s.prototype?(e.patchEventTarget(t,[s&&s.prototype]),!0):void 0}Zone.__load_patch("legacy",t=>{const e=t[Zone.__symbol__("legacyPatch")];e&&e()}),Zone.__load_patch("timers",t=>{wt(t,"set","clear","Timeout"),wt(t,"set","clear","Interval"),wt(t,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",t=>{wt(t,"request","cancel","AnimationFrame"),wt(t,"mozRequest","mozCancel","AnimationFrame"),wt(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(t,e)=>{const n=["alert","prompt","confirm"];for(let r=0;r<n.length;r++)M(t,n[r],(n,r,i)=>(function(r,l){return e.current.run(n,t,l,i)}))}),Zone.__load_patch("EventTarget",(t,e,n)=>{!function(t,e){e.patchEventPrototype(t,e)}(t,n),kt(t,n);const r=t.XMLHttpRequestEventTarget;r&&r.prototype&&n.patchEventTarget(t,[r.prototype]),D("MutationObserver"),D("WebKitMutationObserver"),D("IntersectionObserver"),D("FileReader")}),Zone.__load_patch("on_property",(t,e,n)=>{_t(n,t),Object.defineProperty=function(t,e,n){if(it(t,e))throw new TypeError("Cannot assign to read only property '"+e+"' of "+t);const r=n.configurable;return"prototype"!==e&&(n=lt(t,e,n)),ot(t,e,n,r)},Object.defineProperties=function(t,e){return Object.keys(e).forEach((function(n){Object.defineProperty(t,n,e[n])})),t},Object.create=function(t,e){return"object"!=typeof e||Object.isFrozen(e)||Object.keys(e).forEach((function(n){e[n]=lt(t,n,e[n])})),et(t,e)},Object.getOwnPropertyDescriptor=function(t,e){const n=tt(t,e);return n&&it(t,e)&&(n.configurable=!1),n}}),Zone.__load_patch("customElements",(t,e,n)=>{!function(t,e){const{isBrowser:n,isMix:r}=e.getGlobalObjects();(n||r)&&t.customElements&&"customElements"in t&&e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,n)}),Zone.__load_patch("XHR",(t,e)=>{!function(t){const u=t.XMLHttpRequest;if(!u)return;const h=u.prototype;let d=h[a],p=h[c];if(!d){const e=t.XMLHttpRequestEventTarget;if(e){const t=e.prototype;d=t[a],p=t[c]}}const f="readystatechange",v="scheduled";function y(t){const e=t.data,r=e.target;r[l]=!1,r[s]=!1;const o=r[i];d||(d=r[a],p=r[c]),o&&p.call(r,f,o);const u=r[i]=()=>{if(r.readyState===r.DONE)if(!e.aborted&&r[l]&&t.state===v){const n=r.__zone_symbol__loadfalse;if(n&&n.length>0){const i=t.invoke;t.invoke=function(){const n=r.__zone_symbol__loadfalse;for(let e=0;e<n.length;e++)n[e]===t&&n.splice(e,1);e.aborted||t.state!==v||i.call(t)},n.push(t)}else t.invoke()}else e.aborted||!1!==r[l]||(r[s]=!0)};return d.call(r,f,u),r[n]||(r[n]=t),E.apply(r,e.args),r[l]=!0,t}function _(){}function b(t){const e=t.data;return e.aborted=!0,T.apply(e.target,e.args)}const w=M(h,"open",()=>(function(t,e){return t[r]=0==e[2],t[o]=e[1],w.apply(t,e)})),k=m("fetchTaskAborting"),C=m("fetchTaskScheduling"),E=M(h,"send",()=>(function(t,n){if(!0===e.current[C])return E.apply(t,n);if(t[r])return E.apply(t,n);{const e={target:t,url:t[o],isPeriodic:!1,args:n,aborted:!1},r=g("XMLHttpRequest.send",_,e,y,b);t&&!0===t[s]&&!e.aborted&&r.state===v&&r.invoke()}})),T=M(h,"abort",()=>(function(t,r){const i=t[n];if(i&&"string"==typeof i.type){if(null==i.cancelFn||i.data&&i.data.aborted)return;i.zone.cancelTask(i)}else if(!0===e.current[k])return T.apply(t,r)}))}(t);const n=m("xhrTask"),r=m("xhrSync"),i=m("xhrListener"),l=m("xhrScheduled"),o=m("xhrURL"),s=m("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&function(t,e){const r=t.constructor.name;for(let i=0;i<e.length;i++){const l=e[i],o=t[l];if(o){if(!C(n(t,l)))continue;t[l]=(t=>{const e=function(){return t.apply(this,k(arguments,r+"."+l))};return F(e,t),e})(o)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(t,e)=>{function n(e){return function(n){Q(t,e).forEach(r=>{const i=t.PromiseRejectionEvent;if(i){const t=new i(e,{promise:n.promise,reason:n.rejection});r.invoke(t)}})}}t.PromiseRejectionEvent&&(e[m("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[m("rejectionHandledHandler")]=n("rejectionhandled"))})},ppGB:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var l=arguments[e],o=0,s=l.length;o<s;o++,i++)r[i]=l[o];return r}n.r(e),n.d(e,"LogLevel",(function(){return l})),n.d(e,"Logger",(function(){return u})),n.d(e,"setLogLevel",(function(){return a}));var i=[],l=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=l.INFO,s=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case l.DEBUG:case l.VERBOSE:console.log.apply(console,r(["["+o+"]  "+t.name+":"],n));break;case l.INFO:console.info.apply(console,r(["["+o+"]  "+t.name+":"],n));break;case l.WARN:console.warn.apply(console,r(["["+o+"]  "+t.name+":"],n));break;case l.ERROR:console.error.apply(console,r(["["+o+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=s,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in l))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,l.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,l.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,l.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,l.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,l.ERROR],t))},t}();function a(t){i.forEach((function(e){e.logLevel=t}))}},qgGA:function(t,e,n){var r=n("I+eb"),i=n("eDxR"),l=n("glrk"),o=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{metadata:function(t,e){return function(n,r){s(t,e,l(n),o(r))}}})},rKzb:function(t,e,n){"use strict";var r=n("4syw"),i=n("8YOa").getWeakData,l=n("glrk"),o=n("hh1v"),s=n("GarU"),u=n("ImZN"),a=n("tycR"),c=n("UTVS"),h=n("afO8"),d=h.set,p=h.getterFor,f=a.find,g=a.findIndex,m=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},_=function(t,e){return f(t.entries,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var n=_(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,a){var h=t((function(t,r){s(t,h,e),d(t,{type:e,id:m++,frozen:void 0}),null!=r&&u(r,t[a],t,n)})),f=p(e),g=function(t,e,n){var r=f(t),o=i(l(e),!0);return!0===o?v(r).set(e,n):o[r.id]=n,t};return r(h.prototype,{delete:function(t){var e=f(this);if(!o(t))return!1;var n=i(t);return!0===n?v(e).delete(t):n&&c(n,e.id)&&delete n[e.id]},has:function(t){var e=f(this);if(!o(t))return!1;var n=i(t);return!0===n?v(e).has(t):n&&c(n,e.id)}}),r(h.prototype,n?{get:function(t){var e=f(this);if(o(t)){var n=i(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),h}}},rpNk:function(t,e,n){"use strict";var r,i,l,o=n("4WOD"),s=n("kRJp"),u=n("UTVS"),a=n("tiKp"),c=n("xDBR"),h=a("iterator"),d=!1;[].keys&&("next"in(l=[].keys())?(i=o(o(l)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),c||u(r,h)||s(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},sQ9d:function(t,e,n){var r=n("I+eb"),i=n("eDxR"),l=n("glrk"),o=i.keys,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var e=arguments.length<2?void 0:s(arguments[1]);return o(l(t),e)}})},tiKp:function(t,e,n){var r=n("2oRo"),i=n("VpIT"),l=n("UTVS"),o=n("kOOl"),s=n("STAE"),u=n("/b8u"),a=i("wks"),c=r.Symbol,h=u?c:o;t.exports=function(t){return l(a,t)||(a[t]=s&&l(c,t)?c[t]:h("Symbol."+t)),a[t]}},tycR:function(t,e,n){var r=n("+MLx"),i=n("RK3t"),l=n("ewvW"),o=n("UMSQ"),s=n("ZfDv"),u=[].push,a=function(t){var e=1==t,n=2==t,a=3==t,c=4==t,h=6==t,d=5==t||h;return function(p,f,g,m){for(var v,y,_=l(p),b=i(_),w=r(f,g,3),k=o(b.length),C=0,E=m||s,T=e?E(p,k):n?E(p,0):void 0;k>C;C++)if((d||C in b)&&(y=w(v=b[C],C,_),t))if(e)T[C]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return C;case 2:u.call(T,v)}else if(c)return!1;return h?-1:a||c?c:T}};t.exports={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6)}},uy83:function(t,e,n){var r=n("0Dky");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},vZi8:function(t,e,n){var r=n("I+eb"),i=n("YGK4"),l=n("eDxR"),o=n("glrk"),s=n("4WOD"),u=n("ImZN"),a=l.keys,c=l.toKey,h=function(t,e){var n=a(t,e),r=s(t);if(null===r)return n;var l,o,c=h(r,e);return c.length?n.length?(l=new i(n.concat(c)),u(l,(o=[]).push,o),o):c:n};r({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var e=arguments.length<2?void 0:c(arguments[1]);return h(o(t),e)}})},wE6v:function(t,e,n){var r=n("hh1v");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,l=n("mrSG"),o=n("zVF4"),s=n("S+S0"),u=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),c=new o.ErrorFactory("app","Firebase",a),h="@firebase/app",d="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var a=l.__values(this.firebase_.INTERNAL.components.values()),c=a.next();!c.done;c=a.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var l=i;void 0===l.name&&(l.name=d);var s=l.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(o.contains(e,s))throw c.create("duplicate-app",{appName:s});var u=new t(n,l,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var l=i.match(/\s|\//),o=e.match(/\s|\//);if(l||o){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return l&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),l&&o&&a.push("and"),o&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(a.join(" "))}u(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},apps:null,SDK_VERSION:"7.9.2",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!o.contains(e,t=t||d))throw c.create("no-app",{appName:t});return e[t]}function u(s){var u,a,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&o.deepExtend(d,s.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=l.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(s)}catch(m){u={error:m}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=l.__assign(l.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),_.apply(void 0,t)};var b=m;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion(h,"0.5.5",void 0),t.registerVersion("fire-js","")}(b),e.default=b,e.firebase=b},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return sr})),n.d(e,"EventType",(function(){return ur})),n.d(e,"WebChannel",(function(){return ar})),n.d(e,"XhrIo",(function(){return cr})),n.d(e,"createWebChannelTransport",(function(){return or}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=l||{},o=i;function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function a(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function k(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),l=2;l<arguments.length;l++)i[l-2]=arguments[l];return e.prototype[n].apply(t,i)}}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[g]||(this[g]=++m))},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,l=0;l<r;l++)l in i&&e.call(n,i[l],l,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var A,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var D=o.navigator;if(D){var R=D.userAgent;if(R){A=R;break t}}A=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var l=0;l<F.length;l++)n=F[l],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=c;var V,q,z=P(A,"Opera"),H=P(A,"Trident")||P(A,"MSIE"),B=P(A,"Edge"),W=B||H,G=P(A,"Gecko")&&!(P(A.toLowerCase(),"webkit")&&!P(A,"Edge"))&&!(P(A,"Trident")||P(A,"MSIE"))&&!P(A,"Edge"),K=P(A.toLowerCase(),"webkit")&&!P(A,"Edge");function $(){var t=o.document;return t?t.documentMode:void 0}t:{var Q="",Y=(q=A,G?/rv:([^\);]+)(\)|;)/.exec(q):B?/Edge\/([\d\.]+)/.exec(q):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):K?/WebKit\/(\S+)/.exec(q):z?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Y&&(Q=Y?Y[1]:""),H){var Z=$();if(null!=Z&&Z>parseFloat(Q)){V=String(Z);break t}}V=Q}var J,X={};function tt(t){return function(t,e){var n=X;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=N(String(V)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),l=0;0==e&&l<i;l++){var o=n[l]||"",s=r[l]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=O(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||O(0==o[2].length,0==s[2].length)||O(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}))}var et=o.document;J=et&&H?$()||("CSS1Compat"==et.compatMode?parseInt(V,10):5):void 0;var nt=!H||9<=Number(J),rt=H&&!tt("9"),it=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",c,e),o.removeEventListener("test",c,e)}catch(n){}return t}();function lt(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function ot(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{U(e.nodeName);var i=!0;break t}catch(l){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}lt.prototype.b=function(){this.Ia=!1},k(ot,lt);var st={2:"touch",3:"pen",4:"mouse"};ot.prototype.b=function(){ot.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),at=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++at,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],l=E(i,e);(r=0<=l)&&Array.prototype.splice.call(i,l,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var l=t[i];if(!l.X&&l.listener==e&&l.capture==!!n&&l.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var l=t.toString();(t=this.a[l])||(t=this.a[l]=[],this.b++);var o=ft(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ct(e,this.src,l,!!r,i)).Z=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),mt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,l){if(d(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,l);return null}return r=Et(r),e&&e[ut]?e.Aa(n,r,f(i)?!!i.capture:!!i,l):yt(e,n,r,!0,i,l)}(t,e,n,r,i);if(d(e)){for(var l=0;l<e.length;l++)vt(t,e[l],n,r,i);return null}return n=Et(n),t&&t[ut]?t.za(e,n,f(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,l){if(!e)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i;if(o&&!nt)return null;var s=kt(t);if(s||(t[gt]=s=new dt(t)),(n=s.add(e,n,r,o,l)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _t(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kt(e))?(pt(n,t),0==n.b&&(n.src=null,e[gt]=null)):ht(t)}}}function bt(t){return t in mt?mt[t]:mt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&_t(t),n.call(r,e)}(t,nt?new ot(e,this):e=new ot(e||a("window.event"),this))}function kt(t){return(t=t[gt])instanceof dt?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==h(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function Tt(){C.call(this),this.c=new dt(this),this.J=this,this.B=null}function St(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var o=e[l];if(o&&!o.X&&o.capture==n){var s=o.listener,u=o.da||o.src;o.Z&&pt(t.c,o),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ia}k(Tt,C),Tt.prototype[ut]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,l){if(d(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,l);else i=f(i)?!!i.capture:!!i,r=Et(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ft(o=e.a[n],r,i,l))&&(ht(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=kt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,r,i,l)),(r=-1<e?n[e]:null)&&_t(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(s(t))t=new lt(t,n);else if(t instanceof lt)t.target=t.target||n;else{var i=t;j(t=new lt(r,n),i)}if(i=!0,e)for(var l=e.length-1;0<=l;l--){var o=t.a=e[l];i=St(o,r,!0,t)&&i}if(i=St(o=t.a=n,r,!0,t)&&i,i=St(o,r,!1,t)&&i,e)for(l=0;l<e.length;l++)i=St(o=t.a=e[l],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=o.JSON.stringify;function xt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function At(){this.b=this.a=null}xt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nt,Pt=new xt((function(){return new Dt}),(function(t){t.reset()}));function Ot(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Dt(){this.next=this.b=this.a=null}function Rt(t){o.setTimeout((function(){throw t}),0)}function Mt(t,e){Nt||function(){var t=o.Promise.resolve(void 0);Nt=function(){t.then(jt)}}(),Lt||(Nt(),Lt=!0),Ft.add(t,e)}At.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Dt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new At;function jt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Pt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Ut(t,e){Tt.call(this),this.b=t||1,this.a=e||o,this.f=_(this.gb,this),this.g=w()}function Vt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function qt(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function zt(t,e,n){C.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.$a,this),this.a=[]}function Ht(t){t.U=qt(t.b,t.c),t.f.apply(null,t.a)}function Bt(t){C.call(this),this.b=t,this.a={}}k(Ut,Tt),(r=Ut.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Vt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Ut.N.G.call(this),Vt(this),delete this.a},k(zt,C),(r=zt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:Ht(this)},r.G=function(){zt.N.G.call(this),this.U&&(o.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,Ht(this))},k(Bt,C);var Wt=[];function Gt(t,e,n,r){d(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var l=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!l)break;t.a[l.key]=l}}function Kt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function $t(){}Bt.prototype.G=function(){Bt.N.G.call(this),Kt(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=new Tt;function Yt(t){lt.call(this,"serverreachability",t)}function Zt(t){Qt.dispatchEvent(new Yt(Qt,t))}function Jt(t){lt.call(this,"statevent",t)}function Xt(t){Qt.dispatchEvent(new Jt(Qt,t))}function te(t){lt.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){t()}),e)}k(Yt,lt),k(Jt,lt),k(te,lt);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function le(){}ie.prototype.a=null;var oe,se={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function ue(){lt.call(this,"d")}function ae(){lt.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Bt(this),this.O=de,this.P=new Ut(t=W?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}k(ue,lt),k(ae,lt),k(ce,ie),oe=new ce;var de=45e3,pe={},fe={};function ge(t,e,n){t.F=1,t.f=Ve(De(e)),t.l=n,t.H=!0,ve(t,null)}function me(t,e,n,r){t.F=1,t.f=Ve(De(e)),t.l=null,t.H=n,ve(t,r)}function ve(t,e){t.v=w(),be(t),t.D=De(t.f),Ue(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new zt(_(t.Ja,t,t.a),t.J)),Gt(t.I,t.a,"readystatechange",t.cb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Zt(1)}function ye(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=_e(t,n);if(i==fe){4==e&&(t.c=4,Xt(14),r=!1);break}if(i==pe){t.c=4,Xt(15),r=!1;break}Te(t,i)}4==e&&0==n.length&&(t.c=1,Xt(16),r=!1),t.b=t.b&&r,r||(Ee(t),Ce(t))}function _e(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.A=r+n,e))}function be(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(_(t.ab,t),e)}function ke(t){t.i&&(o.clearTimeout(t.i),t.i=null)}function Ce(t){t.g.Ca()||t.m||t.g.na(t)}function Ee(t){ke(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Vt(t.P),Kt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Fa(t,e),Zt(4)}catch(n){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(s(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var l=0;l<i;l++)e.call(void 0,r[l],n&&n[l],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t,e){Ne(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t))}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ne(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ne(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Dn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Dn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!W&&!this.a.aa())){this.m||4!=e||7==n||Zt(8==n||0>=r?3:2),ke(this);var i=this.a.T();this.o=i;var l=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var o=Rn(this.a,"X-HTTP-Initial-Response");if(o&&!x(o)){var s=o;break e}}s=null}if(!s){this.b=!1,this.c=3,Xt(12),Ee(this),Ce(this);break t}this.s=!0,Te(this,s)}this.H?(ye(this,e,l),W&&this.b&&3==e&&(Gt(this.I,this.P,"tick",this.bb),this.P.start())):Te(this,l),4==e&&Ee(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,be(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.c=3,Xt(12)):(this.c=0,Xt(13)),Ee(this),Ce(this)}}}catch(u){}},r.bb=function(){if(this.a){var t=Dn(this.a),e=this.a.aa();this.A<e.length&&(ke(this),ye(this,t,e),this.b&&4!=t&&be(this))}},r.cancel=function(){this.m=!0,Ee(this)},r.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Zt(3),Xt(17)),Ee(this),this.c=2,Ce(this)):we(this,this.R-t)},(r=Ie.prototype).C=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ae(this),this.a.concat()},r.get=function(t,e){return Ne(this.b,t)?this.b[t]:e},r.set=function(t,e){Ne(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],l=this.get(i);t.call(e,l,i,this)}};var Pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Oe?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Me(this,t.b),Le(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Pe))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=qe(n[2]||""),Me(this,n[3]||"",!0),Le(this,n[4]),this.a=qe(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=qe(n[7]||"")):(this.h=!!e,this.c=new Qe(null,this.h))}function De(t){return new Oe(t)}function Re(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?qe(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof Qe?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ze(this,e),Xe(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=ze(e,Ke)),t.c=new Qe(e,t.h))}function je(t,e,n){t.c.set(e,n)}function Ue(t,e,n){d(n)||(n=[String(n)]),Xe(t.c,e,n)}function Ve(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return s(t)?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ze(e,Be,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ze(e,Be,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?Ge:We,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ze(n,$e)),t.join("")},Oe.prototype.resolve=function(t){var e=De(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(P(i,"./")||P(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var l=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&l.push(""):".."==s?((1<l.length||1==l.length&&""!=l[0])&&l.pop(),r&&o==i.length&&l.push("")):(l.push(s),r=!0)}r=l.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Be=/[#\/\?@]/g,We=/[#\?:]/g,Ge=/[#\?]/g,Ke=/[#\?@]/g,$e=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var l=t[n].substring(0,r);i=t[n].substring(r+1)}else l=t[n];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ze(t,e){Ye(t),e=en(t,e),Ne(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xe(t.a,e))}function Je(t,e){return Ye(t),e=en(t,e),Ne(t.a.b,e)}function Xe(t,e,n){Ze(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),I(n)),t.b+=n.length)}function tn(t){var e=new Qe;return e.c=t.c,t.a&&(e.a=new Ie(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Xt(4),e?(Xt(10),Gn(t.a,t,!1)):(Xt(11),Gn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Zn(e=t.a,e.Y()?t.f:null,t.i),Xt(4),Ue(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&je(e,n,r),me(t.b,e,!1,t.f)}}function ln(){this.a=this.b=null}function on(){this.a=new Ie}function sn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[g]||(t[g]=++m)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function an(t){this.g=t||cn,t=o.PerformanceNavigationTiming?0<(t=o.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(o.ka&&o.ka.Da&&o.ka.Da()&&o.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new on),this.b=null,this.c=[]}(r=Qe.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],l=0;l<i.length;l++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(s(t))Je(this,t)&&(e=S(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Je(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var l=0;l<r.length;l++){var o=i;""!==r[l]&&(o+="="+encodeURIComponent(String(r[l]))),t.push(o)}}return this.c=t.join("&")},k((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Qn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Qn(e,2)}else 1==this.M&&(this.g?Xt(6):"11111"==e?(Xt(5),this.g=!0,(!H||10<=Number(J))&&(this.c=200,this.b.cancel(),Xt(11),Gn(this.a,this,!0))):(Xt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Xt(11),Gn(this.a,this,!0)):(Xt(10),Gn(this.a,this,!1)));else{0==this.M?Xt(8):1==this.M&&Xt(9);var t=this.a;t.m=this.c,Qn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},on.prototype.add=function(t){this.a.set(sn(t),t)},on.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(P(e,"spdy")||P(e,"quic")||P(e,"h2"))&&(t.f=t.g,t.a=new on,t.b&&(gn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function fn(t,e){return t.b?t=t.b==e:t.a?(e=sn(e),t=Ne(t.a.a.b,e)):t=!1,t}function gn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=sn(e),n=Ne(t.a.a.b,n)),n&&xe(t.a.a,sn(e)))}function vn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),(function(t){e=e.concat(t.j)})),e}return I(t.c)}function yn(){}function _n(){this.a=new yn}function bn(t,e,n){var r=n||"";try{Se(t,(function(t,n){var i=t;f(t)&&(i=It(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}an.prototype.cancel=function(){this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},yn.prototype.stringify=function(t){return o.JSON.stringify(t,void 0)},yn.prototype.parse=function(t){return o.JSON.parse(t,void 0)};var kn=o.JSON.parse;function Cn(t){Tt.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=En,this.D=this.F=!1}k(Cn,Tt);var En="",Tn=/^https?$/i,Sn=["POST","PUT"];function In(t){return"content-type"==t.toLowerCase()}function xn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,An(t),Pn(t)}function An(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Nn(t){if(t.b&&void 0!==l&&(!t.s[1]||4!=Dn(t)||2!=t.T()))if(t.l&&4==Dn(t))qt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Dn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.A).match(Pe)[1]||null;if(!s&&o.self&&o.self.location){var u=o.self.location.protocol;s=u.substr(0,u.length-1)}i=!Tn.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Dn(t)?t.a.statusText:""}catch(c){a=""}t.f=a+" ["+t.T()+"]",An(t)}}finally{Pn(t)}}}function Pn(t,e){if(t.a){On(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function On(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(o.clearTimeout(t.m),t.m=null)}function Dn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return je(t,e,n),t}function Ln(t){this.f=[],this.F=new ln,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!a("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=a("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=a("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=a("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=a("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new an(t&&t.concurrentRequestLimit),this.ja=new _n,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(jn(t),3==t.u){var e=t.P++,n=De(t.B);je(n,"SID",t.H),je(n,"RID",e),je(n,"TYPE","terminate"),zn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ve(De(n)),n=!1,o.navigator&&o.navigator.sendBeacon&&(n=o.navigator.sendBeacon(e.f.toString(),"")),!n&&o.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),be(e)}Yn(t)}function jn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(o.clearTimeout(t.l),t.l=null),Kn(t),t.b.cancel(),t.h&&(u(t.h)&&o.clearTimeout(t.h),t.h=null)}function Un(t,e){t.f.push(new un(t.Qa++,e)),3==t.u&&Vn(t)}function Vn(t){dn(t.b)||t.h||(t.h=!0,Mt(t.Ha,t),t.A=0)}function qn(t,e){var n;n=e?e.W:t.P++;var r=De(t.B);je(r,"SID",t.H),je(r,"RID",n),je(r,"AID",t.O),zn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Hn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),gn(t.b,n),ge(n,r,e)}function zn(t,e){t.c&&Se({},(function(t,n){je(e,n,t)}))}function Hn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?_(t.c.Sa,t.c,t):null;t:for(var i=t.f,l=-1;;){var o=["count="+n];-1==l?0<n?o.push("ofs="+(l=i[0].b)):l=0:o.push("ofs="+l);for(var s=!0,u=0;u<n;u++){var a=i[u].b,c=i[u].a;if(0>(a-=l))l=Math.max(0,i[u].b-100),s=!1;else try{bn(c,o,"req"+a+"_")}catch(h){r&&r(c)}}if(s){r=o.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Bn(t){t.a||t.l||(t.S=1,Mt(t.Ga,t),t.v=0)}function Wn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(_(t.Ga,t),$n(t,t.v)),t.v++,0))}function Gn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Zn(t,null,t.ha),Vn(t)}function Kn(t){null!=t.s&&(o.clearTimeout(t.s),t.s=null)}function $n(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Qn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=_(t.eb,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||Re(n,"https"),Ve(n)),function(t,e){var n=new $t;if(o.Image){var r=new Image;r.onload=b(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=b(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(wn,n,r,"TestLoadImage: timeout",!1,e),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),jn(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==vn(t.b).length&&0==t.f.length||(t.b.c.length=0,I(t.f),t.f.length=0),t.c.sa())}function Zn(t,e,n){var r=function(t){return t instanceof Oe?De(t):new Oe(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),Le(r,r.i);else{var i=o.location;r=function(t,e,n,r){var i=new Oe(null,void 0);return t&&Re(i,t),e&&Me(i,e),n&&Le(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,(function(t,e){je(r,e,t)})),n=t.I,(e=t.j)&&n&&je(r,e,n),je(r,"VER",t.wa),zn(t,r),r}function Jn(){}function Xn(){if(H&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ae.call(this),this.status=1}function rr(t){this.a=t}(r=Cn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=_(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(l){return void xn(this,l)}t=n||"";var i=new Ie(this.headers);r&&Se(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=In,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.K()),n=o.FormData&&t instanceof o.FormData,!(0<=E(Sn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(t){return H&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ba,this)):this.m=qt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(l){xn(this,l)}},r.Ba=function(){void 0!==l&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Pn(this,!0)),Cn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?Nn(this):this.Za())},r.Za=function(){Nn(this)},r.T=function(){try{return 2<Dn(this)?this.a.status:-1}catch(q){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),kn(e)}},r.ya=function(){return this.h},r.Xa=function(){return s(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?j(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var l=this.f[i];if(void 0===(l="__data__"in l.a&&s(l=l.a.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Hn(this,n,e),je(i=De(this.B),"RID",t),je(i,"CVER",22),this.o&&this.j&&je(i,"X-HTTP-Session-Id",this.j),zn(this,i),this.g&&r&&Mn(i,this.g,r),gn(this.b,n),this.W?(je(i,"$req",e),je(i,"SID","null"),n.S=!0,ge(n,i,null)):ge(n,i,e),this.u=2}}else 3==this.u&&(t?qn(this,t):0==this.f.length||dn(this.b)||qn(this))},r.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=De(this.pa);je(t,"RID","rpc"),je(t,"SID",this.H),je(t,"CI",this.ia?"0":"1"),je(t,"AID",this.O),zn(this,t),je(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||fn(this.b,t)))if(this.m=t.o,!t.s&&fn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(l){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Kn(this),this.a.cancel(),this.a=null}Wn(this),Xt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(_(this.Ya,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(l){}this.fa=void 0}}else Qn(this,11)}else if((t.s||this.a==t)&&Kn(this),!x(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Rn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,je(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Zn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(ke(r),be(r)),this.a=r):Bn(this),0<this.f.length&&Vn(this)}else"stop"!=r[0]&&"close"!=r[0]||Qn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Qn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Wn(this),Xt(19))},r.na=function(t){var e=null;if(this.a==t){Kn(this),this.a=null;var n=2}else{if(!fn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Qt.dispatchEvent(new te(Qt,t.l?t.l.length:0,e,this.A)),Vn(this)):Bn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(_(t.Ha,t,e),$n(t,t.A)),t.A++,0)))}(this,t)||2==n&&Wn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Qn(this,5);break;case 4:Qn(this,10);break;case 3:Qn(this,6);break;default:Qn(this,2)}}},r.eb=function(t){Xt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Cn(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Jn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},Xn.prototype.a=function(t,e){return new tr(t,e)},k(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Xt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Zn(t.a,null,t.i),Xt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ue(e,"MODE","init"),!t.a.o&&t.a.j&&Ue(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){Fn(this.a)},r.Wa=function(t){if(s(t)){var e={};e.__data__=t,Un(this.a,e)}else this.h?((e={}).__data__=It(t),Un(this.a,e)):Un(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},k(er,ue),k(nr,ae),k(rr,Jn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=b((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Xn);Xn.prototype.createWebChannel=Xn.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",le.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",Tt.prototype.listen=Tt.prototype.za,Cn.prototype.listenOnce=Cn.prototype.Aa,Cn.prototype.getLastError=Cn.prototype.Xa,Cn.prototype.getLastErrorCode=Cn.prototype.ya,Cn.prototype.getStatus=Cn.prototype.T,Cn.prototype.getResponseJson=Cn.prototype.Ua,Cn.prototype.getResponseText=Cn.prototype.aa,Cn.prototype.send=Cn.prototype.ca;var lr={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:le,XhrIo:Cn},or=lr.createWebChannelTransport,sr=lr.ErrorCode,ur=lr.EventType,ar=lr.WebChannel,cr=lr.XhrIo;e.default=lr},xDBR:function(t,e){t.exports=!1},xrYK:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},xs3f:function(t,e,n){var r=n("2oRo"),i=n("zk60"),l=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=l},yoRg:function(t,e,n){var r=n("UTVS"),i=n("/GqU"),l=n("TWQb").indexOf,o=n("0BK2");t.exports=function(t,e){var n,s=i(t),u=0,a=[];for(n in s)!r(o,n)&&r(s,n)&&a.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~l(a,n)||a.push(n));return a}},zBJ4:function(t,e,n){var r=n("2oRo"),i=n("hh1v"),l=r.document,o=i(l)&&i(l.createElement);t.exports=function(t){return o?l.createElement(t):{}}},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e),n("hN/g");let i=!1;const l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const s={closed:!0,next(t){},error(t){if(l.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function a(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(o){e=o instanceof c?d(o.errors):[o]}if(u(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(a(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof c?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s;break;case 1:if(!t){this.destination=s;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,i){let l;super(),this._parentSubscriber=t;let o=this;r(e)?l=e:e&&(l=e.next,n=e.error,i=e.complete,e!==s&&(r((o=Object.create(e)).unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=l,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;l.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=l;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);l.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),l.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!l.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return l.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(){}function y(...t){return _(t)}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(s)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||l.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),l.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=l.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const k=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class C extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends f{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new E(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new k;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new k;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new k;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new k;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new k;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}class x extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=N(),O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[m])return(t=>e=>{const n=t[m]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(O(t))return A(t);if(D(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e))(t);if(t&&"function"==typeof t[P])return(t=>e=>{const n=t[P]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const e=a(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function M(t,e,n,r,i=new x(t,n,r)){if(!i.closed)return e instanceof b?e.subscribe(i):R(e)(i)}class L extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function F(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new j(t,e))}}class j{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new U(t,this.project,this.thisArg))}}class U extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function V(t,e){return new b(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function q(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(D(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(O(t))return V(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[P](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(R(t))}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(z((n,r)=>q(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new H(t,n)))}class H{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends L{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new x(this,void 0,void 0);this.destination.add(r),M(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(t){return t}function G(t=Number.POSITIVE_INFINITY){return z(W,t)}function K(t,e){return e?V(t,e):new b(A(t))}function $(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return I(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:G(e)(K(t,n))}function Q(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Z(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Z extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class J extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new h).add(this.source.subscribe(new tt(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return Q()(this)}}const X=(()=>{const t=J.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class tt extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function et(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new nt(r,e));const i=Object.create(n,X);return i.source=n,i.subjectFactory=r,i}}class nt{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}function rt(){return new T}function it(){return t=>Q()(et(rt)(t))}const lt="__parameters__";function ot(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(lt)?t[lt]:Object.defineProperty(t,lt,{value:[]})[lt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const st=ot("Inject",t=>({token:t})),ut=ot("Optional"),at=ot("Self"),ct=ot("SkipSelf");var ht=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function dt(t){for(let e in t)if(t[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){const e=t[gt];return e&&e.token===t?e:null}const gt=dt({ngInjectableDef:dt});function mt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const vt=dt({__forward_ref__:dt});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return mt(this())},t}function _t(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(vt)&&e.__forward_ref__===yt?e():t}const bt="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,kt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,Et=bt||Ct||wt||kt;class Tt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=pt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const St=new Tt("INJECTOR",-1),It=new Object,xt="ngTempTokenPath",At="ngTokenPath",Nt=/\n/gm,Pt="\u0275",Ot="__source",Dt=dt({provide:String,useValue:dt});let Rt,Mt=void 0;function Lt(t){const e=Mt;return Mt=t,e}function Ft(t,e=ht.Default){if(void 0===Mt)throw new Error("inject() must be called from an injection context");return null===Mt?function(t,e,n){const r=ft(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ht.Optional)return null;throw new Error(`Injector: NOT_FOUND [${mt(t)}]`)}(t,0,e):Mt.get(t,e&ht.Optional?null:void 0,e)}function jt(t,e=ht.Default){return(Rt||Ft)(t,e)}class Ut{get(t,e=It){if(e===It){const e=new Error(`NullInjectorError: No provider for ${mt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Vt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Pt?t.substr(2):t;let i=mt(e);if(e instanceof Array)i=e.map(mt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):mt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Nt,"\n  ")}`}class qt{}class zt{}function Ht(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Wt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Gt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))(),Kt="ngDebugContext",$t="ngOriginalError",Qt="ngErrorLogger";function Yt(t){return t[Kt]}function Zt(t){return t[$t]}function Jt(t,...e){t.error(...e)}class Xt{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Qt]||Jt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Yt(t)?Yt(t):this._findContext(Zt(t)):null}_findOriginalError(t){let e=Zt(t);for(;e&&Zt(e);)e=Zt(e);return e}}let te=!0,ee=!1;function ne(){return ee=!0,te}class re{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ie=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,le=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oe(t){return(t=String(t)).match(ie)||t.match(le)?t:(ne()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function se(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ue(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ae=se("area,br,col,hr,img,wbr"),ce=se("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),he=se("rp,rt"),de=ue(he,ce),pe=ue(ae,ue(ce,se("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ue(he,se("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),de),fe=se("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ge=se("srcset"),me=ue(fe,ge,se("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),se("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ve=se("script,style,template");class ye{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!pe.hasOwnProperty(e))return this.sanitizedSomething=!0,!ve.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,l=e.toLowerCase();if(!me.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let o=t.value;fe[l]&&(o=oe(o)),ge[l]&&(r=o,o=(r=String(r)).split(",").map(t=>oe(t.trim())).join(", ")),this.buf.push(" ",e,'="',we(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();pe.hasOwnProperty(e)&&!ae.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(we(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const _e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,be=/([^\#-~ |!])/g;function we(t){return t.replace(/&/g,"&amp;").replace(_e,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(be,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ke;function Ce(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ee=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Te{}const Se=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ie=/^url\(([^)]+)\)$/,xe=/([A-Z])/g;function Ae(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Ne=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Pe(),t})();const Pe=(...t)=>{},Oe=new Tt("The presence of this token marks an injector as being the root injector."),De=function(t,e,n){return new Ve(t,e,n)};let Re=(()=>{class t{static create(t,e){return Array.isArray(t)?De(t,e,""):De(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=It,t.NULL=new Ut,t.ngInjectableDef=pt({token:t,providedIn:"any",factory:()=>jt(St)}),t.__NG_ELEMENT_ID__=-1,t})();const Me=function(t){return t},Le=[],Fe=Me,je=function(){return Array.prototype.slice.call(arguments)},Ue="\u0275";class Ve{constructor(t,e=Re.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Re,{token:Re,fn:Me,deps:Le,value:this,useNew:!1}),r.set(St,{token:St,fn:Me,deps:Le,value:this,useNew:!1}),function t(e,n){if(n)if((n=_t(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw ze("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ze("Unexpected provider",n);{let t=_t(n.provide);const r=function(t){const e=function(t){let e=Le;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=_t(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof ut||n==ut?r|=1:n instanceof ct||n==ct?r&=-3:n instanceof at||n==at?r&=-5:i=n instanceof st?n.token:_t(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:_t(t.useExisting),options:6}];else if(!(n||Dt in t))throw ze("'deps' required",t);return e}(t);let n=Me,r=Le,i=!1,l=_t(t.provide);if(Dt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=_t(t.useClass);else{if("function"!=typeof l)throw ze("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=l}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==je)throw qe(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:je,value:Le});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==je)throw qe(t);e.set(t,r)}}}(r,t)}get(t,e,n=ht.Default){const r=this._records.get(t);try{return function t(e,n,r,i,l,o){try{return function(e,n,r,i,l,o){let s;if(!n||o&ht.SkipSelf)o&ht.Self||(s=i.get(e,l,ht.Default));else{if((s=n.value)==Fe)throw Error(Ue+"Circular dependency");if(s===Le){n.value=Fe;let e=void 0,l=n.useNew,o=n.fn,u=n.deps,a=Le;if(u.length){a=[];for(let e=0;e<u.length;e++){const n=u[e],l=n.options,o=2&l?r.get(n.token):void 0;a.push(t(n.token,o,r,o||4&l?i:Re.NULL,1&l?null:Re.THROW_IF_NOT_FOUND,ht.Default))}}n.value=s=l?new o(...a):o.apply(e,a)}}return s}(e,n,r,i,l,o)}catch(s){throw s instanceof Error||(s=new Error(s)),(s[xt]=s[xt]||[]).unshift(e),n&&n.value==Fe&&(n.value=Le),s}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[xt];throw e[Ot]&&i.unshift(e[Ot]),t.message=Vt("\n"+t.message,i,"StaticInjectorError",r),t[At]=i,t[xt]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(mt(n))),`StaticInjector[${t.join(", ")}]`}}function qe(t){return ze("Cannot mix multi providers and regular providers",t)}function ze(t,e){return new Error(Vt(t,e,"StaticInjectorError"))}const He=new Tt("AnalyzeForEntryComponents");let Be=null;function We(){if(!Be){const t=Et.Symbol;if(t&&t.iterator)Be=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Be=n)}}}return Be}function Ge(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ke(t,e){const n=Qe(t),r=Qe(e);if(n&&r)return function(t,e,n){const r=t[We()](),i=e[We()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Ke);{const i=t&&("object"==typeof t||"function"==typeof t),l=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!l)||Ge(t,e)}}class $e{constructor(t){this.wrapped=t}static wrap(t){return new $e(t)}static unwrap(t){return $e.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof $e}}function Qe(t){return!!Ye(t)&&(Array.isArray(t)||!(t instanceof Map)&&We()in t)}function Ye(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ze(t){return!!t&&"function"==typeof t.then}function Je(t){return!!t&&"function"==typeof t.subscribe}class Xe{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class tn{}class en{}function nn(t){const e=Error(`No component factory found for ${mt(t)}. Did you add it to @NgModule.entryComponents?`);return e[rn]=t,e}const rn="ngComponent";class ln{resolveComponentFactory(t){throw nn(t)}}let on=(()=>{class t{}return t.NULL=new ln,t})();class sn{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw nn(t);return new un(e,this._ngModule)}}class un extends en{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function an(...t){}let cn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>hn(t),t})();const hn=an;class dn{}class pn{}const fn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let gn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>mn(),t})();const mn=an;class vn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const yn=new vn("8.2.14");class _n{constructor(){}supports(t){return Qe(t)}create(t){return new wn(t)}}const bn=(t,e)=>e;class wn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const l=!n||e&&e.currentIndex<Tn(n,r,i)?e:n,o=Tn(l,r,i),s=l.currentIndex;if(l===n)r--,n=n._nextRemoved;else if(e=e._next,null==l.previousIndex)r++;else{i||(i=[]);const t=o-r,e=s-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,l=r+n;e<=l&&l<t&&(i[n]=r+1)}i[l.previousIndex]=e-t}}o!==s&&t(l,o,s)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Qe(t))throw new Error(`Error trying to diff '${mt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,l=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&Ge(i.trackById,r)?(l&&(i=this._verifyReinsertion(i,n,r,e)),Ge(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),l=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[We()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ge(i.trackById,r)?(l&&(i=this._verifyReinsertion(i,t,r,e)),Ge(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),l=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ge(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ge(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new kn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new En),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new En),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ge(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class En{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Cn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Sn{constructor(){}supports(t){return t instanceof Map||Ye(t)}create(){return new In}}class In{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ye(t)))throw new Error(`Error trying to diff '${mt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new xn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ge(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class xn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let An=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new ut]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new _n])}),t})(),Nn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new ut]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new Sn])}),t})();const Pn=[new Sn],On=new An([new _n]),Dn=new Nn(Pn);let Rn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Mn(t,cn),t})();const Mn=an;let Ln=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Fn(t,cn),t})();const Fn=an;function jn(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Un(n,e),n}(i,t)}function Un(t,e){t[Kt]=e,t[Qt]=e.logError.bind(e)}function Vn(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function qn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function zn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Hn(t,e){return t.nodes[e]}function Bn(t,e){return t.nodes[e]}function Wn(t,e){return t.nodes[e]}function Gn(t,e){return t.nodes[e]}function Kn(t,e){return t.nodes[e]}const $n={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Qn=()=>{},Yn=new Map;function Zn(t){let e=Yn.get(t);return e||(e=mt(t)+"_"+Yn.size,Yn.set(t,e)),e}function Jn(t,e,n,r){if($e.isWrapped(r)){r=$e.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,l=$e.unwrap(t.oldValues[i]);t.oldValues[i]=new $e(l)}return r}const Xn="$$undefined",tr="$$empty";function er(t){return{id:Xn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let nr=0;function rr(t,e,n,r){return!(!(2&t.state)&&Ge(t.oldValues[e.bindingIndex+n],r))}function ir(t,e,n,r){return!!rr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function lr(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ke(i,r)){const l=e.bindings[n].name;throw jn($n.createDebugContext(t,e.nodeIndex),`${l}: ${i}`,`${l}: ${r}`,0!=(1&t.state))}}function or(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function sr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function ur(t,e,n,r){try{return or(33554432&t.def.nodes[e].flags?Bn(t,e).componentView:t),$n.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function ar(t){return t.parent?Bn(t.parent,t.parentNodeDef.nodeIndex):null}function cr(t){return t.parent?t.parentNodeDef.parent:null}function hr(t,e){switch(201347067&e.flags){case 1:return Bn(t,e.nodeIndex).renderElement;case 2:return Hn(t,e.nodeIndex).renderText}}function dr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function pr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function fr(t){return 1<<t%32}function gr(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=fr(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function mr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Ot,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Zn(n)}})}function vr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Wt.Native?Bn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const yr=new WeakMap;function _r(t){let e=yr.get(t);return e||((e=t(()=>Qn)).factory=t,yr.set(t,e)),e}function br(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(hr(t,t.def.lastRenderRootNode))),wr(t,e,0,t.def.nodes.length-1,n,r,i)}function wr(t,e,n,r,i,l,o){for(let s=n;s<=r;s++){const n=t.def.nodes[s];11&n.flags&&Cr(t,n,e,i,l,o),s+=n.childCount}}function kr(t,e,n,r,i,l){let o=t;for(;o&&!dr(o);)o=o.parent;const s=o.parent,u=cr(o),a=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=a;c++){const t=s.def.nodes[c];t.ngContentIndex===e&&Cr(s,t,n,r,i,l),c+=t.childCount}if(!s.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)Er(t,o[e],n,r,i,l)}}function Cr(t,e,n,r,i,l){if(8&e.flags)kr(t,e.ngContent.index,n,r,i,l);else{const o=hr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Er(t,o,n,r,i,l),32&e.bindingFlags&&Er(Bn(t,e.nodeIndex).componentView,o,n,r,i,l)):Er(t,o,n,r,i,l),16777216&e.flags){const o=Bn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)br(o[t],n,r,i,l)}1&e.flags&&!e.element.name&&wr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,l)}}function Er(t,e,n,r,i,l){const o=t.renderer;switch(n){case 1:o.appendChild(r,e);break;case 2:o.insertBefore(r,e,i);break;case 3:o.removeChild(r,e);break;case 0:l.push(e)}}const Tr=/^:([^:]+):(.+)$/;function Sr(t){if(":"===t[0]){const e=t.match(Tr);return[e[1],e[2]]}return["",t]}function Ir(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function xr(t,e,n,r,i,l,o,s,u,a,c,h,d,p,f,g,m,v,y,_){switch(t){case 1:return e+Ar(n)+r;case 2:return e+Ar(n)+r+Ar(i)+l;case 3:return e+Ar(n)+r+Ar(i)+l+Ar(o)+s;case 4:return e+Ar(n)+r+Ar(i)+l+Ar(o)+s+Ar(u)+a;case 5:return e+Ar(n)+r+Ar(i)+l+Ar(o)+s+Ar(u)+a+Ar(c)+h;case 6:return e+Ar(n)+r+Ar(i)+l+Ar(o)+s+Ar(u)+a+Ar(c)+h+Ar(d)+p;case 7:return e+Ar(n)+r+Ar(i)+l+Ar(o)+s+Ar(u)+a+Ar(c)+h+Ar(d)+p+Ar(f)+g;case 8:return e+Ar(n)+r+Ar(i)+l+Ar(o)+s+Ar(u)+a+Ar(c)+h+Ar(d)+p+Ar(f)+g+Ar(m)+v;case 9:return e+Ar(n)+r+Ar(i)+l+Ar(o)+s+Ar(u)+a+Ar(c)+h+Ar(d)+p+Ar(f)+g+Ar(m)+v+Ar(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function Ar(t){return null!=t?t.toString():""}const Nr=new Object,Pr=Zn(Re),Or=Zn(St),Dr=Zn(qt);function Rr(t,e,n,r){return n=_t(n),{index:-1,deps:mr(r,mt(e)),flags:t,token:e,value:n}}function Mr(t,e,n=Re.THROW_IF_NOT_FOUND){const r=Lt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const o=e.tokenKey;switch(o){case Pr:case Or:case Dr:return t}const s=t._def.providersByKey[o];let u;if(s){let e=t._providers[s.index];return void 0===e&&(e=t._providers[s.index]=Lr(t,s)),e===Nr?void 0:e}if((u=ft(e.token))&&(i=t,null!=(l=u).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,l.providedIn)||"root"===l.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:e.token},t._providers[n]=Nr,t._providers[n]=Lr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Lt(r)}var i,l}function Lr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Mr(t,n[0]));case 2:return new e(Mr(t,n[0]),Mr(t,n[1]));case 3:return new e(Mr(t,n[0]),Mr(t,n[1]),Mr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Mr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Mr(t,n[0]));case 2:return e(Mr(t,n[0]),Mr(t,n[1]));case 3:return e(Mr(t,n[0]),Mr(t,n[1]),Mr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Mr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Mr(t,e.deps[0]);break;case 256:n=e.value}return n===Nr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Nr:n}function Fr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Bt(n,e),$n.dirtyParentQueries(r),Ur(r),r}function jr(t,e,n){const r=e?hr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),l=n.renderer.nextSibling(r);br(n,2,i,l,void 0)}function Ur(t){br(t,3,null,null,void 0)}const Vr=new Object;function qr(t,e,n,r,i,l){return new zr(t,e,n,r,i,l)}class zr extends en{constructor(t,e,n,r,i,l){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=l,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=_r(this.viewDefFactory),l=i.nodes[0].element.componentProvider.nodeIndex,o=$n.createRootView(t,e||[],n,i,r,Vr),s=Wn(o,l).instance;return n&&o.renderer.setAttribute(Bn(o,0).renderElement,"ng-version",yn.full),new Hr(o,new Kr(o),s)}}class Hr extends tn{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new cn(Bn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Zr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Br(t,e,n){return new Wr(t,e,n)}class Wr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new cn(this._data.renderElement)}get injector(){return new Zr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=cr(t),t=t.parent;return t?new Zr(t,e):new Zr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Fr(this._data,t);$n.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Kr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const l=n||this.parentInjector;i||t instanceof un||(i=l.get(qt));const o=t.create(l,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Ht(i,n,r),function(t,e){const n=ar(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),$n.dirtyParentQueries(r),jr(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Bt(r,e),null==n&&(n=r.length),Ht(r,n,i),$n.dirtyParentQueries(i),Ur(i),jr(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Fr(this._data,t);e&&$n.destroyView(e)}detach(t){const e=Fr(this._data,t);return e?new Kr(e):null}}function Gr(t){return new Kr(t)}class Kr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return br(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){or(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{$n.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){$n.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),$n.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Ur(this._view),$n.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function $r(t,e){return new Qr(t,e)}class Qr extends Rn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Kr($n.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new cn(Bn(this._parentView,this._def.nodeIndex).renderElement)}}function Yr(t,e){return new Zr(t,e)}class Zr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Re.THROW_IF_NOT_FOUND){return $n.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Zn(t)},e)}}function Jr(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Bn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Hn(t,n.nodeIndex).renderText;if(20240&n.flags)return Wn(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function Xr(t){return new ti(t.renderer)}class ti{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=Sr(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=Sr(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function ei(t,e,n,r){return new ni(t,e,n,r)}class ni{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Lr(t,i))}}(this)}get(t,e=Re.THROW_IF_NOT_FOUND,n=ht.Default){let r=0;return n&ht.SkipSelf?r|=1:n&ht.Self&&(r|=4),Mr(this,{token:t,tokenKey:Zn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(on)}destroy(){if(this._destroyed)throw new Error(`The ng module ${mt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Nr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const ri=Zn(dn),ii=Zn(gn),li=Zn(cn),oi=Zn(Ln),si=Zn(Rn),ui=Zn(Ne),ai=Zn(Re),ci=Zn(St);function hi(t,e,n,r,i,l,o,s){const u=[];if(o)for(let c in o){const[t,e]=o[c];u[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const a=[];if(s)for(let c in s)a.push({type:1,propName:c,target:null,eventName:s[c]});return fi(t,e|=16384,n,r,i,i,l,u,a)}function di(t,e,n){return fi(-1,t|=16,null,0,e,e,n)}function pi(t,e,n,r,i){return fi(-1,t,e,0,n,r,i)}function fi(t,e,n,r,i,l,o,s,u){const{matchedQueries:a,references:c,matchedQueryIds:h}=gr(n);u||(u=[]),s||(s=[]),l=_t(l);const d=mr(o,mt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Ir(s),outputs:u,element:null,provider:{token:i,value:l,deps:d},text:null,query:null,ngContent:null}}function gi(t,e){return _i(t,e)}function mi(t,e){let n=t;for(;n.parent&&!dr(n);)n=n.parent;return bi(n.parent,cr(n),!0,e.provider.value,e.provider.deps)}function vi(t,e){const n=bi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],l=n[i.propName];if(!Je(l))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=l.subscribe(yi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function yi(t,e,n){return r=>ur(t,e,n,r)}function _i(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return bi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const l=i.length;switch(l){case 0:return r();case 1:return r(ki(t,e,n,i[0]));case 2:return r(ki(t,e,n,i[0]),ki(t,e,n,i[1]));case 3:return r(ki(t,e,n,i[0]),ki(t,e,n,i[1]),ki(t,e,n,i[2]));default:const o=Array(l);for(let r=0;r<l;r++)o[r]=ki(t,e,n,i[r]);return r(...o)}}(t,e.parent,n,r.value,r.deps);case 2048:return ki(t,e.parent,n,r.deps[0]);case 256:return r.value}}function bi(t,e,n,r,i){const l=i.length;switch(l){case 0:return new r;case 1:return new r(ki(t,e,n,i[0]));case 2:return new r(ki(t,e,n,i[0]),ki(t,e,n,i[1]));case 3:return new r(ki(t,e,n,i[0]),ki(t,e,n,i[1]),ki(t,e,n,i[2]));default:const o=new Array(l);for(let r=0;r<l;r++)o[r]=ki(t,e,n,i[r]);return new r(...o)}}const wi={};function ki(t,e,n,r,i=Re.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const l=t;2&r.flags&&(i=null);const o=r.tokenKey;o===ui&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let s=t;for(;s;){if(e)switch(o){case ri:return Xr(Ci(s,e,n));case ii:return Ci(s,e,n).renderer;case li:return new cn(Bn(s,e.nodeIndex).renderElement);case oi:return Bn(s,e.nodeIndex).viewContainer;case si:if(e.element.template)return Bn(s,e.nodeIndex).template;break;case ui:return Gr(Ci(s,e,n));case ai:case ci:return Yr(s,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=Wn(s,t.nodeIndex);return e||(e={instance:_i(s,t)},s.nodes[t.nodeIndex]=e),e.instance}}n=dr(s),e=cr(s),s=s.parent,4&r.flags&&(s=null)}const u=l.root.injector.get(r.token,wi);return u!==wi||i===wi?u:l.root.ngModule.injector.get(r.token,i)}function Ci(t,e,n){let r;if(n)r=Bn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!dr(r);)r=r.parent;return r}function Ei(t,e,n,r,i,l){if(32768&n.flags){const e=Bn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){l=l||{};const e=$e.unwrap(t.oldValues[n.bindingIndex+r]);l[n.bindings[r].nonMinifiedName]=new Xe(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,l}function Ti(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const l=n[i];let o=l.parent;for(!o&&l.flags&e&&Ii(t,i,l.flags&e,r++),0==(l.childFlags&e)&&(i+=l.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(r=Si(t,o,e,r)),o=o.parent}}function Si(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Ii(t,i,e.flags&n,r++),i+=e.childCount}return r}function Ii(t,e,n,r){const i=Wn(t,e);if(!i)return;const l=i.instance;l&&($n.setCurrentNode(t,e),1048576&n&&zn(t,512,r)&&l.ngAfterContentInit(),2097152&n&&l.ngAfterContentChecked(),4194304&n&&zn(t,768,r)&&l.ngAfterViewInit(),8388608&n&&l.ngAfterViewChecked(),131072&n&&l.ngOnDestroy())}const xi=new Tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Gt}),Ai={},Ni=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Pi=void 0;var Oi=["en",[["a","p"],["AM","PM"],Pi],[["AM","PM"],Pi,Pi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pi,"{1} 'at' {0}",Pi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function Di(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Ai[e];if(n)return n;const r=e.split("-")[0];if(n=Ai[r])return n;if("en"===r)return Oi;throw new Error(`Missing locale data for the locale "${t}".`)}const Ri="en-US";let Mi=Ri;function Li(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(Mi=t.toLowerCase().replace(/_/g,"-"))}class Fi extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,l=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(l=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(l=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,l);return t instanceof h&&t.add(o),o}}function ji(){return this._results[We()]()}class Ui{constructor(){this.dirty=!0,this._results=[],this.changes=new Fi,this.length=0;const t=We(),e=Ui.prototype;e[t]||(e[t]=ji)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Vi=new Tt("Application Initializer");class qi{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ze(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const zi=new Tt("AppId");function Hi(){return`${Bi()}${Bi()}${Bi()}`}function Bi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wi=new Tt("Platform Initializer"),Gi=new Tt("Platform ID"),Ki=new Tt("appBootstrapListener");class $i{log(t){console.log(t)}warn(t){console.warn(t)}}const Qi=new Tt("LocaleId"),Yi=!1;function Zi(){throw new Error("Runtime compiler is not loaded")}const Ji=Zi,Xi=Zi,tl=Zi,el=Zi;class nl{constructor(){this.compileModuleSync=Ji,this.compileModuleAsync=Xi,this.compileModuleAndAllComponentsSync=tl,this.compileModuleAndAllComponentsAsync=el}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class rl{}let il,ll;function ol(){const t=Et.wtf;return!(!t||!(il=t.trace)||(ll=il.events,0))}const sl=ol();function ul(t,e){return null}const al=sl?function(t,e=null){return ll.createScope(t,e)}:(t,e)=>ul,cl=sl?function(t,e){return il.leaveScope(t,e),e}:(t,e)=>e,hl=(()=>Promise.resolve(0))();function dl(t){"undefined"==typeof Zone?hl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pl{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fi(!1),this.onMicrotaskEmpty=new Fi(!1),this.onStable=new Fi(!1),this.onError=new Fi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,l,o)=>{try{return vl(e),t.invokeTask(r,i,l,o)}finally{yl(e)}},onInvoke:(t,n,r,i,l,o,s)=>{try{return vl(e),t.invoke(r,i,l,o,s)}finally{yl(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,ml(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,l=i.scheduleEventTask("NgZoneEvent: "+r,t,gl,fl,fl);try{return i.runTask(l,e,n)}finally{i.cancelTask(l)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function fl(){}const gl={};function ml(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yl(t){t._nesting--,ml(t)}class _l{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fi,this.onMicrotaskEmpty=new Fi,this.onStable=new Fi,this.onError=new Fi}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class bl{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pl.assertNotInAngularZone(),dl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class wl{constructor(){this._applications=new Map,El.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return El.findTestabilityInTree(this,t,e)}}class kl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Cl,El=new kl,Tl=function(t,e,n){return t.get(rl).createCompiler([e]).compileModuleAsync(n)},Sl=function(t){return t instanceof un};const Il=new Tt("AllowMultipleToken");class xl{constructor(t,e){this.name=t,this.token=e}}function Al(t,e,n=[]){const r=`Platform: ${e}`,i=new Tt(r);return(e=[])=>{let l=Nl();if(!l||l.injector.get(Il,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Cl&&!Cl.destroyed&&!Cl.injector.get(Il,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cl=t.get(Pl);const e=t.get(Wi,null);e&&e.forEach(t=>t())}(Re.create({providers:t,name:r}))}return function(t){const e=Nl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nl(){return Cl&&!Cl.destroyed?Cl:null}class Pl{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new _l:("zone.js"===i?void 0:i)||new pl({enableLongStackTrace:ne()}),r=[{provide:pl,useValue:n}];var i;return n.run(()=>{const e=Re.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),l=i.injector.get(Xt,null);if(!l)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Yi&&Li(i.injector.get(Qi,Ri)||Ri),i.onDestroy(()=>Rl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{l.handleError(t)}})),function(t,e,n){try{const r=n();return Ze(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,n,()=>{const t=i.injector.get(qi);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ol({},e);return Tl(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Dl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${mt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Ol(t,e){return Array.isArray(e)?e.reduce(Ol,t):Object.assign({},t,e)}let Dl=(()=>{class t{constructor(t,e,n,r,i,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ne(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pl.assertNotInAngularZone(),dl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=$(o,s.pipe(it()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof en?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=Sl(n)?null:this._injector.get(qt),i=n.create(Re.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const l=i.injector.get(bl,null);return l&&i.injector.get(wl).registerApplication(i.location.nativeElement,l),this._loadComponent(i),ne()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,cl(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Rl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ki,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Rl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=al("ApplicationRef#tick()"),t})();function Rl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ml{}const Ll="#",Fl="NgFactory";class jl{}const Ul={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Vl{constructor(t,e){this._compiler=t,this._config=e||Ul}load(t){return!Yi&&this._compiler instanceof nl?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(Ll);return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>ql(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(Ll),i=Fl;return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ql(t,e,r))}}function ql(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class zl{constructor(t,e){this.name=t,this.callback=e}}class Hl{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Bl&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Bl extends Hl{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Bl&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Bl&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Bl&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Bl)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Wl=new Map,Gl=function(t){return Wl.get(t)||null};function Kl(t){Wl.set(t.nativeNode,t)}const $l=Al(null,"core",[{provide:Gi,useValue:"unknown"},{provide:Pl,deps:[Re]},{provide:wl,deps:[]},{provide:$i,deps:[]}]);function Ql(){return On}function Yl(){return Dn}function Zl(t){return t?(Yi&&Li(t),t):Ri}function Jl(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Xl{constructor(t){}}function to(t,e,n,r,i,l){t|=1;const{matchedQueries:o,references:s,matchedQueryIds:u}=gr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:u,references:s,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:l?_r(l):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Qn},provider:null,text:null,query:null,ngContent:null}}function eo(t,e,n,r,i,l,o=[],s,u,a,c,h){a||(a=Qn);const{matchedQueries:d,references:p,matchedQueryIds:f}=gr(n);let g=null,m=null;l&&([g,m]=Sr(l)),s=s||[];const v=new Array(s.length);for(let b=0;b<s.length;b++){const[t,e,n]=s[b],[r,i]=Sr(e);let l=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:l=n}v[b]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:l,suffix:o}}u=u||[];const y=new Array(u.length);for(let b=0;b<u.length;b++){const[t,e]=u[b];y[b]={type:0,target:t,eventName:e,propName:null}}const _=(o=o||[]).map(([t,e])=>{const[n,r]=Sr(t);return[n,r,e]});return h=function(t){if(t&&t.id===Xn){const e=null!=t.encapsulation&&t.encapsulation!==Wt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${nr++}`:tr}return t&&t.id===tr&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:Ir(v),outputs:y,element:{ns:g,name:m,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:a||Qn},provider:null,text:null,query:null,ngContent:null}}function no(t,e,n){const r=n.element,i=t.root.selectorOrNode,l=t.renderer;let o;if(t.parent||!i){o=r.name?l.createElement(r.name,r.ns):l.createComment("");const i=vr(t,e,n);i&&l.appendChild(i,o)}else o=l.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Wt.ShadowDom);if(r.attrs)for(let s=0;s<r.attrs.length;s++){const[t,e,n]=r.attrs[s];l.setAttribute(o,e,n,t)}return o}function ro(t,e,n,r){for(let o=0;o<n.outputs.length;o++){const s=n.outputs[o],u=io(t,n.nodeIndex,(l=s.eventName,(i=s.target)?`${i}:${l}`:l));let a=s.target,c=t;"component"===s.target&&(a=null,c=e);const h=c.renderer.listen(a||r,s.eventName,u);t.disposables[n.outputIndex+o]=h}var i,l}function io(t,e,n){return r=>ur(t,e,n,r)}function lo(t,e,n,r){if(!ir(t,e,n,r))return!1;const i=e.bindings[n],l=Bn(t,e.nodeIndex),o=l.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,l){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,l):l;s=null!=s?s.toString():null;const u=t.renderer;null!=l?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,o,i.ns,s,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,o,s,r);break;case 4:!function(t,e,n,r,i){let l=t.root.sanitizer.sanitize(Ee.STYLE,i);if(null!=l){l=l.toString();const t=e.suffix;null!=t&&(l+=t)}else l=null;const o=t.renderer;null!=l?o.setStyle(n,r,l):o.removeStyle(n,r)}(t,i,o,s,r);break;case 8:!function(t,e,n,r,i){const l=e.securityContext;let o=l?t.root.sanitizer.sanitize(l,i):i;t.renderer.setProperty(n,r,o)}(33554432&e.flags&&32&i.flags?l.componentView:t,i,o,s,r)}return!0}function oo(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:fr(e),bindings:r},ngContent:null}}function so(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&pr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Kn(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Kn(t,n).setDirty(),n+=e.childCount}}function uo(t,e){const n=Kn(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=ao(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Wn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=ao(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const l=e.query.bindings;let o=!1;for(let s=0;s<l.length;s++){const t=l[s];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}r[t.propName]=e}o&&n.notifyOnChanges()}function ao(t,e,n,r,i){for(let l=e;l<=n;l++){const e=t.def.nodes[l],n=e.matchedQueries[r.id];if(null!=n&&i.push(co(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Bn(t,l);if((e.childMatchedQueries&r.filterId)===r.filterId&&(ao(t,l+1,l+e.childCount,r,i),l+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const l=t[e],o=ar(l);o&&o===n&&ao(l,0,l.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];ao(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(l+=e.childCount)}return i}function co(t,e,n){if(null!=n)switch(n){case 1:return Bn(t,e.nodeIndex).renderElement;case 0:return new cn(Bn(t,e.nodeIndex).renderElement);case 2:return Bn(t,e.nodeIndex).template;case 3:return Bn(t,e.nodeIndex).viewContainer;case 4:return Wn(t,e.nodeIndex).instance}}function ho(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function po(t,e,n){const r=vr(t,e,n);r&&kr(t,n.ngContent.index,1,r,null,void 0)}function fo(t,e){return vo(128,t,new Array(e+1))}function go(t,e){return vo(32,t,new Array(e))}function mo(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let l=0;l<r;l++){const t=n[l];i[e[t]]=t}return vo(64,t,i)}function vo(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Ir(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function yo(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function _o(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const l=vr(t,e,n);return l&&i.appendChild(l,r),{renderText:r}}function bo(t,e){return(null!=t?t.toString():"")+e.suffix}function wo(t,e,n,r){let i=0,l=0,o=0,s=0,u=0,a=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=a,t.bindingIndex=i,t.outputIndex=l,t.renderParent=c,o|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=a?a.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(Co(a,t,e.length),i+=t.bindings.length,l+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,a.element.publicProviders=Object.create(a.element.publicProviders),a.element.allProviders=a.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?a.element.publicProviders[Zn(t.provider.token)]=t:(d||(d=!0,a.element.allProviders=Object.create(a.element.publicProviders)),a.element.allProviders[Zn(t.provider.token)]=t),e&&(a.element.componentProvider=t)}if(a?(a.childFlags|=t.flags,a.directChildFlags|=t.flags,a.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(a.childMatchedQueries|=t.element.template.nodeMatchedQueries)):s|=t.flags,t.childCount>0)a=t,ko(t)||(c=t);else for(;a&&f===a.nodeIndex+a.childCount;){const t=a.parent;t&&(t.childFlags|=a.childFlags,t.childMatchedQueries|=a.childMatchedQueries),c=(a=t)&&ko(a)?a.renderParent:a}}return{factory:null,nodeFlags:o,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Qn,updateRenderer:r||Qn,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:l,lastRenderRootNode:p}}function ko(t){return 0!=(1&t.flags)&&null===t.element.name}function Co(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Eo(t,e,n,r){const i=Io(t.root,t.renderer,t,e,n);return xo(i,t.component,r),Ao(i),i}function To(t,e,n){const r=Io(t,t.renderer,null,null,e);return xo(r,n,n),Ao(r),r}function So(t,e,n,r){const i=e.element.componentRendererType;let l;return l=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Io(t.root,l,t,e.element.componentProvider,n)}function Io(t,e,n,r,i){const l=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:l,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function xo(t,e,n){t.component=e,t.context=n}function Ao(t){let e;dr(t)&&(e=Bn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const l=n.nodes[i];let o;switch($n.setCurrentNode(t,i),201347067&l.flags){case 1:const n=no(t,e,l);let s=void 0;if(33554432&l.flags){const e=_r(l.element.componentView);s=$n.createComponentView(t,l,e,n)}ro(t,s,l,n),o={renderElement:n,componentView:s,viewContainer:null,template:l.element.template?$r(t,l):void 0},16777216&l.flags&&(o.viewContainer=Br(t,l,o));break;case 2:o=_o(t,e,l);break;case 512:case 1024:case 2048:case 256:(o=r[i])||4096&l.flags||(o={instance:gi(t,l)});break;case 16:o={instance:mi(t,l)};break;case 16384:(o=r[i])||(o={instance:vi(t,l)}),32768&l.flags&&xo(Bn(t,l.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Ui;break;case 8:po(t,e,l),o=void 0}r[i]=o}jo(t,Fo.CreateViewNodes),zo(t,201326592,268435456,0)}function No(t){Do(t),$n.updateDirectives(t,1),Uo(t,Fo.CheckNoChanges),$n.updateRenderer(t,1),jo(t,Fo.CheckNoChanges),t.state&=-97}function Po(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,qn(t,0,256),Do(t),$n.updateDirectives(t,0),Uo(t,Fo.CheckAndUpdate),zo(t,67108864,536870912,0);let e=qn(t,256,512);Ti(t,2097152|(e?1048576:0)),$n.updateRenderer(t,0),jo(t,Fo.CheckAndUpdate),zo(t,134217728,536870912,0),Ti(t,8388608|((e=qn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,qn(t,768,1024)}function Oo(t,e,n,r,i,l,o,s,u,a,c,h,d){return 0===n?function(t,e,n,r,i,l,o,s,u,a,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,l,o,s,u,a,c,h){const d=e.bindings.length;let p=!1;return d>0&&lo(t,e,0,n)&&(p=!0),d>1&&lo(t,e,1,r)&&(p=!0),d>2&&lo(t,e,2,i)&&(p=!0),d>3&&lo(t,e,3,l)&&(p=!0),d>4&&lo(t,e,4,o)&&(p=!0),d>5&&lo(t,e,5,s)&&(p=!0),d>6&&lo(t,e,6,u)&&(p=!0),d>7&&lo(t,e,7,a)&&(p=!0),d>8&&lo(t,e,8,c)&&(p=!0),d>9&&lo(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,l,o,s,u,a,c,h);case 2:return function(t,e,n,r,i,l,o,s,u,a,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&ir(t,e,0,n)&&(d=!0),f>1&&ir(t,e,1,r)&&(d=!0),f>2&&ir(t,e,2,i)&&(d=!0),f>3&&ir(t,e,3,l)&&(d=!0),f>4&&ir(t,e,4,o)&&(d=!0),f>5&&ir(t,e,5,s)&&(d=!0),f>6&&ir(t,e,6,u)&&(d=!0),f>7&&ir(t,e,7,a)&&(d=!0),f>8&&ir(t,e,8,c)&&(d=!0),f>9&&ir(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=bo(n,p[0])),f>1&&(d+=bo(r,p[1])),f>2&&(d+=bo(i,p[2])),f>3&&(d+=bo(l,p[3])),f>4&&(d+=bo(o,p[4])),f>5&&(d+=bo(s,p[5])),f>6&&(d+=bo(u,p[6])),f>7&&(d+=bo(a,p[7])),f>8&&(d+=bo(c,p[8])),f>9&&(d+=bo(h,p[9]));const g=Hn(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,l,o,s,u,a,c,h);case 16384:return function(t,e,n,r,i,l,o,s,u,a,c,h){const d=Wn(t,e.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&rr(t,e,0,n)&&(f=!0,g=Ei(t,d,e,0,n,g)),m>1&&rr(t,e,1,r)&&(f=!0,g=Ei(t,d,e,1,r,g)),m>2&&rr(t,e,2,i)&&(f=!0,g=Ei(t,d,e,2,i,g)),m>3&&rr(t,e,3,l)&&(f=!0,g=Ei(t,d,e,3,l,g)),m>4&&rr(t,e,4,o)&&(f=!0,g=Ei(t,d,e,4,o,g)),m>5&&rr(t,e,5,s)&&(f=!0,g=Ei(t,d,e,5,s,g)),m>6&&rr(t,e,6,u)&&(f=!0,g=Ei(t,d,e,6,u,g)),m>7&&rr(t,e,7,a)&&(f=!0,g=Ei(t,d,e,7,a,g)),m>8&&rr(t,e,8,c)&&(f=!0,g=Ei(t,d,e,8,c,g)),m>9&&rr(t,e,9,h)&&(f=!0,g=Ei(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&zn(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,r,i,l,o,s,u,a,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,l,o,s,u,a,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&ir(t,e,0,n)&&(p=!0),f>1&&ir(t,e,1,r)&&(p=!0),f>2&&ir(t,e,2,i)&&(p=!0),f>3&&ir(t,e,3,l)&&(p=!0),f>4&&ir(t,e,4,o)&&(p=!0),f>5&&ir(t,e,5,s)&&(p=!0),f>6&&ir(t,e,6,u)&&(p=!0),f>7&&ir(t,e,7,a)&&(p=!0),f>8&&ir(t,e,8,c)&&(p=!0),f>9&&ir(t,e,9,h)&&(p=!0),p){const p=Gn(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=l),f>4&&(g[4]=o),f>5&&(g[5]=s),f>6&&(g[6]=u),f>7&&(g[7]=a),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=l),f>4&&(g[d[4].name]=o),f>5&&(g[d[5].name]=s),f>6&&(g[d[6].name]=u),f>7&&(g[d[7].name]=a),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,l);break;case 5:g=t.transform(r,i,l,o);break;case 6:g=t.transform(r,i,l,o,s);break;case 7:g=t.transform(r,i,l,o,s,u);break;case 8:g=t.transform(r,i,l,o,s,u,a);break;case 9:g=t.transform(r,i,l,o,s,u,a,c);break;case 10:g=t.transform(r,i,l,o,s,u,a,c,h)}}p.value=g}return p}(t,e,n,r,i,l,o,s,u,a,c,h);default:throw"unreachable"}}(t,e,r,i,l,o,s,u,a,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)lo(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let l=0;l<n.length;l++)ir(t,e,l,n[l])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=bo(n[t],r[t]);i=e.text.prefix+i;const l=Hn(t,e.nodeIndex).renderText;t.renderer.setValue(l,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Wn(t,e.nodeIndex),i=r.instance;let l=!1,o=void 0;for(let s=0;s<n.length;s++)rr(t,e,s,n[s])&&(l=!0,o=Ei(t,r,e,s,n[s],o));return o&&i.ngOnChanges(o),65536&e.flags&&zn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),l}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let l=0;l<n.length;l++)ir(t,e,l,n[l])&&(i=!0);if(i){const i=Gn(t,e.nodeIndex);let l;switch(201347067&e.flags){case 32:l=n;break;case 64:l={};for(let i=0;i<n.length;i++)l[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);l=t.transform(...e)}i.value=l}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Do(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Bn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,sr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ro(t,e,n,r,i,l,o,s,u,a,c,h,d){return 0===n?function(t,e,n,r,i,l,o,s,u,a,c,h){const d=e.bindings.length;d>0&&lr(t,e,0,n),d>1&&lr(t,e,1,r),d>2&&lr(t,e,2,i),d>3&&lr(t,e,3,l),d>4&&lr(t,e,4,o),d>5&&lr(t,e,5,s),d>6&&lr(t,e,6,u),d>7&&lr(t,e,7,a),d>8&&lr(t,e,8,c),d>9&&lr(t,e,9,h)}(t,e,r,i,l,o,s,u,a,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)lr(t,e,r,n[r])}(t,e,r),!1}function Mo(t,e){if(Kn(t,e.nodeIndex).dirty)throw jn($n.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function Lo(t){if(!(128&t.state)){if(Uo(t,Fo.Destroy),jo(t,Fo.Destroy),Ti(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=ar(t);if(e){const n=e.template._projectedViews;n&&(Bt(n,n.indexOf(t)),$n.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Bn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Hn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Kn(t,n).destroy()}}(t),dr(t)&&t.renderer.destroy(),t.state|=128}}const Fo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function jo(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Vo(Bn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Uo(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Bn(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Vo(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Vo(t,e){const n=t.state;switch(e){case Fo.CheckNoChanges:0==(128&n)&&(12==(12&n)?No(t):64&n&&qo(t,Fo.CheckNoChangesProjectedViews));break;case Fo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?No(t):64&n&&qo(t,e));break;case Fo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Po(t):64&n&&qo(t,Fo.CheckAndUpdateProjectedViews));break;case Fo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Po(t):64&n&&qo(t,e));break;case Fo.Destroy:Lo(t);break;case Fo.CreateViewNodes:Ao(t)}}function qo(t,e){Uo(t,e),jo(t,e)}function zo(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let l=0;l<i;l++){const i=t.def.nodes[l];if(i.flags&e&&i.flags&n)switch($n.setCurrentNode(t,i.nodeIndex),r){case 0:uo(t,i);break;case 1:Mo(t,i)}i.childFlags&e&&i.childFlags&n||(l+=i.childCount)}}let Ho=!1;function Bo(t,e,n,r,i,l){const o=i.injector.get(pn);return To(Go(t,i,o,e,n),r,l)}function Wo(t,e,n,r,i,l){const o=i.injector.get(pn),s=Go(t,i,new Es(o),e,n),u=ns(r);return ks(us.create,To,null,[s,u,l])}function Go(t,e,n,r,i){const l=e.injector.get(Te),o=e.injector.get(Xt),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:l,rendererFactory:n,renderer:s,errorHandler:o}}function Ko(t,e,n,r){const i=ns(n);return ks(us.create,Eo,null,[t,e,i,r])}function $o(t,e,n,r){return n=Jo.get(e.element.componentProvider.provider.token)||ns(n),ks(us.create,So,null,[t,e,n,r])}function Qo(t,e,n,r){return ei(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Yo.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=Yo.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{Zo.forEach((r,i)=>{ft(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Yo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=mr(i.deps),r.value=i.value)}if(Zo.size>0){let e=new Set(t.modules);Zo.forEach((r,i)=>{if(e.has(ft(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:mr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Zn(i)]=e}})}}(t=t.factory(()=>Qn)),t):t}(r))}const Yo=new Map,Zo=new Map,Jo=new Map;function Xo(t){let e;Yo.set(t.token,t),"function"==typeof t.token&&(e=ft(t.token))&&"function"==typeof e.providedIn&&Zo.set(t.token,t)}function ts(t,e){const n=_r(e.viewDefFactory),r=_r(n.nodes[0].element.componentView);Jo.set(t,r)}function es(){Yo.clear(),Zo.clear(),Jo.clear()}function ns(t){if(0===Yo.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Yo.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Qn);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Yo.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=mr(n.deps),t.value=n.value)}}}}function rs(t,e,n,r,i,l,o,s,u,a,c,h,d){const p=t.def.nodes[e];return Oo(t,p,n,r,i,l,o,s,u,a,c,h,d),224&p.flags?Gn(t,e).value:void 0}function is(t,e,n,r,i,l,o,s,u,a,c,h,d){const p=t.def.nodes[e];return Ro(t,p,n,r,i,l,o,s,u,a,c,h,d),224&p.flags?Gn(t,e).value:void 0}function ls(t){return ks(us.detectChanges,Po,null,[t])}function os(t){return ks(us.checkNoChanges,No,null,[t])}function ss(t){return ks(us.destroy,Lo,null,[t])}const us=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let as,cs,hs;function ds(t,e){cs=t,hs=e}function ps(t,e,n,r){return ds(t,e),ks(us.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function fs(t,e){if(128&t.state)throw Vn(us[as]);return ds(t,ys(t,0)),t.def.updateDirectives((function(t,n,r,...i){const l=t.def.nodes[n];return 0===e?ms(t,l,r,i):vs(t,l,r,i),16384&l.flags&&ds(t,ys(t,n)),224&l.flags?Gn(t,l.nodeIndex).value:void 0}),t)}function gs(t,e){if(128&t.state)throw Vn(us[as]);return ds(t,_s(t,0)),t.def.updateRenderer((function(t,n,r,...i){const l=t.def.nodes[n];return 0===e?ms(t,l,r,i):vs(t,l,r,i),3&l.flags&&ds(t,_s(t,n)),224&l.flags?Gn(t,l.nodeIndex).value:void 0}),t)}function ms(t,e,n,r){if(Oo(t,e,n,...r)){const o=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=o[t];8&r.flags&&(n[(i=r.nonMinifiedName,l=void 0,l=i.replace(/[$@]/g,"_"),`ng-reflect-${i=l.replace(xe,(...t)=>"-"+t[1].toLowerCase())}`)]=Ae(s))}const r=e.parent,s=Bn(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}var i,l}function vs(t,e,n,r){Ro(t,e,n,...r)}function ys(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function _s(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class bs{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=cr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Bn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Yr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){ws(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&ws(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!dr(t);)t=t.parent;return t.parent?Bn(t.parent,cr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?hr(this.view,this.nodeDef):hr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let l=-1;n.factory(()=>++l===i?t.error.bind(t,...e):Qn),l<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function ws(t,e,n){for(let r in e.references)n[r]=co(t,e,e.references[r])}function ks(t,e,n,r){const i=as,l=cs,o=hs;try{as=t;const s=e.apply(n,r);return cs=l,hs=o,as=i,s}catch(a){if(Yt(a)||!cs)throw a;throw s=a,u=Cs(),s instanceof Error||(s=new Error(s.toString())),Un(s,u),s}var s,u}function Cs(){return cs?new bs(cs,hs):null}class Es{constructor(t){this.delegate=t}createRenderer(t,e){return new Ts(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ts{constructor(t){this.delegate=t,this.debugContextFactory=Cs,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Gl(t);!function(t){Wl.delete(t.nativeNode)}(e),e instanceof Hl&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new Bl(n,null,r);e.name=t,Kl(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Kl(new Hl(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Kl(new Hl(e,null,n)),e}appendChild(t,e){const n=Gl(t),r=Gl(e);n&&r&&n instanceof Bl&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Gl(t),i=Gl(e),l=Gl(n);r&&i&&r instanceof Bl&&r.insertBefore(l,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Gl(t),r=Gl(e);n&&r&&n instanceof Bl&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=Cs();return r&&Kl(new Bl(n,null,r)),n}setAttribute(t,e,n,r){const i=Gl(t);i&&i instanceof Bl&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Gl(t);r&&r instanceof Bl&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Gl(t);n&&n instanceof Bl&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Gl(t);n&&n instanceof Bl&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Gl(t);i&&i instanceof Bl&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Gl(t);r&&r instanceof Bl&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Gl(t);r&&r instanceof Bl&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Gl(t);r&&r.listeners.push(new zl(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Ss(t,e,n){return new Is(t,e,n)}class Is extends zt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Ho)return;Ho=!0;const t=ne()?{setCurrentNode:ds,createRootView:Wo,createEmbeddedView:Ko,createComponentView:$o,createNgModuleRef:Qo,overrideProvider:Xo,overrideComponentView:ts,clearOverrides:es,checkAndUpdateView:ls,checkNoChangesView:os,destroyView:ss,createDebugContext:(t,e)=>new bs(t,e),handleEvent:ps,updateDirectives:fs,updateRenderer:gs}:{setCurrentNode:()=>{},createRootView:Bo,createEmbeddedView:Eo,createComponentView:So,createNgModuleRef:ei,overrideProvider:Qn,overrideComponentView:Qn,clearOverrides:Qn,checkAndUpdateView:Po,checkNoChangesView:No,destroyView:Lo,createDebugContext:(t,e)=>new bs(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?rs:is,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?rs:is,t)};$n.setCurrentNode=t.setCurrentNode,$n.createRootView=t.createRootView,$n.createEmbeddedView=t.createEmbeddedView,$n.createComponentView=t.createComponentView,$n.createNgModuleRef=t.createNgModuleRef,$n.overrideProvider=t.overrideProvider,$n.overrideComponentView=t.overrideComponentView,$n.clearOverrides=t.clearOverrides,$n.checkAndUpdateView=t.checkAndUpdateView,$n.checkNoChangesView=t.checkNoChangesView,$n.destroyView=t.destroyView,$n.resolveDep=ki,$n.createDebugContext=t.createDebugContext,$n.handleEvent=t.handleEvent,$n.updateDirectives=t.updateDirectives,$n.updateRenderer=t.updateRenderer,$n.dirtyParentQueries=so}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(_r(this._ngModuleDefFactory));return $n.createNgModuleRef(this.moduleType,t||Re.NULL,this._bootstrapComponents,e)}}class xs{}var As=n("mrSG");function Ns(...t){let e=t[t.length-1];return I(e)?(t.pop(),V(t,e)):K(t)}class Ps extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Os extends Ps{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Ds=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Rs extends Ds{constructor(t,e=Ds.now){super(t,()=>Rs.delegate&&Rs.delegate!==this?Rs.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Rs.delegate&&Rs.delegate!==this?Rs.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Ms=new Rs(Os);function Ls(t,e){return function(t,e=Ms){return new b(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function Fs(t,e){return Ls(t,e).pipe(F(t=>({payload:t,type:"query"})))}const js=new b(t=>t.complete());function Us(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):js}function Vs(t,e){return new b(e?n=>e.schedule(qs,0,{error:t,subscriber:n}):e=>e.error(t))}function qs({error:t,subscriber:e}){e.error(t)}let zs=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Ns(this.value);case"E":return Vs(this.error);case"C":return Us()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Hs(t,e=0){return function(n){return n.lift(new Bs(t,e))}}class Bs{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Ws(t,this.scheduler,this.delay))}}class Ws extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Ws.dispatch,this.delay,new Gs(t,this.destination)))}_next(t){this.scheduleMessage(zs.createNext(t))}_error(t){this.scheduleMessage(zs.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(zs.createComplete()),this.unsubscribe()}}class Gs{constructor(t,e){this.notification=t,this.destination=e}}function Ks(t,e){return function(n){return n.lift(new $s(t,e))}}class $s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Qs(t,this.predicate,this.thisArg))}}class Qs extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ys(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Zs(t,e,n))}}class Zs{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Js(t,this.accumulator,this.seed,this.hasSeed))}}class Js extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Xs(t,e){return Fs(t,e).pipe(F(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function tu(t,e,n){return Fs(t,n).pipe(F(t=>t.payload.docChanges()),Ys((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),F(t=>t.map(t=>({type:t.type,payload:t}))))}function eu(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class nu{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Xs(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,F(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ks(t=>t.length>0)):Xs(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ys((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=eu(t);return tu(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Fs(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,F(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return q(this.query.get(t)).pipe(Hs(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new ru(this.ref.doc(t),this.afs)}}class ru{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ec(n,e);return new nu(r,i,this.afs)}snapshotChanges(){return Ls(this.ref,this.afs.schedulers.outsideAngular).pipe(F(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(F(t=>t.payload.data()))}get(t){return q(this.ref.get(t)).pipe(Hs(this.afs.schedulers.insideAngular))}}class iu{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Xs(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,F(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ks(t=>t.length>0)):Xs(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ys((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=eu(t);return tu(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Fs(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,F(t=>t.payload.docs.map(t=>t.data())))}get(t){return q(this.query.get(t)).pipe(Hs(this.afs.schedulers.insideAngular))}}class lu{}const ou=new Tt("Location Initialized");class su{}const uu=new Tt("appBaseHref");class au{constructor(t,e){this._subject=new Fi,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=au.stripTrailingSlash(cu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+au.normalizeQueryParams(e))}normalize(t){return au.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,cu(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+au.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+au.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function cu(t){return t.replace(/\/index.html$/,"")}class hu extends su{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=au.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+au.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+au.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class du extends su{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return au.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+au.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+au.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+au.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const pu=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),fu=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),gu=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),mu=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),vu=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function yu(t,e){return Eu(Di(t)[Ni.DateFormat],e)}function _u(t,e){return Eu(Di(t)[Ni.TimeFormat],e)}function bu(t,e){return Eu(Di(t)[Ni.DateTimeFormat],e)}function wu(t,e){const n=Di(t),r=n[Ni.NumberSymbols][e];if(void 0===r){if(e===vu.CurrencyDecimal)return n[Ni.NumberSymbols][vu.Decimal];if(e===vu.CurrencyGroup)return n[Ni.NumberSymbols][vu.Group]}return r}const ku=function(t){return Di(t)[Ni.PluralCase]};function Cu(t){if(!t[Ni.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ni.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Eu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Tu(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Su=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Iu={},xu=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Au=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Nu=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Pu=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Ou(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Du(t,e,n="-",r,i){let l="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,l=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),l+o}function Ru(t,e,n=0,r=!1,i=!1){return function(l,o){let s=function(t,e){switch(t){case Nu.FullYear:return e.getFullYear();case Nu.Month:return e.getMonth();case Nu.Date:return e.getDate();case Nu.Hours:return e.getHours();case Nu.Minutes:return e.getMinutes();case Nu.Seconds:return e.getSeconds();case Nu.FractionalSeconds:return e.getMilliseconds();case Nu.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,l);if((n>0||s>-n)&&(s+=n),t===Nu.Hours)0===s&&-12===n&&(s=12);else if(t===Nu.FractionalSeconds)return u=e,Du(s,3).substr(0,u);var u;const a=wu(o,vu.MinusSign);return Du(s,e,a,r,i)}}function Mu(t,e,n=fu.Format,r=!1){return function(i,l){return function(t,e,n,r,i,l){switch(n){case Pu.Months:return function(t,e,n){const r=Di(t),i=Eu([r[Ni.MonthsFormat],r[Ni.MonthsStandalone]],e);return Eu(i,n)}(e,i,r)[t.getMonth()];case Pu.Days:return function(t,e,n){const r=Di(t),i=Eu([r[Ni.DaysFormat],r[Ni.DaysStandalone]],e);return Eu(i,n)}(e,i,r)[t.getDay()];case Pu.DayPeriods:const o=t.getHours(),s=t.getMinutes();if(l){const t=function(t){const e=Di(t);return Cu(e),(e[Ni.ExtraData][2]||[]).map(t=>"string"==typeof t?Tu(t):[Tu(t[0]),Tu(t[1])])}(e),n=function(t,e,n){const r=Di(t);Cu(r);const i=Eu([r[Ni.ExtraData][0],r[Ni.ExtraData][1]],e)||[];return Eu(i,n)||[]}(e,i,r);let l;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:u,minutes:a}=t[1];o>=r&&s>=i&&(o<u||o===u&&s<a)&&(l=n[e])}else{const{hours:r,minutes:i}=t;r===o&&i===s&&(l=n[e])}}),l)return l}return function(t,e,n){const r=Di(t),i=Eu([r[Ni.DayPeriodsFormat],r[Ni.DayPeriodsStandalone]],e);return Eu(i,n)}(e,i,r)[o<12?0:1];case Pu.Eras:return function(t,e){return Eu(Di(t)[Ni.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,l,t,e,n,r)}}function Lu(t){return function(e,n,r){const i=-1*r,l=wu(n,vu.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Au.Short:return(i>=0?"+":"")+Du(o,2,l)+Du(Math.abs(i%60),2,l);case Au.ShortGMT:return"GMT"+(i>=0?"+":"")+Du(o,1,l);case Au.Long:return"GMT"+(i>=0?"+":"")+Du(o,2,l)+":"+Du(Math.abs(i%60),2,l);case Au.Extended:return 0===r?"Z":(i>=0?"+":"")+Du(o,2,l)+":"+Du(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${t}"`)}}}const Fu=0,ju=4;function Uu(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,Fu,1).getDay();return new Date(t,0,1+(e<=ju?ju:ju+7)-e)}(n.getFullYear()),e=(l=n,new Date(l.getFullYear(),l.getMonth(),l.getDate()+(ju-l.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var l;return Du(i,t,wu(r,vu.MinusSign))}}const Vu={};function qu(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function zu(t){return t instanceof Date&&!isNaN(t.valueOf())}const Hu=new Tt("UseV4Plurals");class Bu{}class Wu extends Bu{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):ku(e||this.locale)(t)){case pu.Zero:return"zero";case pu.One:return"one";case pu.Two:return"two";case pu.Few:return"few";case pu.Many:return"many";default:return"other"}}}class Gu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Ku{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){ne()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Gu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new $u(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const l=new $u(t,i);e.push(l)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class $u{constructor(t,e){this.record=t,this.view=e}}class Qu{constructor(t,e){this._viewContainer=t,this._context=new Yu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class Yu{constructor(){this.$implicit=null,this.ngIf=null}}function Zu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${mt(e)}'.`)}class Ju{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class Xu{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class ta{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Ju(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class ea{constructor(t,e,n){n._addDefault(new Ju(t,e))}}function na(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${mt(t)}'`)}class ra{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ia{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const la=new ia,oa=new ra;class sa{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Ge(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,$e.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Ze(t))return la;if(Je(t))return oa;throw na(sa,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class ua{constructor(t){this.locale=t}transform(t,e="mediumDate",n,r){if(null==t||""===t||t!=t)return null;try{return function(t,e,n,r){let i=function(t){if(zu(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(Su))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,l=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),a=Math.round(1e3*parseFloat("0."+(t[7]||0)));return l.call(e,o,s,u,a),e}(n)}const e=new Date(t);if(!zu(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return Di(t)[Ni.LocaleId]}(e);if(Iu[r]=Iu[r]||{},Iu[r][n])return Iu[r][n];let i="";switch(n){case"shortDate":i=yu(e,mu.Short);break;case"mediumDate":i=yu(e,mu.Medium);break;case"longDate":i=yu(e,mu.Long);break;case"fullDate":i=yu(e,mu.Full);break;case"shortTime":i=_u(e,mu.Short);break;case"mediumTime":i=_u(e,mu.Medium);break;case"longTime":i=_u(e,mu.Long);break;case"fullTime":i=_u(e,mu.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=Ou(bu(e,mu.Short),[n,r]);break;case"medium":const l=t(e,"mediumTime"),o=t(e,"mediumDate");i=Ou(bu(e,mu.Medium),[l,o]);break;case"long":const s=t(e,"longTime"),u=t(e,"longDate");i=Ou(bu(e,mu.Long),[s,u]);break;case"full":const a=t(e,"fullTime"),c=t(e,"fullDate");i=Ou(bu(e,mu.Full),[a,c])}return i&&(Iu[r][n]=i),i}(n,e)||e;let l,o=[];for(;e;){if(!(l=xu.exec(e))){o.push(e);break}{const t=(o=o.concat(l.slice(1))).pop();if(!t)break;e=t}}let s=i.getTimezoneOffset();r&&(s=qu(r,s),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(qu(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(Vu[t])return Vu[t];let e;switch(t){case"G":case"GG":case"GGG":e=Mu(Pu.Eras,gu.Abbreviated);break;case"GGGG":e=Mu(Pu.Eras,gu.Wide);break;case"GGGGG":e=Mu(Pu.Eras,gu.Narrow);break;case"y":e=Ru(Nu.FullYear,1,0,!1,!0);break;case"yy":e=Ru(Nu.FullYear,2,0,!0,!0);break;case"yyy":e=Ru(Nu.FullYear,3,0,!1,!0);break;case"yyyy":e=Ru(Nu.FullYear,4,0,!1,!0);break;case"M":case"L":e=Ru(Nu.Month,1,1);break;case"MM":case"LL":e=Ru(Nu.Month,2,1);break;case"MMM":e=Mu(Pu.Months,gu.Abbreviated);break;case"MMMM":e=Mu(Pu.Months,gu.Wide);break;case"MMMMM":e=Mu(Pu.Months,gu.Narrow);break;case"LLL":e=Mu(Pu.Months,gu.Abbreviated,fu.Standalone);break;case"LLLL":e=Mu(Pu.Months,gu.Wide,fu.Standalone);break;case"LLLLL":e=Mu(Pu.Months,gu.Narrow,fu.Standalone);break;case"w":e=Uu(1);break;case"ww":e=Uu(2);break;case"W":e=Uu(1,!0);break;case"d":e=Ru(Nu.Date,1);break;case"dd":e=Ru(Nu.Date,2);break;case"E":case"EE":case"EEE":e=Mu(Pu.Days,gu.Abbreviated);break;case"EEEE":e=Mu(Pu.Days,gu.Wide);break;case"EEEEE":e=Mu(Pu.Days,gu.Narrow);break;case"EEEEEE":e=Mu(Pu.Days,gu.Short);break;case"a":case"aa":case"aaa":e=Mu(Pu.DayPeriods,gu.Abbreviated);break;case"aaaa":e=Mu(Pu.DayPeriods,gu.Wide);break;case"aaaaa":e=Mu(Pu.DayPeriods,gu.Narrow);break;case"b":case"bb":case"bbb":e=Mu(Pu.DayPeriods,gu.Abbreviated,fu.Standalone,!0);break;case"bbbb":e=Mu(Pu.DayPeriods,gu.Wide,fu.Standalone,!0);break;case"bbbbb":e=Mu(Pu.DayPeriods,gu.Narrow,fu.Standalone,!0);break;case"B":case"BB":case"BBB":e=Mu(Pu.DayPeriods,gu.Abbreviated,fu.Format,!0);break;case"BBBB":e=Mu(Pu.DayPeriods,gu.Wide,fu.Format,!0);break;case"BBBBB":e=Mu(Pu.DayPeriods,gu.Narrow,fu.Format,!0);break;case"h":e=Ru(Nu.Hours,1,-12);break;case"hh":e=Ru(Nu.Hours,2,-12);break;case"H":e=Ru(Nu.Hours,1);break;case"HH":e=Ru(Nu.Hours,2);break;case"m":e=Ru(Nu.Minutes,1);break;case"mm":e=Ru(Nu.Minutes,2);break;case"s":e=Ru(Nu.Seconds,1);break;case"ss":e=Ru(Nu.Seconds,2);break;case"S":e=Ru(Nu.FractionalSeconds,1);break;case"SS":e=Ru(Nu.FractionalSeconds,2);break;case"SSS":e=Ru(Nu.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Lu(Au.Short);break;case"ZZZZZ":e=Lu(Au.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Lu(Au.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Lu(Au.Long);break;default:return null}return Vu[t]=e,e}(t);u+=e?e(i,n,s):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(t,e,r||this.locale,n)}catch(i){throw na(ua,i.message)}}}class aa{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=ca){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push(function(t,e){return{key:t,value:e}}(t.key,t.currentValue))}),this.keyValues.sort(e)),this.keyValues}}function ca(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),l=String(r);return i==l?0:i<l?-1:1}class ha{}const da=new Tt("DocumentToken"),pa="browser",fa="server";function ga(t){return t===pa}function ma(t){return t===fa}let va=(()=>{class t{}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new ya(jt(da),window,jt(Xt))}),t})();class ya{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class _a extends Os{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class ba extends Rs{}const wa=new ba(_a);function ka(t,e,n){return function(r){return r.lift(new Ca(t,e,n))}}class Ca{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Ea(t,this.nextOrObserver,this.error,this.complete))}}class Ea extends f{constructor(t,e,n,i){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=i||v,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}let Ta=1;const Sa={},Ia={setImmediate(t){const e=Ta++;return Sa[e]=t,Promise.resolve().then(()=>(function(t){const e=Sa[t];e&&e()})(e)),e},clearImmediate(t){delete Sa[t]}};class xa extends Os{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Ia.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Ia.clearImmediate(e),t.scheduled=void 0)}}class Aa extends Rs{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Na=new Aa(xa);class Pa extends b{constructor(t,e=0,n=Na){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(u(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Na)}static create(t,e=0,n=Na){return new Pa(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Pa.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Oa{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Pa(e,this.delay,this.scheduler).subscribe(t)}}const Da=new Tt("angularfire2.realtimeDatabaseURL");function Ra(){}class Ma{constructor(t,e=wa){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class La{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ra,{},Ra,Ra)),e.pipe(ka(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class Fa{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ma(Zone.current)),this.insideAngular=t.run(()=>new Ma(Zone.current,Ms))}}function ja(t,e){return function(n){return ma(e)&&(n=n.lift(new La(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new Oa(t,e))}}(t.outsideAngular),Hs(t.insideAngular))}}var Ua,Va=n("Wcq6"),qa=n.n(Va);const za=new Tt("angularfire2.app.options"),Ha=new Tt("angularfire2.app.nameOrConfig"),Ba=za,Wa=Ha;class Ga{}const Ka=new vn("5.4.2");function $a(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",qa.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>qa.a.initializeApp(t,r))}let Qa=Ua=class{constructor(t){qa.a.registerVersion&&(qa.a.registerVersion("angularfire",Ka.full,t.toString()),qa.a.registerVersion("angular",yn.full))}static initializeApp(t,e){return{ngModule:Ua,providers:[{provide:Ba,useValue:t},{provide:Wa,useValue:e}]}}};const Ya=new Tt("angularfire2.enableFirestorePersistence"),Za=new Tt("angularfire2.firestore.persistenceSettings"),Ja=new Tt("angularfire2.firestore.settings"),Xa=parseInt(qa.a.SDK_VERSION.split(".")[0]),tc=Xa<5||5==Xa&&parseInt(qa.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function ec(t,e=(t=>t)){return{query:e(t),ref:t}}let nc=class{constructor(t,e,n,r,i,l,o){this.schedulers=new Fa(l),this.keepUnstableUntilFirst=ja(this.schedulers,i),this.firestore=l.runOutsideAngular(()=>{const n=$a(t,l,e).firestore();return n.settings(r||tc),n}),this.persistenceEnabled$=n&&!ma(i)?l.runOutsideAngular(()=>{try{return q(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return Ns(!1)}}):Ns(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ec(n,e);return new nu(r,i,this)}collectionGroup(t,e){if(Xa<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new iu(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new ru(e,this)}createId(){return this.firestore.collection("_").doc().id}},rc=(()=>{class t{constructor(t){this.db=t}getSubscriptions(){this.db.collection("subscriptions").get().subscribe(t=>{t.forEach(t=>{console.log(t)})})}addSubscription(t){this.db.collection("subscriptions").add(t.toJSON()),this.getSubscriptions()}}return t.ngInjectableDef=pt({factory:function(){return new t(jt(nc))},token:t,providedIn:"root"}),t})();class ic{constructor(t,e,n){this.swUpdate=t,this.swPush=e,this.subscriptionService=n,this.VAPID_PUBLIC_KEY="BEf3AAasjVowk2heZKL_QLSM9AkUrEiiCaxdZNrA96Ffe3lPs66r7mguXTUAvzdmvBT44dcA-JjdTyzBXdUUKfM"}ngOnInit(){this.swUpdate.isEnabled&&this.swUpdate.available.subscribe(()=>{confirm("New Version available. Load now?")&&window.location.reload()})}}class lc extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k;return this._value}next(t){super.next(this._value=t)}}const oc=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),sc={};class uc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ac(t,this.resultSelector))}}class ac extends L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(sc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(M(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const l=this.values,o=this.toRespond?l[n]===sc?--this.toRespond:this.toRespond:0;l[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function cc(t){return new b(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?q(n):Us()).subscribe(e)})}function hc(){return G(1)}const dc=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function pc(t){return function(e){return 0===t?Us():e.lift(new fc(t))}}class fc{constructor(t){if(this.total=t,this.total<0)throw new dc}call(t,e){return e.subscribe(new gc(t,this.total))}}class gc extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function mc(t=_c){return e=>e.lift(new vc(t))}class vc{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new yc(t,this.errorFactory))}}class yc extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function _c(){return new oc}function bc(t=null){return e=>e.lift(new wc(t))}class wc{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new kc(t,this.defaultValue))}}class kc extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Cc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ks((e,n)=>t(e,n,r)):W,pc(1),n?bc(e):mc(()=>new oc))}function Ec(t){return function(e){const n=new Tc(t),r=e.lift(n);return n.caught=r}}class Tc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Sc(t,this.selector,this.caught))}}class Sc extends L{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new x(this,void 0,void 0);this.add(r),M(this,n,void 0,void 0,r)}}}function Ic(t){return e=>0===t?Us():e.lift(new xc(t))}class xc{constructor(t){if(this.total=t,this.total<0)throw new dc}call(t,e){return e.subscribe(new Ac(t,this.total))}}class Ac extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Nc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ks((e,n)=>t(e,n,r)):W,Ic(1),n?bc(e):mc(()=>new oc))}class Pc{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Oc(t,this.predicate,this.thisArg,this.source))}}class Oc extends f{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Dc(t,e){return"function"==typeof e?n=>n.pipe(Dc((n,r)=>q(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))))):e=>e.lift(new Rc(t))}class Rc{constructor(t){this.project=t}call(t,e){return e.subscribe(new Mc(t,this.project))}}class Mc extends L{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new x(this,void 0,void 0);this.destination.add(i),this.innerSubscription=M(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Lc(...t){return hc()(Ns(...t))}function Fc(...t){const e=t[t.length-1];return I(e)?(t.pop(),n=>Lc(t,n,e)):e=>Lc(t,e)}function jc(t,e){return z(t,e,1)}class Uc{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Vc(t,this.callback))}}class Vc extends f{constructor(t,e){super(t),this.add(new h(e))}}let qc=null;function zc(){return qc}class Hc{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Bc extends Hc{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Wc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Gc=3,Kc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$c={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qc=(()=>{if(Et.Node)return Et.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Yc extends Bc{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Yc,qc||(qc=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Wc}contains(t,e){return Qc.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Gc&&$c.hasOwnProperty(e)&&(e=$c[e]))}return Kc[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Jc||(Jc=document.querySelector("base"))?Jc.getAttribute("href"):null;return null==e?null:(n=e,Zc||(Zc=document.createElement("a")),Zc.setAttribute("href",n),"/"===Zc.pathname.charAt(0)?Zc.pathname:"/"+Zc.pathname);var n}resetBaseElement(){Jc=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Zc,Jc=null;function Xc(){return!!window.history.pushState}const th=new Tt("TRANSITION_ID"),eh=[{provide:Vi,useFactory:function(t,e,n){return()=>{n.get(qi).donePromise.then(()=>{const n=zc();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[th,da,Re],multi:!0}];class nh{static init(){var t;t=new nh,El=t}addToWindow(t){Et.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Et.getAllAngularTestabilities=()=>t.getAllTestabilities(),Et.getAllAngularRootElements=()=>t.getAllRootElements(),Et.frameworkStabilizers||(Et.frameworkStabilizers=[]),Et.frameworkStabilizers.push(t=>{const e=Et.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?zc().isShadowRoot(e)?this.findTestabilityInTree(t,zc().getHost(e),!0):this.findTestabilityInTree(t,zc().parentElement(e),!0):null}}function rh(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Et.ng=Et.ng||{})[t]=e)}const ih=(()=>({ApplicationRef:Dl,NgZone:pl}))();function lh(t){return Gl(t)}const oh=new Tt("EventManagerPlugins");class sh{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class uh{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=zc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class ah{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class ch extends ah{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>zc().remove(t))}}const hh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dh=/%COMP%/g,ph="_nghost-%COMP%",fh="_ngcontent-%COMP%";function gh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?gh(t,i,n):(i=i.replace(dh,t),n.push(i))}return n}function mh(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class vh{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new yh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Wt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new wh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Wt.Native:case Wt.ShadowDom:return new kh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=gh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class yh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(hh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=hh[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=hh[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&fn.DashCase?t.style.setProperty(e,n,r&fn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&fn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){bh(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return bh(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,mh(n)):this.eventManager.addEventListener(t,e,mh(n))}}const _h=(()=>"@".charCodeAt(0))();function bh(t,e){if(t.charCodeAt(0)===_h)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class wh extends yh{constructor(t,e,n,r){super(t),this.component=n;const i=gh(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=fh.replace(dh,r+"-"+n.id),this.hostAttr=ph.replace(dh,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class kh extends yh{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Wt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=gh(r.id,r.styles,[]);for(let l=0;l<i.length;l++){const t=document.createElement("style");t.textContent=i[l],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Ch=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Eh=Ch("addEventListener"),Th=Ch("removeEventListener"),Sh={},Ih="FALSE",xh="ANGULAR",Ah="addEventListener",Nh="removeEventListener",Ph="__zone_symbol__propagationStopped",Oh="__zone_symbol__stopImmediatePropagation",Dh=(()=>{const t="undefined"!=typeof Zone&&Zone[Ch("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Rh=function(t){return!!Dh&&Dh.hasOwnProperty(t)},Mh=function(t){const e=Sh[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Ph];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class Lh extends uh{constructor(t,e,n){super(t),this.ngZone=e,n&&ma(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Oh])return;const t=Event.prototype[Oh]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ph]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Eh]||pl.isInAngularZone()&&!Rh(e))t[Ah](e,r,!1);else{let n=Sh[e];n||(n=Sh[e]=Ch(xh+e+Ih));let i=t[n];const l=i&&i.length>0;i||(i=t[n]=[]);const o=Rh(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:o,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:o,handler:r})}l||t[Eh](e,Mh,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[Th];if(!r)return t[Nh].apply(t,[e,n,!1]);let i=Sh[e],l=i&&t[i];if(!l)return t[Nh].apply(t,[e,n,!1]);let o=!1;for(let s=0;s<l.length;s++)if(l[s].handler===n){o=!0,l.splice(s,1);break}o?0===l.length&&r.apply(t,[e,Mh,!1]):t[Nh].apply(t,[e,n,!1])}}const Fh={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},jh=new Tt("HammerGestureConfig"),Uh=new Tt("HammerLoader");class Vh{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class qh extends uh{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!Fh.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),l=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,l),()=>{i.off(e,l),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const zh=["alt","control","meta","shift"],Hh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Bh extends uh{constructor(t){super(t)}supports(t){return null!=Bh.parseEventName(t)}addEventListener(t,e,n){const r=Bh.parseEventName(e),i=Bh.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zc().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=Bh._normalizeKey(e.pop());let i="";if(zh.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const l={};return l.domEventName=n,l.fullKey=i,l}static getEventFullKey(t){let e="",n=zc().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),zh.forEach(r=>{r!=n&&(0,Hh[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(t,e,n){return r=>{Bh.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class Wh{}class Gh extends Wh{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Ee.NONE:return e;case Ee.HTML:return e instanceof $h?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{ke=ke||new re(t);let r=e?String(e):"";n=ke.getInertBodyElement(r);let i=5,l=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=l,l=n.innerHTML,n=ke.getInertBodyElement(r)}while(r!==l);const o=new ye,s=o.sanitizeChildren(Ce(n)||n);return ne()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n){const t=Ce(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Ee.STYLE:return e instanceof Qh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ie);return e&&oe(e[1])===e[1]||t.match(Se)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(ne()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Ee.SCRIPT:if(e instanceof Yh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ee.URL:return e instanceof Jh||e instanceof Zh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),oe(String(e)));case Ee.RESOURCE_URL:if(e instanceof Jh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Kh)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new $h(t)}bypassSecurityTrustStyle(t){return new Qh(t)}bypassSecurityTrustScript(t){return new Yh(t)}bypassSecurityTrustUrl(t){return new Zh(t)}bypassSecurityTrustResourceUrl(t){return new Jh(t)}}class Kh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class $h extends Kh{getTypeName(){return"HTML"}}class Qh extends Kh{getTypeName(){return"Style"}}class Yh extends Kh{getTypeName(){return"Script"}}class Zh extends Kh{getTypeName(){return"URL"}}class Jh extends Kh{getTypeName(){return"ResourceURL"}}const Xh=Al($l,"browser",[{provide:Gi,useValue:pa},{provide:Wi,useValue:function(){Yc.makeCurrent(),nh.init()},multi:!0},{provide:lu,useClass:class extends lu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=zc().getLocation(),this._history=zc().getHistory()}getBaseHrefFromDOM(){return zc().getBaseHref(this._doc)}onPopState(t){zc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){zc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Xc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Xc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[da]},{provide:da,useFactory:function(){return document},deps:[]}]);function td(){return new Xt}class ed{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:ed,providers:[{provide:zi,useValue:t.appId},{provide:th,useExisting:zi},eh]}}}"undefined"!=typeof window&&window;class nd{constructor(t,e){this.id=t,this.url=e}}class rd extends nd{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class id extends nd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ld extends nd{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class od extends nd{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sd extends nd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ud extends nd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ad extends nd{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cd extends nd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hd extends nd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pd{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fd{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class md{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vd{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yd{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _d{}const bd="primary";class wd{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kd(t){return new wd(t)}const Cd="ngNavigationCancelingError";function Ed(t){const e=Error("NavigationCancelingError: "+t);return e[Cd]=!0,e}function Td(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let l=0;l<r.length;l++){const e=r[l],n=t[l];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Sd{constructor(t,e){this.routes=t,this.module=e}}function Id(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];xd(r,Ad(e,r))}}function xd(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==bd)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Id(t.children,e)}function Ad(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Nd(t){const e=t.children&&t.children.map(Nd),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==bd&&(n.component=_d),n}function Pd(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let l=0;l<n.length;l++)if(t[i=n[l]]!==e[i])return!1;return!0}function Od(t){return Array.prototype.concat.apply([],t)}function Dd(t){return t.length>0?t[t.length-1]:null}function Rd(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Md(t){return Je(t)?t:Ze(t)?q(Promise.resolve(t)):Ns(t)}function Ld(t,e,n){return n?function(t,e){return Pd(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Vd(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Vd(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Vd(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),l=i.slice(n.segments.length);return!!Vd(n.segments,t)&&!!n.children[bd]&&e(n.children[bd],r,l)}}(e,n,n.segments)}(t.root,e.root)}class Fd{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kd(this.queryParams)),this._queryParamMap}toString(){return Bd.serialize(this)}}class jd{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Rd(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wd(this)}}class Ud{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kd(this.parameters)),this._parameterMap}toString(){return Zd(this)}}function Vd(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function qd(t,e){let n=[];return Rd(t.children,(t,r)=>{r===bd&&(n=n.concat(e(t,r)))}),Rd(t.children,(t,r)=>{r!==bd&&(n=n.concat(e(t,r)))}),n}class zd{}class Hd{parse(t){const e=new np(t);return new Fd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Wd(e);if(n){const n=e.children[bd]?t(e.children[bd],!1):"",r=[];return Rd(e.children,(e,n)=>{n!==bd&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=qd(e,(n,r)=>r===bd?[t(e.children[bd],!1)]:[`${r}:${t(n,!1)}`]);return`${Wd(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Kd(e)}=${Kd(t)}`).join("&"):`${Kd(e)}=${Kd(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Bd=new Hd;function Wd(t){return t.segments.map(t=>Zd(t)).join("/")}function Gd(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kd(t){return Gd(t).replace(/%3B/gi,";")}function $d(t){return Gd(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(t){return decodeURIComponent(t)}function Yd(t){return Qd(t.replace(/\+/g,"%20"))}function Zd(t){return`${$d(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${$d(t)}=${$d(e[t])}`).join("")}`;var e}const Jd=/^[^\/()?;=#]+/;function Xd(t){const e=t.match(Jd);return e?e[0]:""}const tp=/^[^=?&#]+/,ep=/^[^?&#]+/;class np{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jd([],{}):new jd([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[bd]=new jd(t,e)),n}parseSegment(){const t=Xd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ud(Qd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Xd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Xd(this.remaining);t&&this.capture(n=t)}t[Qd(e)]=Qd(n)}parseQueryParam(t){const e=function(t){const e=t.match(tp);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ep);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=Yd(e),i=Yd(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Xd(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=bd);const l=this.parseChildren();e[i]=1===Object.keys(l).length?l[bd]:new jd([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class rp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ip(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ip(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=lp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return lp(t,this._root).map(t=>t.value)}}function ip(t,e){if(t===e.value)return e;for(const n of e.children){const e=ip(t,n);if(e)return e}return null}function lp(t,e){if(t===e.value)return[e];for(const n of e.children){const r=lp(t,n);if(r.length)return r.unshift(e),r}return[]}class op{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class up extends rp{constructor(t,e){super(t),this.snapshot=e,fp(this,t)}toString(){return this.snapshot.toString()}}function ap(t,e){const n=function(t,e){const n=new dp([],{},{},"",{},bd,e,null,t.root,-1,{});return new pp("",new op(n,[]))}(t,e),r=new lc([new Ud("",{})]),i=new lc({}),l=new lc({}),o=new lc({}),s=new lc(""),u=new cp(r,i,o,s,l,bd,e,n.root);return u.snapshot=n.root,new up(new op(u,[]),n)}class cp{constructor(t,e,n,r,i,l,o,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=l,this.component=o,this._futureSnapshot=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(t=>kd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(t=>kd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hp(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class dp{constructor(t,e,n,r,i,l,o,s,u,a,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=l,this.component=o,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=a,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pp extends rp{constructor(t,e){super(e),this.url=t,fp(this,e)}toString(){return gp(this._root)}}function fp(t,e){e.value._routerState=t,e.children.forEach(e=>fp(t,e))}function gp(t){const e=t.children.length>0?` { ${t.children.map(gp).join(", ")} } `:"";return`${t.value}${e}`}function mp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pd(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pd(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pd(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pd(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function vp(t,e){var n,r;return Pd(t.params,e.params)&&Vd(n=t.url,r=e.url)&&n.every((t,e)=>Pd(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||vp(t.parent,e.parent))}function yp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function _p(t,e,n,r,i){let l={};return r&&Rd(r,(t,e)=>{l[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Fd(n.root===t?e:function t(e,n,r){const i={};return Rd(e.children,(e,l)=>{i[l]=e===n?r:t(e,n,r)}),new jd(e.segments,i)}(n.root,t,e),l,i)}class bp{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&yp(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Dd(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wp{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function kp(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[bd]:`${t}`}function Cp(t,e,n){if(t||(t=new jd([],{})),0===t.segments.length&&t.hasChildren())return Ep(t,e,n);const r=function(t,e,n){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return l;const e=t.segments[i],o=kp(n[r]),s=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&s&&"object"==typeof s&&void 0===s.outlets){if(!xp(o,s,e))return l;r+=2}else{if(!xp(o,{},e))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new jd(t.segments.slice(0,r.pathIndex),{});return e.children[bd]=new jd(t.segments.slice(r.pathIndex),t.children),Ep(e,0,i)}return r.match&&0===i.length?new jd(t.segments,{}):r.match&&!t.hasChildren()?Tp(t,e,n):r.match?Ep(t,0,i):Tp(t,e,n)}function Ep(t,e,n){if(0===n.length)return new jd(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[bd]:t}:void 0===t[0].outlets?{[bd]:t}:t[0].outlets}(n),i={};return Rd(r,(n,r)=>{null!==n&&(i[r]=Cp(t.children[r],e,n))}),Rd(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new jd(t.segments,i)}}function Tp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Sp(n[i].outlets);return new jd(r,t)}if(0===i&&yp(n[0])){r.push(new Ud(t.segments[e].path,n[0])),i++;continue}const l=kp(n[i]),o=i<n.length-1?n[i+1]:null;l&&o&&yp(o)?(r.push(new Ud(l,Ip(o))),i+=2):(r.push(new Ud(l,{})),i++)}return new jd(r,{})}function Sp(t){const e={};return Rd(t,(t,n)=>{null!==t&&(e[n]=Tp(new jd([],{}),0,t))}),e}function Ip(t){const e={};return Rd(t,(t,n)=>e[n]=`${t}`),e}function xp(t,e,n){return t==n.path&&Pd(e,n.parameters)}const Ap=(t,e,n)=>F(r=>(new Np(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Np{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),mp(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=sp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Rd(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=sp(t),i=t.value.component?n.children:e;Rd(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=sp(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new vd(t.value.snapshot))}),t.children.length&&this.forwardEvent(new gd(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(mp(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Pp(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Pp(t){mp(t.value),t.children.forEach(Pp)}function Op(t){return"function"==typeof t}function Dp(t){return t instanceof Fd}class Rp{constructor(t){this.segmentGroup=t||null}}class Mp{constructor(t){this.urlTree=t}}function Lp(t){return new b(e=>e.error(new Rp(t)))}function Fp(t){return new b(e=>e.error(new Mp(t)))}function jp(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Up{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(qt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,bd).pipe(F(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ec(t=>{if(t instanceof Mp)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Rp)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,bd).pipe(F(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ec(t=>{if(t instanceof Rp)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new jd([],{[bd]:t}):t;return new Fd(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(F(t=>new jd([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Ns({});const n=[],r=[],i={};return Rd(t,(t,l)=>{const o=e(l,t).pipe(F(t=>i[l]=t));l===bd?n.push(o):r.push(o)}),Ns.apply(null,n.concat(r)).pipe(hc(),Cc(),F(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,l){return Ns(...n).pipe(F(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,l).pipe(Ec(t=>{if(t instanceof Rp)return Ns(null);throw t}))),hc(),Nc(t=>!!t),Ec((t,n)=>{if(t instanceof oc||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Ns(new jd([],{}));throw new Rp(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,l,o){return Hp(r)!==l?Lp(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,l):Lp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Fp(i):this.lineralizeSegments(n,i).pipe(z(n=>{const i=new jd(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,l){const{matched:o,consumedSegments:s,lastChild:u,positionalParamSegments:a}=Vp(e,r,i);if(!o)return Lp(e);const c=this.applyRedirectCommands(s,r.redirectTo,a);return r.redirectTo.startsWith("/")?Fp(c):this.lineralizeSegments(r,c).pipe(z(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),l,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(F(t=>(n._loadedConfig=t,new jd(r,{})))):Ns(new jd(r,{}));const{matched:i,consumedSegments:l,lastChild:o}=Vp(e,n,r);if(!i)return Lp(e);const s=r.slice(o);return this.getChildConfig(t,n,r).pipe(z(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>zp(t,e,n)&&Hp(n)!==bd)}(t,n,r)?{segmentGroup:qp(new jd(e,function(t,e){const n={};n[bd]=e;for(const r of t)""===r.path&&Hp(r)!==bd&&(n[Hp(r)]=new jd([],{}));return n}(r,new jd(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>zp(t,e,n))}(t,n,r)?{segmentGroup:qp(new jd(t.segments,function(t,e,n,r){const i={};for(const l of n)zp(t,e,l)&&!r[Hp(l)]&&(i[Hp(l)]=new jd([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,l,s,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(F(t=>new jd(l,t))):0===r.length&&0===o.length?Ns(new jd(l,{})):this.expandSegment(n,i,r,o,bd,!0).pipe(F(t=>new jd(l.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Ns(new Sd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ns(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?q(r).pipe(F(r=>{const i=t.get(r);let l;if(function(t){return t&&Op(t.canLoad)}(i))l=i.canLoad(e,n);else{if(!Op(i))throw new Error("Invalid CanLoad guard");l=i(e,n)}return Md(l)})).pipe(hc(),(i=t=>!0===t,t=>t.lift(new Pc(i,void 0,t)))):Ns(!0);var i}(t.injector,e,n).pipe(z(n=>n?this.configLoader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(Ed(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Ns(new Sd([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ns(n);if(r.numberOfChildren>1||!r.children[bd])return jp(t.redirectTo);r=r.children[bd]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Fd(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Rd(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let l={};return Rd(e.children,(e,i)=>{l[i]=this.createSegmentGroup(t,e,n,r)}),new jd(i,l)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Vp(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Td)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function qp(t){if(1===t.numberOfChildren&&t.children[bd]){const e=t.children[bd];return new jd(t.segments.concat(e.segments),e.children)}return t}function zp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Hp(t){return t.outlet||bd}class Bp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wp{constructor(t,e){this.component=t,this.route=e}}function Gp(t,e,n){const r=t._root;return function t(e,n,r,i,l={canDeactivateChecks:[],canActivateChecks:[]}){const o=sp(n);return e.children.forEach(e=>{!function(e,n,r,i,l={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Vd(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vd(t.url,e.url)||!Pd(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vp(t,e)||!Pd(t.queryParams,e.queryParams);case"paramsChange":default:return!vp(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?l.canActivateChecks.push(new Bp(i)):(o.data=s.data,o._resolvedData=s._resolvedData),t(e,n,o.component?u?u.children:null:r,i,l),a&&l.canDeactivateChecks.push(new Wp(u&&u.outlet&&u.outlet.component||null,s))}else s&&$p(n,u,l),l.canActivateChecks.push(new Bp(i)),t(e,null,o.component?u?u.children:null:r,i,l)}(e,o[e.value.outlet],r,i.concat([e.value]),l),delete o[e.value.outlet]}),Rd(o,(t,e)=>$p(t,r.getContext(e),l)),l}(r,e?e._root:null,n,[r.value])}function Kp(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function $p(t,e,n){const r=sp(t),i=t.value;Rd(r,(t,r)=>{$p(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Wp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Qp=Symbol("INITIAL_VALUE");function Yp(){return Dc(t=>(function(...t){let e=null,n=null;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),K(t,n).lift(new uc(e))})(...t.map(t=>t.pipe(Ic(1),Fc(Qp)))).pipe(Ys((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Qp)return t;if(r===Qp&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Dp(r))return r}return t},t)},Qp),Ks(t=>t!==Qp),F(t=>Dp(t)?t:!0===t),Ic(1)))}function Zp(t,e){return null!==t&&e&&e(new md(t)),Ns(!0)}function Jp(t,e){return null!==t&&e&&e(new fd(t)),Ns(!0)}function Xp(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Ns(r.map(r=>cc(()=>{const i=Kp(r,e,n);let l;if(function(t){return t&&Op(t.canActivate)}(i))l=Md(i.canActivate(e,t));else{if(!Op(i))throw new Error("Invalid CanActivate guard");l=Md(i(e,t))}return l.pipe(Nc())}))).pipe(Yp()):Ns(!0)}function tf(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>cc(()=>Ns(e.guards.map(i=>{const l=Kp(i,e.node,n);let o;if(function(t){return t&&Op(t.canActivateChild)}(l))o=Md(l.canActivateChild(r,t));else{if(!Op(l))throw new Error("Invalid CanActivateChild guard");o=Md(l(r,t))}return o.pipe(Nc())})).pipe(Yp())));return Ns(i).pipe(Yp())}class ef{}class nf{constructor(t,e,n,r,i,l){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=l}recognize(){try{const t=of(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,bd),n=new dp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bd,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new op(n,e),i=new pp(this.url,r);return this.inheritParamsAndData(i._root),Ns(i)}catch(t){return new b(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=hp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=qd(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===bd?-1:e.value.outlet===bd?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const l of t)try{return this.processSegmentAgainstRoute(l,e,n,r)}catch(i){if(!(i instanceof ef))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new ef}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new ef;if((t.outlet||bd)!==r)throw new ef;let i,l=[],o=[];if("**"===t.path){const l=n.length>0?Dd(n).parameters:{};i=new dp(n,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,af(t),r,t.component,t,rf(e),lf(e)+n.length,cf(t))}else{const s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ef;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Td)(n,t,e);if(!r)throw new ef;const i={};Rd(r.posParams,(t,e)=>{i[e]=t.path});const l=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:l}}(e,t,n);l=s.consumedSegments,o=n.slice(s.lastChild),i=new dp(l,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,af(t),r,t.component,t,rf(e),lf(e)+l.length,cf(t))}const s=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:a}=of(e,l,o,s,this.relativeLinkResolution);if(0===a.length&&u.hasChildren()){const t=this.processChildren(s,u);return[new op(i,t)]}if(0===s.length&&0===a.length)return[new op(i,[])];const c=this.processSegment(s,u,a,bd);return[new op(i,c)]}}function rf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function lf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function of(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>sf(t,e,n)&&uf(n)!==bd)}(t,n,r)){const i=new jd(e,function(t,e,n,r){const i={};i[bd]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const l of n)if(""===l.path&&uf(l)!==bd){const n=new jd([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[uf(l)]=n}return i}(t,e,r,new jd(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>sf(t,e,n))}(t,n,r)){const l=new jd(t.segments,function(t,e,n,r,i,l){const o={};for(const s of r)if(sf(t,n,s)&&!i[uf(s)]){const n=new jd([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===l?t.segments.length:e.length,o[uf(s)]=n}return Object.assign({},i,o)}(t,e,n,r,t.children,i));return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:n}}const l=new jd(t.segments,t.children);return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:n}}function sf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function uf(t){return t.outlet||bd}function af(t){return t.data||{}}function cf(t){return t.resolve||{}}function hf(t,e,n,r){const i=Kp(t,e,r);return Md(i.resolve?i.resolve(e,n):i(e,n))}function df(t){return function(e){return e.pipe(Dc(e=>{const n=t(e);return n?q(n).pipe(F(()=>e)):q([e])}))}}class pf{}class ff{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const gf=new Tt("ROUTES");class mf{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(F(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Sd(Od(r.injector.get(gf)).map(Nd),r)}))}loadModuleFactory(t){return"string"==typeof t?q(this.loader.load(t)):Md(t()).pipe(z(t=>t instanceof zt?Ns(t):q(this.compiler.compileModuleAsync(t))))}}class vf{}class yf{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function _f(t){throw t}function bf(t,e,n){return e.parse("/")}function wf(t,e){return Ns(null)}class kf{constructor(t,e,n,r,i,l,o,s){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=_f,this.malformedUriErrorHandler=bf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wf,afterPreactivation:wf},this.urlHandlingStrategy=new yf,this.routeReuseStrategy=new ff,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(qt),this.console=i.get($i);const u=i.get(pl);this.isNgZoneEnabled=u instanceof pl,this.resetConfig(s),this.currentUrlTree=new Fd(new jd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mf(l,o,t=>this.triggerEvent(new dd(t)),t=>this.triggerEvent(new pd(t))),this.routerState=ap(this.currentUrlTree,this.rootComponentType),this.transitions=new lc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ks(t=>0!==t.id),F(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Dc(t=>{let n=!1,r=!1;return Ns(t).pipe(ka(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Dc(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ns(t).pipe(Dc(t=>{const n=this.transitions.getValue();return e.next(new rd(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?js:[t]}),Dc(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(Dc(i=>(function(t,e,n,r,i){return new Up(t,e,n,r,i).apply()})(t,e,n,i.extractedUrl,r).pipe(F(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ka(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(l){return l.pipe(z(l=>(function(t,e,n,r,i="emptyOnly",l="legacy"){return new nf(t,e,n,r,i,l).recognize()})(t,e,l.urlAfterRedirects,n(l.urlAfterRedirects),r,i).pipe(F(t=>Object.assign({},l,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),ka(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),ka(t=>{const n=new sd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:l,extras:o}=t,s=new rd(n,this.serializeUrl(r),i,l);e.next(s);const u=ap(r,this.rootComponentType).snapshot;return Ns(Object.assign({},t,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),js}),df(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:l,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!l,replaceUrl:!!o})}),ka(t=>{const e=new ud(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),F(t=>Object.assign({},t,{guards:Gp(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(z(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:o}}=n;return 0===o.length&&0===l.length?Ns(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return q(t).pipe(z(t=>(function(t,e,n,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?Ns(l.map(l=>{const o=Kp(l,e,i);let s;if(function(t){return t&&Op(t.canDeactivate)}(o))s=Md(o.canDeactivate(t,e,n,r));else{if(!Op(o))throw new Error("Invalid CanDeactivate guard");s=Md(o(t,e,n,r))}return s.pipe(Nc())})).pipe(Yp()):Ns(!0)})(t.component,t.route,n,e,r)),Nc(t=>!0!==t,!0))}(o,r,i,t).pipe(z(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return q(e).pipe(jc(e=>q([Jp(e.route.parent,r),Zp(e.route,r),tf(t,e.path,n),Xp(t,e.route,n)]).pipe(hc(),Nc(t=>!0!==t,!0))),Nc(t=>!0!==t,!0))}(r,l,t,e):Ns(n)),F(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),ka(t=>{if(Dp(t.guardsResult)){const e=Ed(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),ka(t=>{const e=new ad(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ks(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ld(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),df(t=>{if(t.guards.canActivateChecks.length)return Ns(t).pipe(ka(t=>{const e=new cd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(z(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?q(i).pipe(jc(n=>(function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Ns({});if(1===i.length){const l=i[0];return hf(t[l],e,n,r).pipe(F(t=>({[l]:t})))}const l={};return q(i).pipe(z(i=>hf(t[i],e,n,r).pipe(F(t=>(l[i]=t,t))))).pipe(Cc(),F(()=>l))}(t._resolve,t,e,r).pipe(F(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,hp(t,n).resolve),null)))})(n.route,r,t,e)),function(t,e){return arguments.length>=2?function(n){return y(Ys(t,e),pc(1),bc(e))(n)}:function(e){return y(Ys((e,n,r)=>t(e,n,r+1)),pc(1))(e)}}((t,e)=>t),F(t=>n)):Ns(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),ka(t=>{const e=new hd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),df(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:l,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!l,replaceUrl:!!o})}),F(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const l=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new op(i,l)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new cp(new lc((i=n.value).url),new lc(i.params),new lc(i.queryParams),new lc(i.fragment),new lc(i.data),i.outlet,i.component,i),l=n.children.map(n=>t(e,n));return new op(r,l)}}var i}(t,e._root,n?n._root:void 0);return new up(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),ka(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Ap(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),ka({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Uc(t))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new ld(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Ec(n=>{if(r=!0,function(t){return t&&t[Cd]}(n)){const r=Dp(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new ld(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new od(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return js}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Id(t),this.config=t.map(Nd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:l,queryParamsHandling:o,preserveFragment:s}=e;ne()&&l&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;if(o)switch(o){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=l?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return _p(e.root,e.root,e,r,i);const l=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new bp(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Rd(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new bp(n,e,r)}(n);if(l.toRoot())return _p(e.root,new jd([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new wp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new wp(n.snapshot._urlSegment,!0,0);const r=yp(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,l=n;for(;l>i;){if(l-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new wp(r,!1,i-l)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(l,e,t),s=o.processChildren?Ep(o.segmentGroup,o.index,l.commands):Cp(o.segmentGroup,o.index,l.commands);return _p(o.segmentGroup,s,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){ne()&&this.isNgZoneEnabled&&!pl.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Dp(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Dp(t))return Ld(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ld(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new id(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let l=null,o=null;const s=new Promise((t,e)=>{l=t,o=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Cf{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){ne()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Tf(this.skipLocationChange),replaceUrl:Tf(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Tf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Tf(this.preserveFragment)})}}class Ef{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof id&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){ne()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Tf(this.skipLocationChange),replaceUrl:Tf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Tf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Tf(this.preserveFragment)})}}function Tf(t){return""===t||!!t}class Sf{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof id&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}class If{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xf,this.attachRef=null}}class xf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new If,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Af{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Fi,this.deactivateEvents=new Fi,this.name=r||bd,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Nf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Nf{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===cp?this.route:t===xf?this.childContexts:this.parent.get(t,e)}}class Pf{}class Of{preload(t,e){return e().pipe(Ec(()=>Ns(null)))}}class Df{preload(t,e){return Ns(null)}}class Rf{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new mf(e,n,e=>t.triggerEvent(new dd(e)),e=>t.triggerEvent(new pd(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ks(t=>t instanceof id),jc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(qt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return q(n).pipe(G(),F(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(z(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Mf{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof id&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new yd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Lf=new Tt("ROUTER_CONFIGURATION"),Ff=new Tt("ROUTER_FORROOT_GUARD"),jf=[au,{provide:zd,useClass:Hd},{provide:kf,useFactory:Wf,deps:[Dl,zd,xf,au,Re,Ml,nl,gf,Lf,[vf,new ut],[pf,new ut]]},xf,{provide:cp,useFactory:Gf,deps:[kf]},{provide:Ml,useClass:Vl},Rf,Df,Of,{provide:Lf,useValue:{enableTracing:!1}}];function Uf(){return new xl("Router",kf)}class Vf{constructor(t,e){}static forRoot(t,e){return{ngModule:Vf,providers:[jf,Bf(t),{provide:Ff,useFactory:Hf,deps:[[kf,new ut,new ct]]},{provide:Lf,useValue:e||{}},{provide:su,useFactory:zf,deps:[lu,[new st(uu),new ut],Lf]},{provide:Mf,useFactory:qf,deps:[kf,va,Lf]},{provide:Pf,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Df},{provide:xl,multi:!0,useFactory:Uf},[Kf,{provide:Vi,multi:!0,useFactory:$f,deps:[Kf]},{provide:Yf,useFactory:Qf,deps:[Kf]},{provide:Ki,multi:!0,useExisting:Yf}]]}}static forChild(t){return{ngModule:Vf,providers:[Bf(t)]}}}function qf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Mf(t,e,n)}function zf(t,e,n={}){return n.useHash?new hu(t,e):new du(t,e)}function Hf(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bf(t){return[{provide:He,multi:!0,useValue:t},{provide:gf,multi:!0,useValue:t}]}function Wf(t,e,n,r,i,l,o,s,u={},a,c){const h=new kf(null,e,n,r,i,l,o,Od(s));if(a&&(h.urlHandlingStrategy=a),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=zc();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Gf(t){return t.routerState.root}class Kf{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(ou,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(kf),r=this.injector.get(Lf);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Ns(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Lf),n=this.injector.get(Rf),r=this.injector.get(Mf),i=this.injector.get(kf),l=this.injector.get(Dl);t===l.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function $f(t){return t.appInitializer.bind(t)}function Qf(t){return t.bootstrapListener.bind(t)}const Yf=new Tt("Router Initializer");var Zf=er({encapsulation:2,styles:[],data:{}});function Jf(t){return wo(0,[(t()(),eo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),hi(1,212992,null,0,Af,[xf,Ln,on,[8,null],Ne],null,null)],(function(t,e){t(e,1,0)}),null)}function Xf(t){return wo(0,[(t()(),eo(0,0,null,null,1,"ng-component",[],null,null,null,Jf,Zf)),hi(1,49152,null,0,_d,[],null,null)],null,null)}var tg=qr("ng-component",_d,Xf,{},{},[]);let eg=class{constructor(t,e,n,r){const i=ja(new Fa(r),n);this.auth=r.runOutsideAngular(()=>$a(t,r,e).auth()),this.authState=new b(t=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(i),this.user=new b(t=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(i),this.idToken=this.user.pipe(Dc(t=>t?q(t.getIdToken()):Ns(null))),this.idTokenResult=this.user.pipe(Dc(t=>t?q(t.getIdTokenResult()):Ns(null)))}},ng=(()=>{class t{constructor(t,e,n){this.afAuth=t,this.afs=e,this.router=n,this.user=this.afAuth.authState.pipe(Dc(t=>t?this.afs.doc(`users/${t.uid}`).valueChanges():Ns(null)),ka(t=>localStorage.setItem("user",JSON.stringify(t))),Fc(JSON.parse(localStorage.getItem("user"))))}googleLogin(){const t=new Va.auth.GoogleAuthProvider;return this.oAuthLogin(t)}oAuthLogin(t){return this.afAuth.auth.signInWithPopup(t).then(t=>{this.updateUserData(t.user)})}updateUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,role:t.role,settings:t.settings},{merge:!0})}signOut(){this.afAuth.auth.signOut().then(()=>{this.router.navigate(["/"])})}}return t.ngInjectableDef=pt({factory:function(){return new t(jt(eg),jt(nc),jt(kf))},token:t,providedIn:"root"}),t})(),rg=(()=>{class t{constructor(t){this.afs=t}get(t,e,n){return e&&n?this.afs.collection("users").doc(n).collection("Decks").doc(e).collection("Cards").doc(t):this.afs.collection("Cards").doc(t)}add(t,e,n){t.createdAt=new Date,t.updatedAt=new Date,n?this.afs.collection("users").doc(n.uid).collection("Decks").doc(e.uid).collection("Cards").add(Object.assign({},t)):this.afs.collection("Cards").add(Object.assign({},t))}update(t,e,n){t.updatedAt=new Date,n&&this.afs.collection("users").doc(n).collection("Decks").doc(e).collection("Cards").doc(t.uid).set(Object.assign({},t),{merge:!0}),this.afs.collection("Cards").doc(t.uid).set(Object.assign({},t),{merge:!0})}delete(t,e,n){n?this.afs.collection("users").doc(n).collection("Decks").doc(e).collection("Cards").doc(t).delete():this.afs.collection("Cards").doc(t).delete()}loadAll(){return this.afs.collection("Cards",t=>t.orderBy("createdAt","desc"))}loadForDeck(t,e){return this.afs.firestore.collection("Cards").orderBy("createdAt").where("decks","array-contains",{name:t,uid:e})}loadForDeckLegacy(t){return this.afs.firestore.collection("Cards").orderBy("createdAt").where("decks","array-contains",t)}}return t.ngInjectableDef=pt({factory:function(){return new t(jt(nc))},token:t,providedIn:"root"}),t})();class ig{constructor(){this.totalHits=0,this.totalMisses=0}shuffle(t){let e,n,r=t.length;for(;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t}draw(t,e){const n=[];for(let r=0;r<e;r++)t[r]&&n.push(t[r]);return n}getCardsContaining(t,e,n){const r=[];let i=n||[];t.split("").forEach(t=>{const e=i.find(e=>e===t);r.push(e)}),i=this.shuffle(i);for(let l=0;l<e;l++)r.push(i[l]);return this.shuffle(r)}createCharactersetFromCard(t){let e="";return t.forEach(t=>{e+=t.japanese}),e.split("")}resetStatistic(){this.totalHits=0,this.totalMisses=0}setPushSubscription(t){this.pushSubscription=t}}let lg=(()=>{class t extends ig{constructor(t,e){super(),this.afs=t,this.cardService=e}get(t){return this.afs.collection("Decks").doc(t)}findByName(t){return this.afs.collection("Decks",e=>e.orderBy("name").where("name",">=",t).where("name","<=",t+"\uf8ff")).valueChanges({idField:"uid"})}getDeckForUser(t,e){return this.afs.collection("users").doc(e).collection("Decks").doc(t)}getCardsForDeck(t,e){return this.afs.collection("users").doc(e).collection("Decks").doc(t).collection("Cards")}getAllDecksForUser(t){return this.afs.collection("users").doc(t).collection("Decks")}publishDeck(t){return this.afs.collection("Decks").add(t)}copyDeckForUser(t,e){return this.afs.collection("users").doc(e).collection("Decks").add(t)}copyCardsIntoDeck(t,e,n){}add(t,e){return t.createdAt=new Date,t.updatedAt=new Date,e?this.afs.collection("users").doc(e).collection("Decks").add(t):this.afs.collection("Decks").add(t)}update(t,e,n){return e.updatedAt=new Date,n?this.afs.collection("users").doc(n).collection("Decks").doc(t).set(e,{merge:!0}):this.afs.collection("Decks").doc(t).set(e,{merge:!0})}delete(t,e){e?this.afs.collection("users").doc(e).collection("Decks").doc(t).delete():this.afs.collection("Decks").doc(t).delete()}loadAll(){return this.afs.collection("Decks",t=>t.orderBy("createdAt","desc"))}}return t.ngInjectableDef=pt({factory:function(){return new t(jt(nc),jt(rg))},token:t,providedIn:"root"}),t})();class og{constructor(t,e){this.auth=t,this.deckService=e,this.decks=[]}ngOnInit(){this.auth.user.subscribe(t=>{t&&this.deckService.getAllDecksForUser(t.uid).snapshotChanges().subscribe(t=>{this.decks=t.map(t=>{const e=t.payload.doc.data();return e.uid=t.payload.doc.id,e})})})}}var sg=er({encapsulation:0,styles:[[".welcome[_ngcontent-%COMP%]{font-family:arial}.welcome[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;font-size:20px;padding:40px;margin:0}.choice[_ngcontent-%COMP%]{text-align:center;width:100%;color:#fff;display:inline-block;position:absolute;bottom:10px;font-size:12px}.grid-content[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{position:absolute;top:10px;color:#fff;width:100%;text-align:center;font-size:25px;margin:5px 0;padding:0}.grid-content[disabled][_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .grid-content[disabled][_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:gray}.grid-content[_ngcontent-%COMP%]{width:100px;height:100px;background-color:#002828;border-radius:4px;margin:5px;text-decoration:none;position:relative;transition:.3s}.grid-content[disabled][_ngcontent-%COMP%]{background-color:#003c3c}@media (hover:hover){.grid-content[_ngcontent-%COMP%]:hover{background-color:#003737;box-shadow:inset 0 0 10px #000}}"]],data:{}});function ug(t){return wo(0,[(t()(),eo(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function ag(t){return wo(0,[(t()(),eo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Was m\xf6chtest du heute trainieren?"]))],null,null)}function cg(t){return wo(0,[(t()(),eo(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(2,null,["Willkommen zur\xfcck, ",". Was m\xf6chtest du heute trainieren?"]))],null,(function(t,e){t(e,2,0,e.context.ngIf.displayName)}))}function hg(t){return wo(0,[(t()(),to(16777216,null,null,2,null,cg)),hi(1,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),di(131072,sa,[Ne]),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,Jn(e,1,0,Jr(e,2).transform(n.auth.user)))}),null)}function dg(t){return wo(0,[(t()(),eo(0,0,null,null,6,"a",[["class","grid-content"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(1,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(2,5),(t()(),eo(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),eo(4,0,null,null,0,"i",[["class","feather icon-copy"]],null,null,null,null,null)),(t()(),eo(5,0,null,null,1,"span",[["class","choice"]],null,null,null,null,null)),(t()(),yo(6,null,["",""]))],(function(t,e){var n=t(e,2,0,"/","user","decks",e.context.$implicit.uid,"list");t(e,1,0,n)}),(function(t,e){t(e,0,0,Jr(e,1).target,Jr(e,1).href),t(e,6,0,e.context.$implicit.name)}))}function pg(t){return wo(0,[(t()(),eo(0,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,dg)),hi(2,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.decks)}),null)}function fg(t){return wo(0,[(t()(),eo(0,0,null,null,46,"div",[["class","content"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,45,"div",[["class","welcome"]],null,null,null,null,null)),(t()(),to(16777216,null,null,2,null,ug)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),di(131072,sa,[Ne]),(t()(),to(0,[["guest",2]],null,0,null,ag)),(t()(),to(0,[["authenticated",2]],null,0,null,hg)),(t()(),eo(7,0,null,null,39,"div",[["class","grid"]],null,null,null,null,null)),(t()(),eo(8,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,pg)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(11,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(t()(),eo(12,0,null,null,34,"div",[["class","col"]],null,null,null,null,null)),(t()(),eo(13,0,null,null,6,"a",[["class","grid-content"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(14,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(15,1),(t()(),eo(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),eo(17,0,null,null,0,"i",[["class","feather icon-user"]],null,null,null,null,null)),(t()(),eo(18,0,null,null,1,"span",[["class","choice"]],null,null,null,null,null)),(t()(),yo(-1,null,["Loginbereich"])),(t()(),eo(20,0,null,null,5,"a",[["class","grid-content"],["routerLink","/decks"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(21,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),eo(22,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),eo(23,0,null,null,0,"i",[["class","feather icon-copy"]],null,null,null,null,null)),(t()(),eo(24,0,null,null,1,"span",[["class","choice"]],null,null,null,null,null)),(t()(),yo(-1,null,["Decks zum Kurs"])),(t()(),eo(26,0,null,null,8,"a",[["class","grid-content"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,27).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(27,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),mo(28,{modal:0}),mo(29,{outlets:0}),go(30,2),(t()(),eo(31,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),eo(32,0,null,null,0,"i",[["class","feather icon-feather"]],null,null,null,null,null)),(t()(),eo(33,0,null,null,1,"span",[["class","choice"]],null,null,null,null,null)),(t()(),yo(-1,null,["W\xf6rterbuch"])),(t()(),eo(35,0,null,null,5,"a",[["class","grid-content"],["disabled",""],["routerLink","/about"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,36).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(36,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),eo(37,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u272a"])),(t()(),eo(39,0,null,null,1,"span",[["class","choice"]],null,null,null,null,null)),(t()(),yo(-1,null,["Statistik"])),(t()(),eo(41,0,null,null,5,"a",[["class","grid-content"],["routerLink","/about"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,42).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(42,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),eo(43,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u203b"])),(t()(),eo(45,0,null,null,1,"span",[["class","choice"]],null,null,null,null,null)),(t()(),yo(-1,null,["Handbuch"]))],(function(t,e){var n=e.component;t(e,3,0,Jn(e,3,0,Jr(e,4).transform(n.auth.user)),Jr(e,6),Jr(e,5)),t(e,10,0,n.decks.length>0);var r=t(e,15,0,"/user");t(e,14,0,r),t(e,21,0,"/decks");var i=t(e,30,0,"",t(e,29,0,t(e,28,0,"dictionary")));t(e,27,0,i),t(e,36,0,"/about"),t(e,42,0,"/about")}),(function(t,e){t(e,13,0,Jr(e,14).target,Jr(e,14).href),t(e,20,0,Jr(e,21).target,Jr(e,21).href),t(e,26,0,Jr(e,27).target,Jr(e,27).href),t(e,35,0,Jr(e,36).target,Jr(e,36).href),t(e,41,0,Jr(e,42).target,Jr(e,42).href)}))}function gg(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-welcome",[],null,null,null,fg,sg)),hi(1,114688,null,0,og,[ng,lg],null,null)],(function(t,e){t(e,1,0)}),null)}var mg=qr("app-welcome",og,gg,{},{},[]);function vg(t,e){return new b(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let l=0,o=0;for(let s=0;s<r;s++){const u=q(t[s]);let a=!1;n.add(u.subscribe({next:t=>{a||(a=!0,o++),i[s]=t},error:t=>n.error(t),complete:()=>{++l!==r&&a||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const yg=new Tt("NgValueAccessor");class _g{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}const bg=new Tt("CompositionEventMode");class wg{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=zc()?zc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class kg{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cg extends kg{get formDirective(){return null}get path(){return null}}function Eg(){throw new Error("unimplemented")}class Tg extends kg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Eg()}get asyncValidator(){return Eg()}}class Sg{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Ig extends Sg{constructor(t){super(t)}}class xg extends Sg{constructor(t){super(t)}}function Ag(t){return null==t||0===t.length}const Ng=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pg{static min(t){return e=>{if(Ag(e.value)||Ag(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ag(e.value)||Ag(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ag(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ag(t.value)?null:Ng.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Ag(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Pg.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ag(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Og);return 0==e.length?null:function(t){return Rg(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Og);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return vg(e,null);if(a(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return vg(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return vg(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(F(t=>e(...t)))}return vg(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(Dg)).pipe(F(Rg))}}}function Og(t){return null!=t}function Dg(t){const e=Ze(t)?q(t):t;if(!Je(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Rg(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Mg(t){return t.validate?e=>t.validate(e):t}function Lg(t){return t.validate?e=>t.validate(e):t}class Fg{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}class jg{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Tg),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}const Ug={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Vg{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Ug.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Ug.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Ug.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Ug.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Ug.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Ug.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function qg(t,e){return[...e.path,t]}function zg(t,e){t||Gg(e,"Cannot find control with"),e.valueAccessor||Gg(e,"No value accessor for form control with"),t.validator=Pg.compose([t.validator,e.validator]),t.asyncValidator=Pg.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Hg(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Hg(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Hg(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Bg(t,e){null==t&&Gg(e,"Cannot find control with"),t.validator=Pg.compose([t.validator,e.validator]),t.asyncValidator=Pg.composeAsync([t.asyncValidator,e.asyncValidator])}function Wg(t){return Gg(t,"There is no FormControl instance attached to form control element with")}function Gg(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Kg(t){return null!=t?Pg.compose(t.map(Mg)):null}function $g(t){return null!=t?Pg.composeAsync(t.map(Lg)):null}function Qg(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Ge(e,n.currentValue)}const Yg=[_g,class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ge}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ge}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},jg];function Zg(t,e){if(!e)return null;Array.isArray(e)||Gg(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===wg?n=e:function(t){return Yg.some(e=>t.constructor===e)}(e)?(r&&Gg(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Gg(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Gg(t,"No valid value accessor for form control with"),null)}function Jg(t,e,n,r){ne()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(Vg.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}const Xg="VALID",tm="INVALID",em="PENDING",nm="DISABLED";function rm(t){const e=lm(t)?t.validators:t;return Array.isArray(e)?Kg(e):e||null}function im(t,e){const n=lm(e)?e.asyncValidators:t;return Array.isArray(n)?$g(n):n||null}function lm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class om{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Xg}get invalid(){return this.status===tm}get pending(){return this.status==em}get disabled(){return this.status===nm}get enabled(){return this.status!==nm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=rm(t)}setAsyncValidators(t){this.asyncValidator=im(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=em,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=nm,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Xg,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Xg&&this.status!==em||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nm:Xg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=em;const e=Dg(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof um?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof am&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Fi,this.statusChanges=new Fi}_calculateStatus(){return this._allControlsDisabled()?nm:this.errors?tm:this._anyControlsHaveStatus(em)?em:this._anyControlsHaveStatus(tm)?tm:Xg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class sm extends om{constructor(t=null,e,n){super(rm(e),im(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class um extends om{constructor(t,e,n){super(rm(e),im(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof sm?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class am extends om{constructor(t,e,n){super(rm(e),im(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof sm?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}class cm extends Cg{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return qg(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Kg(this._validators)}get asyncValidator(){return $g(this._asyncValidators)}_checkParentType(){}}class hm{}const dm=new Tt("NgModelWithFormControlWarning");let pm=(()=>{class t extends Tg{constructor(t,e,n,r){super(),this._ngModelWarningConfig=r,this.update=new Fi,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=Zg(this,n)}set isDisabled(t){Vg.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(zg(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Qg(e,this.viewModel)&&(Jg("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return Kg(this._rawValidators)}get asyncValidator(){return $g(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t})();class fm extends Cg{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Fi}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return zg(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Bg(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Bg(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Wg(e)),e.valueAccessor.registerOnTouched(()=>Wg(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&zg(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Kg(this._validators);this.form.validator=Pg.compose([this.form.validator,t]);const e=$g(this._asyncValidators);this.form.asyncValidator=Pg.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Vg.missingFormException()}}class gm extends cm{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){vm(this._parent)&&Vg.groupParentException()}}class mm extends Cg{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return qg(this.name,this._parent)}get validator(){return Kg(this._validators)}get asyncValidator(){return $g(this._asyncValidators)}_checkParentType(){vm(this._parent)&&Vg.arrayParentException()}}function vm(t){return!(t instanceof gm||t instanceof fm||t instanceof mm)}let ym=(()=>{class t extends Tg{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new Fi,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Zg(this,r)}set isDisabled(t){Vg.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),Qg(e,this.viewModel)&&(Jg("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return qg(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Kg(this._rawValidators)}get asyncValidator(){return $g(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof gm)&&this._parent instanceof cm?Vg.ngModelGroupException():this._parent instanceof gm||this._parent instanceof fm||this._parent instanceof mm||Vg.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class _m{}class bm{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,l=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,l=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new um(n,{asyncValidators:i,updateOn:l,validators:r})}control(t,e,n){return new sm(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new am(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof sm||t instanceof um||t instanceof am?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class wm{static withConfig(t){return{ngModule:wm,providers:[{provide:dm,useValue:t.warnOnNgModelWithFormControl}]}}}class km{constructor(){this.open=!1}ngOnInit(){}ngAfterViewInit(){this.content.nativeElement.style.top="-"+this.content.nativeElement.getBoundingClientRect().height+"px"}toggle(){this.open=!this.open,this.teaser.nativeElement.classList.remove("noanimate"),this.content.nativeElement.classList.remove("noanimate"),this.open?(this.content.nativeElement.style.top="0",this.teaser.nativeElement.style.top=this.content.nativeElement.getBoundingClientRect().height+"px"):(this.teaser.nativeElement.style.top="0",this.content.nativeElement.style.top="-"+this.content.nativeElement.getBoundingClientRect().height+"px"),setTimeout(()=>{this.teaser.nativeElement.classList.add("noanimate"),this.content.nativeElement.classList.add("noanimate")},300)}positionModal(){setTimeout(()=>{this.open?this.teaser.nativeElement.style.top=this.content.nativeElement.getBoundingClientRect().height+"px":this.content.nativeElement.style.top="-"+this.content.nativeElement.getBoundingClientRect().height+"px"},1)}onResize(){this.positionModal()}}var Cm=er({encapsulation:0,styles:[[".modal[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}.modal-content-inner[_ngcontent-%COMP%]{padding:15px}@media screen and (min-width:500px){.modal-content-inner[_ngcontent-%COMP%]{padding:40px}}.modal-teaser[_ngcontent-%COMP%]{background-color:rgba(0,40,40,.97);color:#fff;display:inline-flex;position:fixed;padding:4px;text-align:center;border-bottom-left-radius:4px;border-bottom-right-radius:4px;top:0;right:40px;transition:all .3s ease;box-shadow:4px 4px 16px 0 rgba(0,0,0,.2)}@media (hover:hover){.closed-teaser[_ngcontent-%COMP%]:hover{padding-top:6px}}.modal-content[_ngcontent-%COMP%]{right:0;left:0;margin-left:40px;margin-right:40px;position:fixed;background-color:rgba(0,40,40,.97);color:#fff;min-height:40px;max-height:90%;overflow:auto;border-bottom-left-radius:4px;transition:all .3s ease}.modal-icon[_ngcontent-%COMP%]{padding-left:2px;transition:all .3s ease}.twist[_ngcontent-%COMP%]{transform:rotateZ(45deg)}.noanimate[_ngcontent-%COMP%]{transition:none!important}"]],data:{}});function Em(t){return wo(0,[oo(402653184,1,{content:0}),oo(402653184,2,{teaser:0}),(t()(),eo(2,0,null,null,7,"div",[["class","modal"]],null,null,null,null,null)),(t()(),eo(3,0,[[1,0],["content",1]],null,2,"div",[["class","modal-content noanimate"]],[[2,"modal-content-open",null]],null,null,null,null)),(t()(),eo(4,0,null,null,1,"div",[["class","modal-content-inner"]],null,null,null,null,null)),ho(null,0),(t()(),eo(6,0,[[2,0],["teaser",1]],null,3,"div",[["class","modal-teaser noanimate no-print"]],[[2,"modal-teaser-open",null],[2,"closed-teaser",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggle()&&r),r}),null,null)),ho(null,1),(t()(),eo(8,0,null,null,1,"span",[["class","modal-icon"]],[[2,"twist",null]],null,null,null,null)),(t()(),yo(-1,null,["\xd7"]))],null,(function(t,e){var n=e.component;t(e,3,0,n.open),t(e,6,0,n.open,!n.open),t(e,8,0,!n.open)}))}let Tm=(()=>{class t extends ig{constructor(){super(...arguments),this.syllables={a:[{hits:0,misses:0,german:"a",hiragana:"\u3042",katakana:"\u30a2",uid:1},{hits:0,misses:0,german:"i",hiragana:"\u3044",katakana:"\u30a4",uid:2},{hits:0,misses:0,german:"u",hiragana:"\u3046",katakana:"\u30a6",uid:3},{hits:0,misses:0,german:"e",hiragana:"\u3048",katakana:"\u30a8",uid:4},{hits:0,misses:0,german:"o",hiragana:"\u304a",katakana:"\u30aa",uid:5}],k:[{hits:0,misses:0,german:"ka",hiragana:"\u304b",katakana:"\u30ab",uid:6},{hits:0,misses:0,german:"ki",hiragana:"\u304d",katakana:"\u30ad",uid:7},{hits:0,misses:0,german:"ku",hiragana:"\u304f",katakana:"\u30af",uid:8},{hits:0,misses:0,german:"ke",hiragana:"\u3051",katakana:"\u30b1",uid:9},{hits:0,misses:0,german:"ko",hiragana:"\u3053",katakana:"\u30b3",uid:10}],s:[{hits:0,misses:0,german:"sa",hiragana:"\u3055",katakana:"\u30b5",uid:11},{hits:0,misses:0,german:"shi",hiragana:"\u3057",katakana:"\u30b7",uid:12},{hits:0,misses:0,german:"su",hiragana:"\u3059",katakana:"\u30b9",uid:13},{hits:0,misses:0,german:"se",hiragana:"\u305b",katakana:"\u30bb",uid:14},{hits:0,misses:0,german:"so",hiragana:"\u305d",katakana:"\u30bd",uid:15}],t:[{hits:0,misses:0,german:"ta",hiragana:"\u305f",katakana:"\u30bf",uid:16},{hits:0,misses:0,german:"chi",hiragana:"\u3061",katakana:"\u30c1",uid:17},{hits:0,misses:0,german:"tsu",hiragana:"\u3064",katakana:"\u30c4",uid:18},{hits:0,misses:0,german:"te",hiragana:"\u3066",katakana:"\u30c6",uid:19},{hits:0,misses:0,german:"to",hiragana:"\u3068",katakana:"\u30c8",uid:20}],na:[{hits:0,misses:0,german:"na",hiragana:"\u306a",katakana:"\u30ca",uid:21},{hits:0,misses:0,german:"ni",hiragana:"\u306b",katakana:"\u30cb",uid:22},{hits:0,misses:0,german:"nu",hiragana:"\u306c",katakana:"\u30cc",uid:23},{hits:0,misses:0,german:"ne",hiragana:"\u306d",katakana:"\u30cd",uid:24},{hits:0,misses:0,german:"no",hiragana:"\u306e",katakana:"\u30ce",uid:25}],h:[{hits:0,misses:0,german:"ha",hiragana:"\u306f",katakana:"\u30cf",uid:26},{hits:0,misses:0,german:"hi",hiragana:"\u3072",katakana:"\u30d2",uid:27},{hits:0,misses:0,german:"fu",hiragana:"\u3075",katakana:"\u30d5",uid:28},{hits:0,misses:0,german:"he",hiragana:"\u3078",katakana:"\u30d8",uid:29},{hits:0,misses:0,german:"ho",hiragana:"\u307b",katakana:"\u30db",uid:30}],m:[{hits:0,misses:0,german:"ma",hiragana:"\u307e",katakana:"\u30de",uid:31},{hits:0,misses:0,german:"mi",hiragana:"\u307f",katakana:"\u30df",uid:32},{hits:0,misses:0,german:"mu",hiragana:"\u3080",katakana:"\u30e0",uid:33},{hits:0,misses:0,german:"me",hiragana:"\u3081",katakana:"\u30e1",uid:34},{hits:0,misses:0,german:"mo",hiragana:"\u3082",katakana:"\u30e2",uid:35}],y:[{hits:0,misses:0,german:"ya",hiragana:"\u3084",katakana:"\u30e4",uid:36},{hits:0,misses:0,german:"yu",hiragana:"\u3086",katakana:"\u30e6",uid:37},{hits:0,misses:0,german:"yo",hiragana:"\u3088",katakana:"\u30e8",uid:38}],r:[{hits:0,misses:0,german:"ra",hiragana:"\u3089",katakana:"\u30e9",uid:39},{hits:0,misses:0,german:"ri",hiragana:"\u308a",katakana:"\u30ea",uid:40},{hits:0,misses:0,german:"ru",hiragana:"\u308b",katakana:"\u30eb",uid:41},{hits:0,misses:0,german:"re",hiragana:"\u308c",katakana:"\u30ec",uid:42},{hits:0,misses:0,german:"ro",hiragana:"\u308d",katakana:"\u30ed",uid:43}],w:[{hits:0,misses:0,german:"wa",hiragana:"\u308f",katakana:"\u30ef",uid:44},{hits:0,misses:0,german:"wo",hiragana:"\u3092",katakana:"\u30f2",uid:45}],n:[{hits:0,misses:0,german:"n",hiragana:"\u3093",katakana:"\u30f3",uid:46}],dakuten_h:[{hits:0,misses:0,german:"ba",hiragana:"\u3070",katakana:"\u30d0",uid:47},{hits:0,misses:0,german:"bi",hiragana:"\u3073",katakana:"\u30d3",uid:48},{hits:0,misses:0,german:"bu",hiragana:"\u3076",katakana:"\u30d6",uid:49},{hits:0,misses:0,german:"be",hiragana:"\u3079",katakana:"\u30d9",uid:50},{hits:0,misses:0,german:"bo",hiragana:"\u307c",katakana:"\u30dc",uid:51}],dakuten_k:[{hits:0,misses:0,german:"ga",hiragana:"\u304c",katakana:"\u30ac",uid:52},{hits:0,misses:0,german:"gi",hiragana:"\u304e",katakana:"\u30ae",uid:53},{hits:0,misses:0,german:"gu",hiragana:"\u3050",katakana:"\u30b0",uid:54},{hits:0,misses:0,german:"ge",hiragana:"\u3052",katakana:"\u30b2",uid:55},{hits:0,misses:0,german:"go",hiragana:"\u3054",katakana:"\u30b4",uid:56}],dakuten_t:[{hits:0,misses:0,german:"da",hiragana:"\u3060",katakana:"\u30c0",uid:57},{hits:0,misses:0,german:"ji",hiragana:"\u3062",katakana:"\u30c2",uid:58},{hits:0,misses:0,german:"zu",hiragana:"\u3065",katakana:"\u30c5",uid:59},{hits:0,misses:0,german:"de",hiragana:"\u3067",katakana:"\u30c7",uid:60},{hits:0,misses:0,german:"do",hiragana:"\u3069",katakana:"\u30c9",uid:61}],dakuten_s:[{hits:0,misses:0,german:"za",hiragana:"\u3056",katakana:"\u30b6",uid:62},{hits:0,misses:0,german:"ji",hiragana:"\u3058",katakana:"\u30b8",uid:63},{hits:0,misses:0,german:"zu",hiragana:"\u305a",katakana:"\u30ba",uid:64},{hits:0,misses:0,german:"ze",hiragana:"\u305c",katakana:"\u30bc",uid:65},{hits:0,misses:0,german:"zo",hiragana:"\u305e",katakana:"\u30be",uid:66}],handakuten_h:[{hits:0,misses:0,german:"pa",hiragana:"\u3071",katakana:"\u30d1",uid:67},{hits:0,misses:0,german:"pi",hiragana:"\u3074",katakana:"\u30d4",uid:68},{hits:0,misses:0,german:"pu",hiragana:"\u3077",katakana:"\u30d7",uid:69},{hits:0,misses:0,german:"pe",hiragana:"\u307a",katakana:"\u30da",uid:70},{hits:0,misses:0,german:"po",hiragana:"\u307d",katakana:"\u30dd",uid:71}],small_tsu:[{hits:0,misses:0,german:"tsu",hiragana:"\u3063",katakana:"\u30c3",uid:72}],small_ya_yu_yo:[{hits:0,misses:0,german:"ya",hiragana:"\u3083",katakana:"\u30e3",uid:73},{hits:0,misses:0,german:"yu",hiragana:"\u3085",katakana:"\u30e5",uid:74},{hits:0,misses:0,german:"yo",hiragana:"\u3087",katakana:"\u30e7",uid:75}],small_aeio:[{hits:0,misses:0,german:"a",hiragana:"\u30a1",katakana:"\u30a1",uid:76},{hits:0,misses:0,german:"i",hiragana:"\u30a3",katakana:"\u30a3",uid:77},{hits:0,misses:0,german:"e",hiragana:"\u30a7",katakana:"\u30a7",uid:78},{hits:0,misses:0,german:"o",hiragana:"\u30a9",katakana:"\u30a9",uid:79}],choonpu:[{hits:0,misses:0,german:"\u30fc",hiragana:"\u30fc",katakana:"\u30fc",uid:80}]}}getAll(){return this.getForRows(["a","k","s","t","na","h","m","y","r","w","n","dakuten_h","dakuten_k","dakuten_t","dakuten_s","handakuten_h","small_tsu","small_ya_yu_yo","small_aeio","choonpu"])}getForRows(t){let e=[];return t.forEach(t=>{e=e.concat(this.syllables[t])}),e}getCardsContaining(t,e,n){const r=[];let i=n||this.getAll();t.split("").forEach(t=>{const e=i.find(e=>e===t);r.push(e)}),i=this.shuffle(i);for(let l=0;l<e;l++)r.push(i[l]);return this.shuffle(r)}createCharactersetFromCard(t){let e="";return t.forEach(t=>{e+=t.japanese}),e.split("")}createCharsetFromFlashCards(t,e){let n="";return t.forEach(t=>{n+=t[e]}),n.split("")}}return t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Sm{constructor(t){this.syllablesService=t,this.showSubmenu=!1,this.numberAnswers=3,this.filterForm=new um({row_a:new sm(""),row_k:new sm(""),row_s:new sm(""),row_t:new sm(""),row_na:new sm(""),row_h:new sm(""),row_m:new sm(""),row_y:new sm(""),row_r:new sm(""),row_w:new sm(""),row_n:new sm("")}),this.settingsForm=new um({font:new sm("serif")}),this.hiragana=t.getForRows(["a","k","s","t","na","h","m","y","r","w","n","dakuten_h","dakuten_k","dakuten_t","dakuten_s","handakuten_h"]),this.questionMode="hiragana",this.answerMode="german",this.displayError=!1,this.layout()}get font(){return this.settingsForm.get("font").value}get scoredHiragana(){return this.hiragana.sort((t,e)=>t.hits-t.misses>e.hits-e.misses?-1:t.hits-t.misses<e.hits-e.misses?1:0)}ngOnInit(){this.formSub=this.filterForm.valueChanges.subscribe(()=>{this.setActiveRows()})}reset(){this.syllablesService.resetStatistic(),this.displayError=!1,this.layout()}setMode(t,e){this.questionMode=t,this.answerMode=e}layout(){do{this.syllablesService.shuffle(this.hiragana)}while(this.showCard==this.hiragana[0]&&this.hiragana.length>1);this.showCard=this.hiragana[0],this.answers=this.getAnswersFor(this.showCard)}continue(){this.displayError=!1}answerSelect(t,e){t.uid==e.uid?(0==this.displayError&&(this.syllablesService.totalHits++,t.hits++),this.displayError=!1,this.layout()):0==this.displayError&&(t.misses++,this.syllablesService.totalMisses++,this.displayError=!0)}getAnswersFor(t){let e=this.numberAnswers;this.hiragana.length<this.numberAnswers&&(e=this.hiragana.length),this.syllablesService.shuffle(this.hiragana);const n=this.syllablesService.draw(this.hiragana.filter(e=>[58,59,63,64].includes(t.uid)?e.uid!==t.uid&&58!==e.uid&&59!==e.uid&&63!==e.uid&&64!==e.uid:e.uid!==t.uid),e);return n.push(t),this.syllablesService.shuffle(n)}updateNumberAnswers(t){this.numberAnswers=t,this.layout()}setActiveRows(){const t=[];this.filterForm.get("row_a").value&&t.push("a"),this.filterForm.get("row_k").value&&t.push("k"),this.filterForm.get("row_s").value&&t.push("s"),this.filterForm.get("row_t").value&&t.push("t"),this.filterForm.get("row_na").value&&t.push("na"),this.filterForm.get("row_h").value&&t.push("h"),this.filterForm.get("row_m").value&&t.push("m"),this.filterForm.get("row_y").value&&t.push("y"),this.filterForm.get("row_r").value&&t.push("r"),this.filterForm.get("row_w").value&&t.push("w"),this.filterForm.get("row_n").value&&t.push("n"),this.hiragana=t.length>0?this.syllablesService.getForRows(t):this.syllablesService.getAll(),this.layout()}}var Im=er({encapsulation:0,styles:[[".quiz[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.error[_ngcontent-%COMP%]{color:red!important}.card[_ngcontent-%COMP%]{width:100%;text-align:center}@media screen and (max-width:799px){.card[_ngcontent-%COMP%]{font-size:24vh}}@media screen and (min-width:800px){.card[_ngcontent-%COMP%]{font-size:175px}}.answers[_ngcontent-%COMP%]{padding-bottom:20px;width:100%;height:100%;display:flex;flex-wrap:wrap;flex-direction:row;justify-content:center;align-items:flex-end;align-content:flex-end}.answer[_ngcontent-%COMP%]{width:95px;text-align:center;background-color:teal;margin:5px;transition:background-color .3s ease;padding:5px;border-radius:4px}@media screen and (max-width:799px){.answer[_ngcontent-%COMP%]{font-size:5vh}}@media screen and (min-width:800px){.answer[_ngcontent-%COMP%]{font-size:30px}}@media (hover:hover){.answer[_ngcontent-%COMP%]:hover{background-color:#006464}}.score[_ngcontent-%COMP%]{color:grey;font-family:Arial Helvetica,sans-serif;text-align:center}.modes[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}a[_ngcontent-%COMP%]{cursor:pointer}.mode[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:teal;width:auto;padding:10px;margin-bottom:10px;margin-right:10px;flex-shrink:1;flex-grow:1;transition:background-color .5s ease}.mode[_ngcontent-%COMP%]:hover{background-color:#005a5a}.stat-grid[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.stat[_ngcontent-%COMP%]{padding:5px;margin:1px}.muted[_ngcontent-%COMP%]{color:gray}"]],data:{}});function xm(t){return wo(0,[(t()(),eo(0,0,null,null,169,"div",[["class","menu"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Anzeige"])),(t()(),eo(3,0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,5).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,5).onReset()&&r),r}),null,null)),hi(4,16384,null,0,hm,[],null,null),hi(5,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(7,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(8,0,null,null,10,"label",[["class","container serif"]],null,null,null,null,null)),(t()(),yo(-1,null,["Serif "])),(t()(),eo(10,0,null,null,6,"input",[["formControlName","font"],["name","font"],["type","radio"],["value","serif"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,11)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,11).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,11)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,11)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,12).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,12).onTouched()&&r),r}),null,null)),hi(11,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(12,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(14,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(16,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(17,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(18,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(19,0,null,null,10,"label",[["class","container sans-serif"]],null,null,null,null,null)),(t()(),yo(-1,null,["Sans-Serif "])),(t()(),eo(21,0,null,null,6,"input",[["formControlName","font"],["name","font"],["type","radio"],["value","sans-serif"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,22)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,22).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,22)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,22)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,23).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,23).onTouched()&&r),r}),null,null)),hi(22,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(23,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(25,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(27,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(28,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(29,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(30,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Modus"])),(t()(),eo(32,0,null,null,12,"div",[["class","dropdown-content"]],null,null,null,null,null)),(t()(),eo(33,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setMode("german","hiragana")&&r),r}),null,null)),(t()(),yo(-1,null,["a/\u3042"])),(t()(),eo(35,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setMode("hiragana","german")&&r),r}),null,null)),(t()(),yo(-1,null,["\u3042/a"])),(t()(),eo(37,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setMode("german","katakana")&&r),r}),null,null)),(t()(),yo(-1,null,["a/\u30a2"])),(t()(),eo(39,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setMode("katakana","german")&&r),r}),null,null)),(t()(),yo(-1,null,["\u30a2/a"])),(t()(),eo(41,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setMode("hiragana","katakana")&&r),r}),null,null)),(t()(),yo(-1,null,["\u3042/\u30a2"])),(t()(),eo(43,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setMode("katakana","hiragana")&&r),r}),null,null)),(t()(),yo(-1,null,["\u30a2/\u3042"])),(t()(),eo(45,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Schwierigkeitsgrad"])),(t()(),eo(47,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.updateNumberAnswers(3)&&r),r}),null,null)),(t()(),yo(-1,null,["Leicht"])),(t()(),eo(49,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.updateNumberAnswers(5)&&r),r}),null,null)),(t()(),yo(-1,null,["Mittel"])),(t()(),eo(51,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.updateNumberAnswers(8)&&r),r}),null,null)),(t()(),yo(-1,null,["Schwer"])),(t()(),eo(53,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Silbenreihen"])),(t()(),eo(55,0,null,null,114,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,57).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,57).onReset()&&r),r}),null,null)),hi(56,16384,null,0,hm,[],null,null),hi(57,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(59,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(60,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3042|\u30a2 "])),(t()(),eo(62,0,null,null,5,"input",[["formControlName","row_a"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,63).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,63).onTouched()&&r),r}),null,null)),hi(63,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(65,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(67,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(68,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(69,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(70,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u304b|\u30ab "])),(t()(),eo(72,0,null,null,5,"input",[["formControlName","row_k"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,73).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,73).onTouched()&&r),r}),null,null)),hi(73,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(75,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(77,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(78,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(79,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(80,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3055|\u30b5 "])),(t()(),eo(82,0,null,null,5,"input",[["formControlName","row_s"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,83).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,83).onTouched()&&r),r}),null,null)),hi(83,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(85,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(87,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(88,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(89,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(90,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u305f|\u30bf "])),(t()(),eo(92,0,null,null,5,"input",[["formControlName","row_t"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,93).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,93).onTouched()&&r),r}),null,null)),hi(93,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(95,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(97,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(98,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(99,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(100,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u306a|\u30ca "])),(t()(),eo(102,0,null,null,5,"input",[["formControlName","row_na"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,103).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,103).onTouched()&&r),r}),null,null)),hi(103,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(105,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(107,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(108,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(109,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(110,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u306f|\u30cf "])),(t()(),eo(112,0,null,null,5,"input",[["formControlName","row_h"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,113).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,113).onTouched()&&r),r}),null,null)),hi(113,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(115,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(117,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(118,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(119,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(120,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u307e|\u30de "])),(t()(),eo(122,0,null,null,5,"input",[["formControlName","row_m"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,123).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,123).onTouched()&&r),r}),null,null)),hi(123,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(125,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(127,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(128,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(129,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(130,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3084|\u30e4 "])),(t()(),eo(132,0,null,null,5,"input",[["formControlName","row_y"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,133).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,133).onTouched()&&r),r}),null,null)),hi(133,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(135,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(137,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(138,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(139,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(140,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3089|\u30e9 "])),(t()(),eo(142,0,null,null,5,"input",[["formControlName","row_r"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,143).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,143).onTouched()&&r),r}),null,null)),hi(143,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(145,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(147,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(148,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(149,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(150,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u308f|\u30ef "])),(t()(),eo(152,0,null,null,5,"input",[["formControlName","row_w"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,153).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,153).onTouched()&&r),r}),null,null)),hi(153,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(155,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(157,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(158,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(159,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(160,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3093|\u30f3 "])),(t()(),eo(162,0,null,null,5,"input",[["formControlName","row_n"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,163).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,163).onTouched()&&r),r}),null,null)),hi(163,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(165,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(167,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(168,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(169,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,5,0,n.settingsForm),t(e,12,0,"font","font","serif"),t(e,14,0,"font"),t(e,23,0,"font","font","sans-serif"),t(e,25,0,"font"),t(e,57,0,n.filterForm),t(e,65,0,"row_a"),t(e,75,0,"row_k"),t(e,85,0,"row_s"),t(e,95,0,"row_t"),t(e,105,0,"row_na"),t(e,115,0,"row_h"),t(e,125,0,"row_m"),t(e,135,0,"row_y"),t(e,145,0,"row_r"),t(e,155,0,"row_w"),t(e,165,0,"row_n")}),(function(t,e){var n=e.component;t(e,3,0,Jr(e,7).ngClassUntouched,Jr(e,7).ngClassTouched,Jr(e,7).ngClassPristine,Jr(e,7).ngClassDirty,Jr(e,7).ngClassValid,Jr(e,7).ngClassInvalid,Jr(e,7).ngClassPending),t(e,10,0,Jr(e,16).ngClassUntouched,Jr(e,16).ngClassTouched,Jr(e,16).ngClassPristine,Jr(e,16).ngClassDirty,Jr(e,16).ngClassValid,Jr(e,16).ngClassInvalid,Jr(e,16).ngClassPending),t(e,21,0,Jr(e,27).ngClassUntouched,Jr(e,27).ngClassTouched,Jr(e,27).ngClassPristine,Jr(e,27).ngClassDirty,Jr(e,27).ngClassValid,Jr(e,27).ngClassInvalid,Jr(e,27).ngClassPending),t(e,33,0,"german"==n.questionMode&&"hiragana"==n.answerMode),t(e,35,0,"hiragana"==n.questionMode&&"german"==n.answerMode),t(e,37,0,"german"==n.questionMode&&"katakana"==n.answerMode),t(e,39,0,"katakana"==n.questionMode&&"german"==n.answerMode),t(e,41,0,"hiragana"==n.questionMode&&"katakana"==n.answerMode),t(e,43,0,"katakana"==n.questionMode&&"hiragana"==n.answerMode),t(e,47,0,3==n.numberAnswers),t(e,49,0,5==n.numberAnswers),t(e,51,0,8==n.numberAnswers),t(e,55,0,Jr(e,59).ngClassUntouched,Jr(e,59).ngClassTouched,Jr(e,59).ngClassPristine,Jr(e,59).ngClassDirty,Jr(e,59).ngClassValid,Jr(e,59).ngClassInvalid,Jr(e,59).ngClassPending),t(e,62,0,Jr(e,67).ngClassUntouched,Jr(e,67).ngClassTouched,Jr(e,67).ngClassPristine,Jr(e,67).ngClassDirty,Jr(e,67).ngClassValid,Jr(e,67).ngClassInvalid,Jr(e,67).ngClassPending),t(e,72,0,Jr(e,77).ngClassUntouched,Jr(e,77).ngClassTouched,Jr(e,77).ngClassPristine,Jr(e,77).ngClassDirty,Jr(e,77).ngClassValid,Jr(e,77).ngClassInvalid,Jr(e,77).ngClassPending),t(e,82,0,Jr(e,87).ngClassUntouched,Jr(e,87).ngClassTouched,Jr(e,87).ngClassPristine,Jr(e,87).ngClassDirty,Jr(e,87).ngClassValid,Jr(e,87).ngClassInvalid,Jr(e,87).ngClassPending),t(e,92,0,Jr(e,97).ngClassUntouched,Jr(e,97).ngClassTouched,Jr(e,97).ngClassPristine,Jr(e,97).ngClassDirty,Jr(e,97).ngClassValid,Jr(e,97).ngClassInvalid,Jr(e,97).ngClassPending),t(e,102,0,Jr(e,107).ngClassUntouched,Jr(e,107).ngClassTouched,Jr(e,107).ngClassPristine,Jr(e,107).ngClassDirty,Jr(e,107).ngClassValid,Jr(e,107).ngClassInvalid,Jr(e,107).ngClassPending),t(e,112,0,Jr(e,117).ngClassUntouched,Jr(e,117).ngClassTouched,Jr(e,117).ngClassPristine,Jr(e,117).ngClassDirty,Jr(e,117).ngClassValid,Jr(e,117).ngClassInvalid,Jr(e,117).ngClassPending),t(e,122,0,Jr(e,127).ngClassUntouched,Jr(e,127).ngClassTouched,Jr(e,127).ngClassPristine,Jr(e,127).ngClassDirty,Jr(e,127).ngClassValid,Jr(e,127).ngClassInvalid,Jr(e,127).ngClassPending),t(e,132,0,Jr(e,137).ngClassUntouched,Jr(e,137).ngClassTouched,Jr(e,137).ngClassPristine,Jr(e,137).ngClassDirty,Jr(e,137).ngClassValid,Jr(e,137).ngClassInvalid,Jr(e,137).ngClassPending),t(e,142,0,Jr(e,147).ngClassUntouched,Jr(e,147).ngClassTouched,Jr(e,147).ngClassPristine,Jr(e,147).ngClassDirty,Jr(e,147).ngClassValid,Jr(e,147).ngClassInvalid,Jr(e,147).ngClassPending),t(e,152,0,Jr(e,157).ngClassUntouched,Jr(e,157).ngClassTouched,Jr(e,157).ngClassPristine,Jr(e,157).ngClassDirty,Jr(e,157).ngClassValid,Jr(e,157).ngClassInvalid,Jr(e,157).ngClassPending),t(e,162,0,Jr(e,167).ngClassUntouched,Jr(e,167).ngClassTouched,Jr(e,167).ngClassPristine,Jr(e,167).ngClassDirty,Jr(e,167).ngClassValid,Jr(e,167).ngClassInvalid,Jr(e,167).ngClassPending)}))}function Am(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","stat"]],[[2,"muted",null]],null,null,null,null)),(t()(),yo(1,null,[" "," ","/",""]))],null,(function(t,e){var n=e.component;t(e,0,0,0==e.context.$implicit.hits&&0==e.context.$implicit.misses),t(e,1,0,e.context.$implicit[n.questionMode],e.context.$implicit.hits,e.context.$implicit.misses)}))}function Nm(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","answer"]],[[2,"error",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.answerSelect(i.showCard,t.context.$implicit)&&r),r}),null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,0,0,n.displayError&&e.context.$implicit.hiragana!==n.showCard.hiragana),t(e,1,0,e.context.$implicit[n.answerMode])}))}function Pm(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[["class","submenu no-print"],["title","Einstellungen Quizmodus"]],[[2,"open",null],[2,"closed-menu",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showSubmenu=!i.showSubmenu)&&r),r}),null,null)),(t()(),yo(-1,null,["\u270d\ufe0e"])),(t()(),to(16777216,null,null,1,null,xm)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(4,0,null,null,9,"app-modal",[],null,[["window","resize"]],(function(t,e,n){var r=!0;return"window:resize"===e&&(r=!1!==Jr(t,5).onResize(n)&&r),r}),Em,Cm)),hi(5,4308992,null,0,km,[],null,null),(t()(),eo(6,0,null,0,5,"div",[["class","main-content"]],null,null,null,null,null)),(t()(),eo(7,0,null,null,2,"div",[["class","stat-grid"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Am)),hi(9,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(10,0,null,null,1,"a",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.reset()&&r),r}),null,null)),(t()(),yo(-1,null,["Zur\xfccksetzen"])),(t()(),eo(12,0,null,1,1,"div",[["class","teaser"]],null,null,null,null,null)),(t()(),yo(13,null,[" Hits: "," | Misses: "," "])),(t()(),eo(14,0,null,null,6,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),eo(15,0,null,null,5,"div",[["class","quiz"]],null,null,null,null,null)),(t()(),eo(16,0,null,null,1,"div",[["class","card"]],null,null,null,null,null)),(t()(),yo(17,null,[" "," "])),(t()(),eo(18,0,null,null,2,"div",[["class","answers"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Nm)),hi(20,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.showSubmenu),t(e,5,0),t(e,9,0,n.scoredHiragana),t(e,20,0,n.answers)}),(function(t,e){var n=e.component;t(e,0,0,n.showSubmenu,!n.showSubmenu),t(e,13,0,n.syllablesService.totalHits,n.syllablesService.totalMisses),t(e,14,0,xr(1,"content ",n.font,"")),t(e,17,0,n.showCard[n.questionMode])}))}function Om(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-quiz",[],null,null,null,Pm,Im)),hi(1,114688,null,0,Sm,[Tm],null,null)],(function(t,e){t(e,1,0)}),null)}var Dm=qr("app-quiz",Sm,Om,{},{},[]);class Rm{constructor(t){this.syllablesService=t,this.show=0,this.displayLeft="hiragana",this.displayRight="german",this.displayMode="always",this.clicked=!1,this.showSubmenu=!1,this.filterForm=new um({row_a:new sm(""),row_k:new sm(""),row_s:new sm(""),row_t:new sm(""),row_na:new sm(""),row_h:new sm(""),row_m:new sm(""),row_y:new sm(""),row_r:new sm(""),row_w:new sm(""),row_n:new sm("")}),this.hiragana=t.getAll()}ngOnInit(){this.formSub=this.filterForm.valueChanges.subscribe(()=>{this.setActiveRows()})}ngOnDestroy(){this.formSub&&this.formSub.unsubscribe()}setMode(t){this.displayMode=t}showNext(){"click"===this.displayMode&&!1===this.clicked?this.clicked=!0:(this.show++,this.show>=this.hiragana.length&&(this.show=0),"click"==this.displayMode&&(this.clicked=!1))}setActiveRows(){const t=[];this.filterForm.get("row_a").value&&t.push("a"),this.filterForm.get("row_k").value&&t.push("k"),this.filterForm.get("row_s").value&&t.push("s"),this.filterForm.get("row_t").value&&t.push("t"),this.filterForm.get("row_na").value&&t.push("na"),this.filterForm.get("row_h").value&&t.push("h"),this.filterForm.get("row_m").value&&t.push("m"),this.filterForm.get("row_y").value&&t.push("y"),this.filterForm.get("row_r").value&&t.push("r"),this.filterForm.get("row_w").value&&t.push("w"),this.filterForm.get("row_n").value&&t.push("n"),this.hiragana=t.length>0?this.syllablesService.getForRows(t):this.syllablesService.getAll(),this.show=-1,this.showNext()}}var Mm=er({encapsulation:0,styles:[[".line[_ngcontent-%COMP%]{width:80%}.card[_ngcontent-%COMP%]{width:100%;font-size:200px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-ms-user-select:none}.modes[_ngcontent-%COMP%]{width:100%;display:flex;font-family:arial}.cardbox[_ngcontent-%COMP%]{font-size:150px;width:100%;bottom:0;margin:0;display:flex}.cardbox[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%], .cardbox[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]{width:50%;height:250px;text-align:center}"]],data:{}});function Lm(t){return wo(0,[(t()(),eo(0,0,null,null,139,"div",[["class","menu"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Anzeige"])),(t()(),eo(3,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setMode("always")&&r),r}),null,null)),(t()(),yo(-1,null,["Immer zeigen"])),(t()(),eo(5,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.setMode("click"),r=0!=(i.clicked=!1)&&r),r}),null,null)),(t()(),yo(-1,null,["Beim Klick"])),(t()(),eo(7,0,null,null,1,"a",[["disabled",""]],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setMode("automatic")&&r),r}),null,null)),(t()(),yo(-1,null,["Automatisch"])),(t()(),eo(9,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Modus"])),(t()(),eo(11,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.displayLeft="german",r=!1!==(i.displayRight="hiragana")&&r),r}),null,null)),(t()(),yo(-1,null,["a/\u3042"])),(t()(),eo(13,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.displayLeft="hiragana",r=!1!==(i.displayRight="german")&&r),r}),null,null)),(t()(),yo(-1,null,["\u3042/a"])),(t()(),eo(15,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.displayLeft="german",r=!1!==(i.displayRight="katakana")&&r),r}),null,null)),(t()(),yo(-1,null,["a/\u30a2"])),(t()(),eo(17,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.displayLeft="katakana",r=!1!==(i.displayRight="german")&&r),r}),null,null)),(t()(),yo(-1,null,["\u30a2/a"])),(t()(),eo(19,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.displayLeft="hiragana",r=!1!==(i.displayRight="katakana")&&r),r}),null,null)),(t()(),yo(-1,null,["\u3042/\u30a2"])),(t()(),eo(21,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.displayLeft="katakana",r=!1!==(i.displayRight="hiragana")&&r),r}),null,null)),(t()(),yo(-1,null,["\u30a2/\u3042"])),(t()(),eo(23,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Silbenreihen"])),(t()(),eo(25,0,null,null,114,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,27).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,27).onReset()&&r),r}),null,null)),hi(26,16384,null,0,hm,[],null,null),hi(27,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(29,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(30,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3042|\u30a2 "])),(t()(),eo(32,0,null,null,5,"input",[["formControlName","row_a"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,33).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,33).onTouched()&&r),r}),null,null)),hi(33,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(35,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(37,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(38,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(39,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(40,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u304b|\u30ab "])),(t()(),eo(42,0,null,null,5,"input",[["formControlName","row_k"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,43).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,43).onTouched()&&r),r}),null,null)),hi(43,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(45,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(47,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(48,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(49,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(50,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3055|\u30b5 "])),(t()(),eo(52,0,null,null,5,"input",[["formControlName","row_s"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,53).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,53).onTouched()&&r),r}),null,null)),hi(53,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(55,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(57,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(58,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(59,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(60,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u305f|\u30bf "])),(t()(),eo(62,0,null,null,5,"input",[["formControlName","row_t"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,63).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,63).onTouched()&&r),r}),null,null)),hi(63,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(65,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(67,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(68,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(69,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(70,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u306a|\u30ca "])),(t()(),eo(72,0,null,null,5,"input",[["formControlName","row_na"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,73).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,73).onTouched()&&r),r}),null,null)),hi(73,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(75,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(77,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(78,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(79,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(80,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u306f|\u30cf "])),(t()(),eo(82,0,null,null,5,"input",[["formControlName","row_h"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,83).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,83).onTouched()&&r),r}),null,null)),hi(83,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(85,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(87,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(88,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(89,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(90,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u307e|\u30de "])),(t()(),eo(92,0,null,null,5,"input",[["formControlName","row_m"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,93).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,93).onTouched()&&r),r}),null,null)),hi(93,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(95,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(97,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(98,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(99,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(100,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3084|\u30e4 "])),(t()(),eo(102,0,null,null,5,"input",[["formControlName","row_y"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,103).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,103).onTouched()&&r),r}),null,null)),hi(103,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(105,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(107,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(108,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(109,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(110,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3089|\u30e9 "])),(t()(),eo(112,0,null,null,5,"input",[["formControlName","row_r"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,113).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,113).onTouched()&&r),r}),null,null)),hi(113,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(115,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(117,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(118,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(119,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(120,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u308f|\u30ef "])),(t()(),eo(122,0,null,null,5,"input",[["formControlName","row_w"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,123).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,123).onTouched()&&r),r}),null,null)),hi(123,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(125,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(127,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(128,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(129,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(130,0,null,null,9,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3093|\u30f3 "])),(t()(),eo(132,0,null,null,5,"input",[["formControlName","row_n"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,133).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,133).onTouched()&&r),r}),null,null)),hi(133,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(135,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(137,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(138,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(139,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null))],(function(t,e){t(e,27,0,e.component.filterForm),t(e,35,0,"row_a"),t(e,45,0,"row_k"),t(e,55,0,"row_s"),t(e,65,0,"row_t"),t(e,75,0,"row_na"),t(e,85,0,"row_h"),t(e,95,0,"row_m"),t(e,105,0,"row_y"),t(e,115,0,"row_r"),t(e,125,0,"row_w"),t(e,135,0,"row_n")}),(function(t,e){var n=e.component;t(e,3,0,"always"==n.displayMode),t(e,5,0,"click"==n.displayMode),t(e,7,0,"automatic"==n.displayMode),t(e,11,0,"german"==n.displayLeft&&"hiragana"==n.displayRight),t(e,13,0,"hiragana"==n.displayLeft&&"german"==n.displayRight),t(e,15,0,"german"==n.displayLeft&&"katakana"==n.displayRight),t(e,17,0,"katakana"==n.displayLeft&&"german"==n.displayRight),t(e,19,0,"hiragana"==n.displayLeft&&"katakana"==n.displayRight),t(e,21,0,"katakana"==n.displayLeft&&"hiragana"==n.displayRight),t(e,25,0,Jr(e,29).ngClassUntouched,Jr(e,29).ngClassTouched,Jr(e,29).ngClassPristine,Jr(e,29).ngClassDirty,Jr(e,29).ngClassValid,Jr(e,29).ngClassInvalid,Jr(e,29).ngClassPending),t(e,32,0,Jr(e,37).ngClassUntouched,Jr(e,37).ngClassTouched,Jr(e,37).ngClassPristine,Jr(e,37).ngClassDirty,Jr(e,37).ngClassValid,Jr(e,37).ngClassInvalid,Jr(e,37).ngClassPending),t(e,42,0,Jr(e,47).ngClassUntouched,Jr(e,47).ngClassTouched,Jr(e,47).ngClassPristine,Jr(e,47).ngClassDirty,Jr(e,47).ngClassValid,Jr(e,47).ngClassInvalid,Jr(e,47).ngClassPending),t(e,52,0,Jr(e,57).ngClassUntouched,Jr(e,57).ngClassTouched,Jr(e,57).ngClassPristine,Jr(e,57).ngClassDirty,Jr(e,57).ngClassValid,Jr(e,57).ngClassInvalid,Jr(e,57).ngClassPending),t(e,62,0,Jr(e,67).ngClassUntouched,Jr(e,67).ngClassTouched,Jr(e,67).ngClassPristine,Jr(e,67).ngClassDirty,Jr(e,67).ngClassValid,Jr(e,67).ngClassInvalid,Jr(e,67).ngClassPending),t(e,72,0,Jr(e,77).ngClassUntouched,Jr(e,77).ngClassTouched,Jr(e,77).ngClassPristine,Jr(e,77).ngClassDirty,Jr(e,77).ngClassValid,Jr(e,77).ngClassInvalid,Jr(e,77).ngClassPending),t(e,82,0,Jr(e,87).ngClassUntouched,Jr(e,87).ngClassTouched,Jr(e,87).ngClassPristine,Jr(e,87).ngClassDirty,Jr(e,87).ngClassValid,Jr(e,87).ngClassInvalid,Jr(e,87).ngClassPending),t(e,92,0,Jr(e,97).ngClassUntouched,Jr(e,97).ngClassTouched,Jr(e,97).ngClassPristine,Jr(e,97).ngClassDirty,Jr(e,97).ngClassValid,Jr(e,97).ngClassInvalid,Jr(e,97).ngClassPending),t(e,102,0,Jr(e,107).ngClassUntouched,Jr(e,107).ngClassTouched,Jr(e,107).ngClassPristine,Jr(e,107).ngClassDirty,Jr(e,107).ngClassValid,Jr(e,107).ngClassInvalid,Jr(e,107).ngClassPending),t(e,112,0,Jr(e,117).ngClassUntouched,Jr(e,117).ngClassTouched,Jr(e,117).ngClassPristine,Jr(e,117).ngClassDirty,Jr(e,117).ngClassValid,Jr(e,117).ngClassInvalid,Jr(e,117).ngClassPending),t(e,122,0,Jr(e,127).ngClassUntouched,Jr(e,127).ngClassTouched,Jr(e,127).ngClassPristine,Jr(e,127).ngClassDirty,Jr(e,127).ngClassValid,Jr(e,127).ngClassInvalid,Jr(e,127).ngClassPending),t(e,132,0,Jr(e,137).ngClassUntouched,Jr(e,137).ngClassTouched,Jr(e,137).ngClassPristine,Jr(e,137).ngClassDirty,Jr(e,137).ngClassValid,Jr(e,137).ngClassInvalid,Jr(e,137).ngClassPending)}))}function Fm(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","card"]],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,n.hiragana[n.show][n.displayRight])}))}function jm(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[["class","submenu no-print"],["title","Einstellungen Lernmodus"]],[[2,"open",null],[2,"closed-menu",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showSubmenu=!i.showSubmenu)&&r),r}),null,null)),(t()(),yo(-1,null,["\u270d\ufe0e"])),(t()(),to(16777216,null,null,1,null,Lm)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(4,0,null,null,6,"div",[["class","content"]],null,null,null,null,null)),(t()(),eo(5,0,null,null,5,"div",[["class","learn"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showNext()&&r),r}),null,null)),(t()(),eo(6,0,null,null,1,"div",[["class","card"]],null,null,null,null,null)),(t()(),yo(7,null,["",""])),(t()(),eo(8,0,null,null,0,"hr",[["class","line"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Fm)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.showSubmenu),t(e,10,0,"always"==n.displayMode||"click"==n.displayMode&&n.clicked)}),(function(t,e){var n=e.component;t(e,0,0,n.showSubmenu,!n.showSubmenu),t(e,7,0,n.hiragana[n.show][n.displayLeft])}))}function Um(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-learn",[],null,null,null,jm,Mm)),hi(1,245760,null,0,Rm,[Tm],null,null)],(function(t,e){t(e,1,0)}),null)}var Vm=qr("app-learn",Rm,Um,{},{},[]),qm=n("l2P5"),zm=n.n(qm),Hm=function(t){return t.noun="0",t.verb="1",t.adjective="2",t.adverb="3",t.pronoun="4",t.preposition="5",t.conjunction="6",t.numeral="7",t.interjection="8",t.kanji="9",t}({}),Bm=function(t){return t.single="single",t.ichidan="single",t.five="five",t.godan="five",t.suru="suru",t.irregular="irregular",t}({}),Wm=function(t){return t.iAdjective="iAdjective",t.naAdjective="naAdjective",t}({}),Gm=function(t){return t[t.simple=0]="simple",t[t.word=1]="word",t}({});class Km{constructor(){this.hits=0,this.misses=0,this.reading="",this.german=[],this.japanese="",this.createdAt=new Date,this.updatedAt=new Date,this.decks=[],this.cardType=Gm.simple}getReading(){return this.reading?this.reading:this.hasJapReadings()?this.japanese_readings[0]:this.hasChineseReadings()?this.chinese_readings[0]:""}getGerman(){return this.german&&null!=this.german[0]?this.german[0]:""}hasGerman(){return""!==this.getGerman()}hasExamples(){return this.examples&&""!==this.examples[0]&&void 0!==this.examples[0]}hasReadings(){return this.hasJapReadings()||this.hasChineseReadings()}hasJapReadings(){return this.japanese_readings.length&&(null!==this.japanese_readings[0]||""!==this.japanese_readings[0])}hasChineseReadings(){return this.chinese_readings.length&&(null!==this.chinese_readings[0]||""!==this.chinese_readings[0])}hasOnlyOneReading(){return(!this.hasJapReadings()||!this.hasChineseReadings())&&(this.hasJapReadings()?this.japanese_readings.length<2:!!this.hasChineseReadings()&&this.chinese_readings.length<2)}static createFromCardInterface(t){const e=new Km;for(const n in t)t.hasOwnProperty(n)&&"decks"!=n&&(e[n]=t[n]);return e.japanese||(t.hiragana&&(e.japanese=t.hiragana),t.katakana&&(e.japanese=t.katakana),t.kanji&&(e.japanese=t.kanji)),e.german=Array.isArray(t.german)?t.german:[t.german],t.decks&&(e.decks=e.decks.concat(t.decks)),e.japanese_readings=t.japanese_readings,e.japanese_readings||(e.japanese_readings=[]),e.chinese_readings=t.chinese_readings,e.chinese_readings||(e.chinese_readings=[]),e}isKanji(){return this.wordType===Hm.kanji}isVerb(){return this.wordType===Hm.verb}isGodanVerb(){return this.verbType===Bm.five}isIchidanVerb(){return this.verbType===Bm.single}isSuruVerb(){return this.verbType===Bm.suru}isIrregularVerb(){return this.verbType===Bm.irregular}isAdjective(){return this.wordType===Hm.adjective}}let $m=(()=>{class t{constructor(t){this.authService=t,this.onChange=new Fi,this._currentStyle="serif",this.authService.user.subscribe(t=>{this.user=t;try{this._currentStyle=this.user.settings.fontStyle}catch(e){console.log("user has no style B)")}})}get currentStyle(){return this._currentStyle}updateFontStyle(t,e){this.updateUserSettings(t),this._currentStyle=t,e||this.onChange.emit(t)}updateUserSettings(t){this.user.settings?this.user.settings.fontStyle=t:this.user.settings={fontStyle:t},this.authService.updateUserData(this.user)}}return t.ngInjectableDef=pt({factory:function(){return new t(jt(ng))},token:t,providedIn:"root"}),t})();class Qm{constructor(t,e,n){this.router=t,this.cardService=e,this.fontSwitcherService=n,this.allowEdit=!1,this.selectedCard=new Fi,this.showSubmenu=!1,this.searchForm=new sm(""),this.modeForm=new um({left:new sm("japanese"),right:new sm("german")})}get leftSide(){return this.modeForm.get("left").value}get rightSide(){return this.modeForm.get("right").value}get fontMode(){return this.fontSwitcherService.currentStyle}get cardTypes(){return Gm}get wordTypes(){return Hm}get adjectiveTypes(){return Wm}get verbTypes(){return Bm}ngOnInit(){this.words=this.cards,this.words?this.updateTable():this.cardService.loadAll().snapshotChanges().subscribe(t=>{this.cards=t.map(t=>{const e=Km.createFromCardInterface(t.payload.doc.data());return e.uid=t.payload.doc.id,e}),this.words=this.cards,this.updateTable()}),this.modeSub=this.modeForm.valueChanges.subscribe(()=>{this.updateFilter()}),this.searchFormSub=this.searchForm.valueChanges.subscribe(()=>{this.updateFilter()})}ngOnDestroy(){this.modeSub&&this.modeSub.unsubscribe(),this.searchFormSub&&this.searchFormSub.unsubscribe()}updateFilter(){if(this.searchForm.value){const t=new zm.a(this.cards,["german","japanese","examples.german","examples.japanese","examples.reading","japanese_readings","chinese_readings"],{caseSensitive:!1});this.words=t.search(this.searchForm.value)}else this.words=this.cards;this.updateTable()}updateTable(){console.log("update table!"),this.showGerman=this.containsGerman(),this.showExamples=this.containsExamples(),this.showReadings=this.containsReadings()}reading(t,e){return t[e]?t[e]:t.kanji?t.kanji:t.hiragana?t.hiragana:t.katakana?t.katakana:t.romaji?t.romaji:void 0}readingWithPreference(t,e){switch(t){case"japanese":if(e.japanese)return e.japanese;if(e.kanji)return e.kanji;if(e.hiragana)return e.hiragana;if(e.katakana)return e.katakana;break;case"reading":if(e.japanese_readings)return e.chinese_readings?e.japanese_readings.concat(e.chinese_readings.join(", ")):e.japanese_readings.join(", ");if(e.chinese_readings)return e.chinese_readings.join(", ");break;case"german":return""!=e.german[0]?e.german[0]:this.readingWithPreference("reading",e)}}containsReadings(){let t=!1;return this.words.forEach(e=>{e.hasReadings()&&(t=!0)}),t}containsGerman(){let t=!1;return this.words.forEach(e=>{e.hasGerman()&&(t=!0)}),t}containsExamples(){let t=!1;return this.words.forEach(e=>{e.hasExamples()&&(t=!0)}),t}show(t){this.selectedCard.emit(t),this.router.navigate([{outlets:{modal:["card",t.uid]}}])}}var Ym=er({encapsulation:0,styles:[[".word-list[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:20px}.word-list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:6px;width:100%;margin:8px 0;box-sizing:border-box;display:inline-block;border:1px solid gray;-webkit-appearance:none}tr[_ngcontent-%COMP%]{min-height:25px}td[_ngcontent-%COMP%]{padding:5px}li[_ngcontent-%COMP%]{text-align:center}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:rgba(100,100,100,.1)}@media (hover:hover){tr[_ngcontent-%COMP%]:hover{background-color:rgba(100,100,100,.3)}}.card[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.5);overflow:hidden;position:relative;background-color:#fff;border-radius:5px;min-height:50px;padding:5px;margin-bottom:5px}.card[_ngcontent-%COMP%]   .japanese[_ngcontent-%COMP%]{display:block;font-size:20px}.card[_ngcontent-%COMP%]   .translation[_ngcontent-%COMP%]{display:block}.card[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:5px;font-size:14px}"]],data:{}});function Zm(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType noun"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Substantiv "]))],null,null)}function Jm(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Ichidan Verb "]))],null,null)}function Xm(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Godan Verb "]))],null,null)}function tv(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Suru Verb "]))],null,null)}function ev(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Irregular Verb "]))],null,null)}function nv(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Verb "]))],null,null)}function rv(t){return wo(0,[(t()(),eo(0,0,null,null,12,"div",[["class","wordType verb"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,11,null,null,null,null,null,null,null)),hi(2,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,Jm)),hi(4,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Xm)),hi(6,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,tv)),hi(8,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,ev)),hi(10,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,nv)),hi(12,16384,null,0,ea,[Ln,Rn,Xu],null,null)],(function(t,e){var n=e.component;t(e,2,0,e.parent.parent.context.$implicit.verbType),t(e,4,0,n.verbTypes.ichidan),t(e,6,0,n.verbTypes.godan),t(e,8,0,n.verbTypes.suru),t(e,10,0,n.verbTypes.irregular)}),null)}function iv(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" \u3044 Adjektiv "]))],null,null)}function lv(t){return wo(0,[(t()(),yo(-1,null,[" \u306a\u3000Adjektiv "]))],null,null)}function ov(t){return wo(0,[(t()(),eo(0,0,null,null,3,"div",[["class","wordType adjective"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,iv)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["naAdj",2]],null,0,null,lv))],(function(t,e){t(e,2,0,e.parent.parent.context.$implicit.adjectiveType==e.component.adjectiveTypes.iAdjective,Jr(e,3))}),null)}function sv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType adverb"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Adverb "]))],null,null)}function uv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType pronoun"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Pronomen "]))],null,null)}function av(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType preposition"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Pr\xe4position "]))],null,null)}function cv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType conjunction"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Konjunktion "]))],null,null)}function hv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType numeral"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Numeral "]))],null,null)}function dv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType interjection"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Interjektion "]))],null,null)}function pv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType kanji"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Kanji "]))],null,null)}function fv(t){return wo(0,[(t()(),eo(0,0,null,null,22,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,21,null,null,null,null,null,null,null)),hi(2,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,Zm)),hi(4,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,rv)),hi(6,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,ov)),hi(8,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,sv)),hi(10,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,uv)),hi(12,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,av)),hi(14,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,cv)),hi(16,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,hv)),hi(18,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,dv)),hi(20,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,pv)),hi(22,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,e.parent.context.$implicit.wordType),t(e,4,0,n.wordTypes.noun),t(e,6,0,n.wordTypes.verb),t(e,8,0,n.wordTypes.adjective),t(e,10,0,n.wordTypes.adverb),t(e,12,0,n.wordTypes.pronoun),t(e,14,0,n.wordTypes.preposition),t(e,16,0,n.wordTypes.conjunction),t(e,18,0,n.wordTypes.numeral),t(e,20,0,n.wordTypes.interjection),t(e,22,0,n.wordTypes.kanji)}),null)}function gv(t){return wo(0,[(t()(),eo(0,0,null,null,7,"div",[["class","card"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.show(t.context.$implicit)&&r),r}),null,null)),(t()(),eo(1,0,null,null,1,"span",[["class","japanese"]],null,null,null,null,null)),(t()(),yo(2,null,[" "," "])),(t()(),eo(3,0,null,null,1,"span",[["class","translation muted"]],null,null,null,null,null)),(t()(),yo(4,null,[" "," "])),(t()(),eo(5,0,null,null,2,"div",[["class","type"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,fv)),hi(7,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,7,0,e.context.$implicit.cardType==e.component.cardTypes.word)}),(function(t,e){t(e,2,0,e.context.$implicit.japanese);var n=e.context.$implicit.german.join(", ");t(e,4,0,n)}))}function mv(t){return wo(0,[(t()(),eo(0,0,null,null,9,"div",[["class","word-list"]],[[2,"serif",null],[2,"sans-serif",null]],null,null,null,null)),(t()(),eo(1,0,null,null,6,"label",[["class","no-print"]],null,null,null,null,null)),(t()(),eo(2,0,null,null,5,"input",[["placeholder","Suche"],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,3)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,3).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,3)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,3)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(3,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(5,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(7,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),to(16777216,null,null,1,null,gv)),hi(9,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.searchForm),t(e,9,0,n.words)}),(function(t,e){var n=e.component;t(e,0,0,"serif"===n.fontMode,"sans-serif"===n.fontMode),t(e,2,0,Jr(e,7).ngClassUntouched,Jr(e,7).ngClassTouched,Jr(e,7).ngClassPristine,Jr(e,7).ngClassDirty,Jr(e,7).ngClassValid,Jr(e,7).ngClassInvalid,Jr(e,7).ngClassPending)}))}function vv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-list",[],null,null,null,mv,Ym)),hi(1,245760,null,0,Qm,[kf,rg,$m],null,null)],(function(t,e){t(e,1,0)}),null)}var yv=qr("app-word-list",Qm,vv,{cards:"cards",user:"user",deck:"deck",allowEdit:"allowEdit"},{selectedCard:"selectedCard"},[]);class _v{constructor(t,e){this.router=t,this.auth=e,this.flyInOutTrigger="in"}ngOnInit(){this.auth.user.subscribe(t=>{this.user=t})}editCard(t){this.auth.user.subscribe(e=>{this.router.navigate([{outlets:{modal:["card",t.uid]}}])})}}var bv=er({encapsulation:0,styles:[["[_nghost-%COMP%]{overflow:auto;position:fixed;height:60%;left:0;right:0;top:50px;margin:auto;width:720px;background-color:#fff;border-radius:8px;padding:8px;box-shadow:3px 4px 5px 0 rgba(0,0,0,.3)}@media only screen and (max-width:736px){[_nghost-%COMP%]{box-shadow:0 0 5px 0 rgba(0,0,0,.3);width:calc(100% - 16px);top:initial;bottom:0;height:80%;border-bottom-left-radius:0;border-bottom-right-radius:0}}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{font-weight:lighter;color:#646464}[_nghost-%COMP%]   .japanese[_ngcontent-%COMP%]{text-align:center;font-weight:800;font-size:25px}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{text-align:left}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#6464641a}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:none}.action-shortcuts[_ngcontent-%COMP%]{z-index:11;position:absolute;top:0;right:20px}.action-shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;margin-right:6px;text-decoration:none;color:#fff;background:#002828;padding:5px 8px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;transition:all .2s;box-shadow:2px 2px 2px 0 rgba(36,36,36,.41)}.action-shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{margin-right:0}@media (hover:hover){.action-shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{padding-top:8px}}.content[_ngcontent-%COMP%]{overflow:auto;height:100%}.content[_ngcontent-%COMP%]::-webkit-scrollbar{width:0!important}"]],data:{animation:[{type:7,name:"flyInOutTrigger",definitions:[{type:0,name:"in",styles:{type:6,styles:{transform:"{{ from }}",opacity:1},offset:null},options:{params:{from:"translateY(0%)"}}},{type:1,expr:":enter",animation:[{type:10,animation:{type:8,animation:[{type:6,styles:{transform:"{{ to }}",opacity:0},offset:null},{type:3,steps:[{type:4,styles:{type:6,styles:{transform:"{{ from }}"},offset:null},timings:"{{ timecurve }}"},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"{{ timecurve }}"}],options:null}],options:{params:{from:"translateY(0%)",to:"translateY(100%)",timecurve:"400ms cubic-bezier(0.645, 0.045, 0.355, 1.000)"}}},options:null}],options:null},{type:1,expr:":leave",animation:[{type:10,animation:{type:8,animation:[{type:6,styles:{transform:"{{ from }}",opacity:1},offset:null},{type:3,steps:[{type:4,styles:{type:6,styles:{transform:"{{ to }}"},offset:null},timings:"{{ timecurve }}"},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"{{ timecurveOpacity }}"}],options:null}],options:{params:{from:"translateY(0%)",to:"translateY(100%)",timecurve:"400ms cubic-bezier(0.645, 0.045, 0.355, 1.000)",timecurveOpacity:"350ms cubic-bezier(0.645, 0.045, 0.355, 1.000)"}}},options:null}],options:null}],options:{}}]}});function wv(t){return wo(0,[(t()(),eo(0,0,null,null,13,"div",[["class","action-shortcuts"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,6,"a",[["class","edit"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(2,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(3,2),mo(4,{modal:0}),mo(5,{outlets:0}),go(6,2),(t()(),eo(7,0,null,null,0,"i",[["class","feather icon-plus"]],null,null,null,null,null)),(t()(),eo(8,0,null,null,5,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(9,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),mo(10,{modal:0}),mo(11,{outlets:0}),go(12,2),(t()(),eo(13,0,null,null,0,"i",[["class","feather icon-x"]],null,null,null,null,null))],(function(t,e){var n=t(e,6,0,"",t(e,5,0,t(e,4,0,t(e,3,0,"cards","new"))));t(e,2,0,n);var r=t(e,12,0,"",t(e,11,0,t(e,10,0,null)));t(e,9,0,r)}),(function(t,e){t(e,1,0,Jr(e,2).target,Jr(e,2).href),t(e,8,0,Jr(e,9).target,Jr(e,9).href)}))}function kv(t){return wo(0,[(t()(),eo(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,wv)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){t(e,2,0,"admin"===e.component.user.role)}),null)}function Cv(t){return wo(0,[(t()(),to(16777216,null,null,1,null,kv)),hi(1,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(2,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(t()(),eo(3,0,null,null,1,"app-word-list",[],null,[[null,"selectedCard"]],(function(t,e,n){var r=!0;return"selectedCard"===e&&(r=!1!==t.component.editCard(n)&&r),r}),mv,Ym)),hi(4,245760,null,0,Qm,[kf,rg,$m],null,{selectedCard:"selectedCard"})],(function(t,e){t(e,1,0,e.component.user),t(e,4,0)}),null)}function Ev(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-dictionary",[],[[40,"@flyInOutTrigger",0]],null,null,Cv,bv)),hi(1,114688,null,0,_v,[kf,ng],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Jr(e,1).flyInOutTrigger)}))}var Tv=qr("app-dictionary",_v,Ev,{},{},[]);class Sv{constructor(t){this.syllablesService=t,this.display="hiragana",this.showSubmenu=!1,this.settingsForm=new um({font:new sm("serif")}),this.syllables={a:t.getForRows(["a"]),k:t.getForRows(["k"]),s:t.getForRows(["s"]),t:t.getForRows(["t"]),na:t.getForRows(["na"]),h:t.getForRows(["h"]),m:t.getForRows(["m"]),y:t.getForRows(["y"]),r:t.getForRows(["r"]),w:t.getForRows(["w"]),n:t.getForRows(["n"])},this.handakuten={p:t.getForRows(["handakuten_h"])},this.dakuten={b:t.getForRows(["dakuten_h"]),g:t.getForRows(["dakuten_k"]),d:t.getForRows(["dakuten_t"]),z:t.getForRows(["dakuten_s"])}}get font(){return this.settingsForm.get("font").value}ngOnInit(){}}var Iv=er({encapsulation:0,styles:[[".overview[_ngcontent-%COMP%]{padding-bottom:20px;padding-top:20px}@media screen and (max-width:799px){.overview[_ngcontent-%COMP%]{font-size:3.8vw}}@media screen and (min-width:800px){.overview[_ngcontent-%COMP%]{font-size:25px}}h2[_ngcontent-%COMP%]{margin-bottom:0}p[_ngcontent-%COMP%]{margin-top:0}"]],data:{}});function xv(t){return wo(0,[(t()(),eo(0,0,null,null,36,"div",[["class","menu"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Anzeige"])),(t()(),eo(3,0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,5).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,5).onReset()&&r),r}),null,null)),hi(4,16384,null,0,hm,[],null,null),hi(5,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(7,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(8,0,null,null,10,"label",[["class","container serif"]],null,null,null,null,null)),(t()(),yo(-1,null,["Serif "])),(t()(),eo(10,0,null,null,6,"input",[["formControlName","font"],["name","font"],["type","radio"],["value","serif"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,11)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,11).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,11)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,11)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,12).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,12).onTouched()&&r),r}),null,null)),hi(11,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(12,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(14,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(16,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(17,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(18,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(19,0,null,null,10,"label",[["class","container sans-serif"]],null,null,null,null,null)),(t()(),yo(-1,null,["Sans-Serif "])),(t()(),eo(21,0,null,null,6,"input",[["formControlName","font"],["name","font"],["type","radio"],["value","sans-serif"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,22)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,22).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,22)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,22)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,23).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,23).onTouched()&&r),r}),null,null)),hi(22,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(23,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(25,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(27,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(28,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(29,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(30,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Modus"])),(t()(),eo(32,0,null,null,4,"div",[["class","dropdown-content"]],null,null,null,null,null)),(t()(),eo(33,0,null,null,1,"a",[],[[2,"selected",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==(t.component.display="hiragana")&&r),r}),null,null)),(t()(),yo(-1,null,["Hiragana"])),(t()(),eo(35,0,null,null,1,"a",[],[[2,"selected",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==(t.component.display="katakana")&&r),r}),null,null)),(t()(),yo(-1,null,["Katakana"]))],(function(t,e){t(e,5,0,e.component.settingsForm),t(e,12,0,"font","font","serif"),t(e,14,0,"font"),t(e,23,0,"font","font","sans-serif"),t(e,25,0,"font")}),(function(t,e){var n=e.component;t(e,3,0,Jr(e,7).ngClassUntouched,Jr(e,7).ngClassTouched,Jr(e,7).ngClassPristine,Jr(e,7).ngClassDirty,Jr(e,7).ngClassValid,Jr(e,7).ngClassInvalid,Jr(e,7).ngClassPending),t(e,10,0,Jr(e,16).ngClassUntouched,Jr(e,16).ngClassTouched,Jr(e,16).ngClassPristine,Jr(e,16).ngClassDirty,Jr(e,16).ngClassValid,Jr(e,16).ngClassInvalid,Jr(e,16).ngClassPending),t(e,21,0,Jr(e,27).ngClassUntouched,Jr(e,27).ngClassTouched,Jr(e,27).ngClassPristine,Jr(e,27).ngClassDirty,Jr(e,27).ngClassValid,Jr(e,27).ngClassInvalid,Jr(e,27).ngClassPending),t(e,33,0,"hiragana"==n.display),t(e,35,0,"katakana"==n.display)}))}function Av(t){return wo(0,[(t()(),eo(0,0,null,null,1,"td",[["class","label"]],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.parent.context.$implicit.key)}))}function Nv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"td",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Vokale"]))],null,null)}function Pv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"td",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["n"]))],null,null)}function Ov(t){return wo(0,[(t()(),eo(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit[e.component.display])}))}function Dv(t){return wo(0,[(t()(),eo(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Ov)),hi(2,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(0,null,null,0))],(function(t,e){t(e,2,0,e.parent.context.$implicit.value)}),null)}function Rv(t){return wo(0,[(t()(),eo(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(2,null,[" ",""])),(t()(),eo(3,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),eo(4,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),eo(5,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),eo(6,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(7,null,[" ",""]))],null,(function(t,e){var n=e.component;t(e,2,0,e.parent.context.$implicit.value[0][n.display]),t(e,7,0,e.parent.context.$implicit.value[1][n.display])}))}function Mv(t){return wo(0,[(t()(),eo(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(2,null,[" ",""])),(t()(),eo(3,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),eo(4,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(5,null,[" ",""])),(t()(),eo(6,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),eo(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(8,null,[" ",""]))],null,(function(t,e){var n=e.component;t(e,2,0,e.parent.context.$implicit.value[0][n.display]),t(e,5,0,e.parent.context.$implicit.value[1][n.display]),t(e,8,0,e.parent.context.$implicit.value[2][n.display])}))}function Lv(t){return wo(0,[(t()(),eo(0,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Av)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Nv)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Pv)),hi(6,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Dv)),hi(8,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Rv)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Mv)),hi(12,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,"a"!==e.context.$implicit.key&&"na"!==e.context.$implicit.key),t(e,4,0,"a"==e.context.$implicit.key),t(e,6,0,"na"==e.context.$implicit.key),t(e,8,0,"w"!==e.context.$implicit.key&&"y"!==e.context.$implicit.key),t(e,10,0,"w"===e.context.$implicit.key),t(e,12,0,"y"===e.context.$implicit.key)}),null)}function Fv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit[e.component.display])}))}function jv(t){return wo(0,[(t()(),eo(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"td",[["class","label"]],null,null,null,null,null)),(t()(),yo(2,null,["",""])),(t()(),to(16777216,null,null,1,null,Fv)),hi(4,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,4,0,e.context.$implicit.value)}),(function(t,e){t(e,2,0,e.context.$implicit.key)}))}function Uv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Beachte \u30b8 (ji), \u30c2 (ji) und \u30c5 (zu)"]))],null,null)}function Vv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Beachte \u3058 (ji), \u3062 (ji) und \u3065 (zu)"]))],null,null)}function qv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit[e.component.display])}))}function zv(t){return wo(0,[(t()(),eo(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"td",[["class","label"]],null,null,null,null,null)),(t()(),yo(2,null,["",""])),(t()(),to(16777216,null,null,1,null,qv)),hi(4,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,4,0,e.context.$implicit.value)}),(function(t,e){t(e,2,0,e.context.$implicit.key)}))}function Hv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[["class","submenu no-print"],["title","Einstellungen Silbentabelle"]],[[2,"open",null],[2,"closed-menu",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showSubmenu=!i.showSubmenu)&&r),r}),null,null)),(t()(),yo(-1,null,["\u270d\ufe0e"])),(t()(),to(16777216,null,null,1,null,xv)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(4,0,null,null,65,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),eo(5,0,null,null,64,"div",[["class","overview"]],null,null,null,null,null)),(t()(),eo(6,0,null,null,15,"table",[],null,null,null,null,null)),(t()(),eo(7,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),eo(8,0,null,null,0,"th",[["class","blank"]],null,null,null,null,null)),(t()(),eo(9,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["a"])),(t()(),eo(11,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["i"])),(t()(),eo(13,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["u"])),(t()(),eo(15,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["e"])),(t()(),eo(17,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["o"])),(t()(),to(16777216,null,null,2,null,Lv)),hi(20,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),di(0,aa,[Nn]),(t()(),eo(22,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),yo(-1,null,["Dakuten / Nigori\u300c \u309b\u300d"])),(t()(),eo(24,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Nigori macht den Laut stimmhaft oder "getr\xfcbt" (soft).'])),(t()(),eo(26,0,null,null,15,"table",[],null,null,null,null,null)),(t()(),eo(27,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),eo(28,0,null,null,0,"th",[["class","blank"]],null,null,null,null,null)),(t()(),eo(29,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["a"])),(t()(),eo(31,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["i"])),(t()(),eo(33,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["u"])),(t()(),eo(35,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["e"])),(t()(),eo(37,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["o"])),(t()(),to(16777216,null,null,2,null,jv)),hi(40,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),di(0,aa,[Nn]),(t()(),to(16777216,null,null,1,null,Uv)),hi(43,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Vv)),hi(45,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(46,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),yo(-1,null,["Handakuten / Maru\u300c \u309c\u300d"])),(t()(),eo(48,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Maru macht den Laut "hart"'])),(t()(),eo(50,0,null,null,15,"table",[],null,null,null,null,null)),(t()(),eo(51,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),eo(52,0,null,null,0,"th",[["class","blank"]],null,null,null,null,null)),(t()(),eo(53,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["a"])),(t()(),eo(55,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["i"])),(t()(),eo(57,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["u"])),(t()(),eo(59,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["e"])),(t()(),eo(61,0,null,null,1,"th",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["o"])),(t()(),to(16777216,null,null,2,null,zv)),hi(64,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),di(0,aa,[Nn]),(t()(),eo(66,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),yo(-1,null,["Ch\u014donpu / Verl\xe4ngerungsstrich \u300c\u30fc\u300d"])),(t()(),eo(68,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Wird nur bei Katakana verwendet und verl\xe4ngert den Selbstlaut"]))],(function(t,e){var n=e.component;t(e,3,0,n.showSubmenu),t(e,20,0,Jn(e,20,0,Jr(e,21).transform(n.syllables))),t(e,40,0,Jn(e,40,0,Jr(e,41).transform(n.dakuten))),t(e,43,0,"katakana"==n.display),t(e,45,0,"hiragana"==n.display),t(e,64,0,Jn(e,64,0,Jr(e,65).transform(n.handakuten)))}),(function(t,e){var n=e.component;t(e,0,0,n.showSubmenu,!n.showSubmenu),t(e,4,0,xr(1,"content ",n.font,""))}))}function Bv(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-overview",[],null,null,null,Hv,Iv)),hi(1,114688,null,0,Sv,[Tm],null,null)],(function(t,e){t(e,1,0)}),null)}var Wv=qr("app-overview",Sv,Bv,{},{},[]);class Gv{constructor(t){this.fontSwitcher=t,this.modeForm=new um({fontMode:new sm(this.fontSwitcher.currentStyle)})}get fontMode(){return this.modeForm.get("fontMode")}ngOnInit(){this.formSub=this.modeForm.valueChanges.subscribe(()=>{this.fontSwitcher.updateFontStyle(this.fontMode.value,!0)}),this.updateSub=this.fontSwitcher.onChange.subscribe(t=>{this.fontMode.setValue(t)})}ngOnDestroy(){this.updateSub&&this.updateSub.unsubscribe(),this.formSub&&this.formSub.unsubscribe()}}var Kv=er({encapsulation:0,styles:[[""]],data:{}});function $v(t){return wo(0,[(t()(),eo(0,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,2).onReset()&&r),r}),null,null)),hi(1,16384,null,0,hm,[],null,null),hi(2,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(4,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(5,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Anzeige"])),(t()(),eo(7,0,null,null,10,"label",[["class","container serif"]],null,null,null,null,null)),(t()(),yo(-1,null,["Serif "])),(t()(),eo(9,0,null,null,6,"input",[["formControlName","fontMode"],["name","fontMode"],["type","radio"],["value","serif"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,10)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,10).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,10)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,10)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,11).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,11).onTouched()&&r),r}),null,null)),hi(10,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(11,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(13,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(15,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(16,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(17,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(18,0,null,null,10,"label",[["class","container sans-serif"]],null,null,null,null,null)),(t()(),yo(-1,null,["Sans-Serif "])),(t()(),eo(20,0,null,null,6,"input",[["formControlName","fontMode"],["name","fontMode"],["type","radio"],["value","sans-serif"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,21)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,21).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,21)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,21)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,22).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,22).onTouched()&&r),r}),null,null)),hi(21,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(22,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(24,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(26,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(27,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(28,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null))],(function(t,e){t(e,2,0,e.component.modeForm),t(e,11,0,"fontMode","fontMode","serif"),t(e,13,0,"fontMode"),t(e,22,0,"fontMode","fontMode","sans-serif"),t(e,24,0,"fontMode")}),(function(t,e){t(e,0,0,Jr(e,4).ngClassUntouched,Jr(e,4).ngClassTouched,Jr(e,4).ngClassPristine,Jr(e,4).ngClassDirty,Jr(e,4).ngClassValid,Jr(e,4).ngClassInvalid,Jr(e,4).ngClassPending),t(e,9,0,Jr(e,15).ngClassUntouched,Jr(e,15).ngClassTouched,Jr(e,15).ngClassPristine,Jr(e,15).ngClassDirty,Jr(e,15).ngClassValid,Jr(e,15).ngClassInvalid,Jr(e,15).ngClassPending),t(e,20,0,Jr(e,26).ngClassUntouched,Jr(e,26).ngClassTouched,Jr(e,26).ngClassPristine,Jr(e,26).ngClassDirty,Jr(e,26).ngClassValid,Jr(e,26).ngClassInvalid,Jr(e,26).ngClassPending)}))}class Qv{constructor(t,e,n){this.route=t,this.deckService=e,this.fontSwitcher=n,this.displayError=!1,this.displayStatistic=!1,this.showSubmenu=!1,this.numberAnswers=3,this.modeForm=new um({left:new sm("japanese"),right:new sm("german"),rubi:new sm("")}),this.enableHiragana=!1,this.enableKatakana=!1,this.enableKanji=!1,this.peekRubi=!1}get questionMode(){return this.modeForm.get("left").value}get answerMode(){return this.modeForm.get("right").value}get rubi(){return this.modeForm.get("rubi").value}get scoredWords(){return this.deck.sort((t,e)=>t.hits-t.misses>e.hits-e.misses?-1:t.hits-t.misses<e.hits-e.misses?1:0)}ngOnInit(){this.layout()}toggleStatistic(){this.displayStatistic=!this.displayStatistic}reset(){this.displayError=!1,this.layout()}layout(){this.showCard=this.deck[0];do{this.deckService.shuffle(this.deck)}while(this.showCard.uid==this.deckService.draw(this.deck,1)[0].uid&&this.deck.length>1);this.showCard=this.deckService.draw(this.deck,1)[0],this.answers=this.deckService.draw(this.deck.filter(t=>t.uid!==this.showCard.uid),this.numberAnswers),this.answers.push(this.showCard),this.answers=this.deckService.shuffle(this.answers)}answerSelect(t,e){t.uid==e.uid?(this.deckService.totalHits++,this.displayError||t.hits++,this.displayError=!1,this.layout()):this.displayError||(t.misses++,this.deckService.totalMisses++,this.displayError=!0)}updateNumberAnswers(t){this.numberAnswers=t,this.layout()}}var Yv=er({encapsulation:0,styles:[["p[_ngcontent-%COMP%]{font-family:Lato}.word-quiz[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;height:100%;width:100%}.error[_ngcontent-%COMP%]{color:red!important}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-content:center;width:100%;padding:20px 10px 10px;text-align:center}@media screen and (max-width:799px){.card[_ngcontent-%COMP%]{font-size:40px}}@media screen and (min-width:800px){.card[_ngcontent-%COMP%]{font-size:100px}}.answers[_ngcontent-%COMP%]{padding-bottom:20px;width:100%;align-self:flex-end;display:flex;flex-wrap:wrap;flex-direction:row;justify-content:center;align-items:flex-end;align-content:flex-end}.answer[_ngcontent-%COMP%]{min-width:250px;min-height:30px;padding:5px;text-align:center;background-color:teal;margin:6px;transition:background-color .3s ease;border-radius:4px}@media screen and (max-width:799px){.answer[_ngcontent-%COMP%]{font-size:3vh;width:100%}}@media screen and (min-width:800px){.answer[_ngcontent-%COMP%]{font-size:20px}}@media (hover:hover){.answer[_ngcontent-%COMP%]:hover{background-color:#006464}}.statistic[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.stat-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-flow:row wrap}.stat[_ngcontent-%COMP%]{text-align:left;width:130px;padding:5px;margin:1px}.teaser2[_ngcontent-%COMP%]{right:80px}"]],data:{}});function Zv(t){return wo(0,[(t()(),eo(0,0,null,null,107,"div",[["class","menu"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Anzeige"])),(t()(),eo(3,0,null,null,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,5).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,5).onReset()&&r),r}),null,null)),hi(4,16384,null,0,hm,[],null,null),hi(5,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(7,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(8,0,null,null,9,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Ruby (\u30eb\u30d3) "])),(t()(),eo(10,0,null,null,5,"input",[["formControlName","rubi"],["name","rubi"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,11).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,11).onTouched()&&r),r}),null,null)),hi(11,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(13,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(15,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(16,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(17,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(18,0,null,null,1,"app-font-switcher",[],null,null,null,$v,Kv)),hi(19,245760,null,0,Gv,[$m],null,null),(t()(),eo(20,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Fragen"])),(t()(),eo(22,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,24).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,24).onReset()&&r),r}),null,null)),hi(23,16384,null,0,hm,[],null,null),hi(24,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(26,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(27,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Deutsch "])),(t()(),eo(29,0,null,null,6,"input",[["formControlName","left"],["name","left"],["type","radio"],["value","german"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,30)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,30).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,30)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,30)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,31).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,31).onTouched()&&r),r}),null,null)),hi(30,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(31,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(33,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(35,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(36,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(37,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(38,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Japanisch "])),(t()(),eo(40,0,null,null,6,"input",[["formControlName","left"],["name","left"],["type","radio"],["value","japanese"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,41)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,41).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,41)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,41)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,42).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,42).onTouched()&&r),r}),null,null)),hi(41,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(42,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(44,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(46,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(47,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(48,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(49,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.modeForm.get("rubi").setValue()&&r),r}),null,null)),(t()(),yo(-1,null,["Lesung "])),(t()(),eo(51,0,null,null,6,"input",[["formControlName","left"],["name","left"],["type","radio"],["value","reading"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,52)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,52).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,52)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,52)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,53).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,53).onTouched()&&r),r}),null,null)),hi(52,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(53,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(55,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(57,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(58,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(59,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(60,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Antworten"])),(t()(),eo(62,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,64).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,64).onReset()&&r),r}),null,null)),hi(63,16384,null,0,hm,[],null,null),hi(64,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(66,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(67,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Deutsch "])),(t()(),eo(69,0,null,null,6,"input",[["formControlName","right"],["name","right"],["type","radio"],["value","german"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,70)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,70).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,70)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,70)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,71).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,71).onTouched()&&r),r}),null,null)),hi(70,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(71,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(73,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(75,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(76,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(77,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(78,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Japanisch "])),(t()(),eo(80,0,null,null,6,"input",[["formControlName","right"],["name","right"],["type","radio"],["value","japanese"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,81)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,81).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,81)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,81)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,82).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,82).onTouched()&&r),r}),null,null)),hi(81,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(82,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(84,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(86,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(87,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(88,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(89,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.modeForm.get("rubi").setValue()&&r),r}),null,null)),(t()(),yo(-1,null,["Lesung "])),(t()(),eo(91,0,null,null,6,"input",[["formControlName","right"],["name","right"],["type","radio"],["value","reading"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,92)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,92).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,92)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,92)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,93).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,93).onTouched()&&r),r}),null,null)),hi(92,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(93,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(95,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(97,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(98,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(99,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(100,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Schwierigkeitsgrad"])),(t()(),eo(102,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.updateNumberAnswers(3)&&r),r}),null,null)),(t()(),yo(-1,null,["Leicht"])),(t()(),eo(104,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.updateNumberAnswers(5)&&r),r}),null,null)),(t()(),yo(-1,null,["Mittel"])),(t()(),eo(106,0,null,null,1,"a",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.updateNumberAnswers(8)&&r),r}),null,null)),(t()(),yo(-1,null,["Schwer"]))],(function(t,e){var n=e.component;t(e,5,0,n.modeForm),t(e,13,0,"rubi"),t(e,19,0),t(e,24,0,n.modeForm),t(e,31,0,"left","left","german"),t(e,33,0,"left"),t(e,42,0,"left","left","japanese"),t(e,44,0,"left"),t(e,53,0,"left","left","reading"),t(e,55,0,"left"),t(e,64,0,n.modeForm),t(e,71,0,"right","right","german"),t(e,73,0,"right"),t(e,82,0,"right","right","japanese"),t(e,84,0,"right"),t(e,93,0,"right","right","reading"),t(e,95,0,"right")}),(function(t,e){var n=e.component;t(e,3,0,Jr(e,7).ngClassUntouched,Jr(e,7).ngClassTouched,Jr(e,7).ngClassPristine,Jr(e,7).ngClassDirty,Jr(e,7).ngClassValid,Jr(e,7).ngClassInvalid,Jr(e,7).ngClassPending),t(e,8,0,"reading"===n.answerMode||"reading"===n.questionMode),t(e,10,0,Jr(e,15).ngClassUntouched,Jr(e,15).ngClassTouched,Jr(e,15).ngClassPristine,Jr(e,15).ngClassDirty,Jr(e,15).ngClassValid,Jr(e,15).ngClassInvalid,Jr(e,15).ngClassPending),t(e,22,0,Jr(e,26).ngClassUntouched,Jr(e,26).ngClassTouched,Jr(e,26).ngClassPristine,Jr(e,26).ngClassDirty,Jr(e,26).ngClassValid,Jr(e,26).ngClassInvalid,Jr(e,26).ngClassPending),t(e,27,0,"german"===n.answerMode),t(e,29,0,Jr(e,35).ngClassUntouched,Jr(e,35).ngClassTouched,Jr(e,35).ngClassPristine,Jr(e,35).ngClassDirty,Jr(e,35).ngClassValid,Jr(e,35).ngClassInvalid,Jr(e,35).ngClassPending),t(e,38,0,"japanese"===n.answerMode),t(e,40,0,Jr(e,46).ngClassUntouched,Jr(e,46).ngClassTouched,Jr(e,46).ngClassPristine,Jr(e,46).ngClassDirty,Jr(e,46).ngClassValid,Jr(e,46).ngClassInvalid,Jr(e,46).ngClassPending),t(e,49,0,"reading"===n.answerMode),t(e,51,0,Jr(e,57).ngClassUntouched,Jr(e,57).ngClassTouched,Jr(e,57).ngClassPristine,Jr(e,57).ngClassDirty,Jr(e,57).ngClassValid,Jr(e,57).ngClassInvalid,Jr(e,57).ngClassPending),t(e,62,0,Jr(e,66).ngClassUntouched,Jr(e,66).ngClassTouched,Jr(e,66).ngClassPristine,Jr(e,66).ngClassDirty,Jr(e,66).ngClassValid,Jr(e,66).ngClassInvalid,Jr(e,66).ngClassPending),t(e,67,0,"german"===n.questionMode),t(e,69,0,Jr(e,75).ngClassUntouched,Jr(e,75).ngClassTouched,Jr(e,75).ngClassPristine,Jr(e,75).ngClassDirty,Jr(e,75).ngClassValid,Jr(e,75).ngClassInvalid,Jr(e,75).ngClassPending),t(e,78,0,"japanese"===n.questionMode),t(e,80,0,Jr(e,86).ngClassUntouched,Jr(e,86).ngClassTouched,Jr(e,86).ngClassPristine,Jr(e,86).ngClassDirty,Jr(e,86).ngClassValid,Jr(e,86).ngClassInvalid,Jr(e,86).ngClassPending),t(e,89,0,"reading"===n.questionMode),t(e,91,0,Jr(e,97).ngClassUntouched,Jr(e,97).ngClassTouched,Jr(e,97).ngClassPristine,Jr(e,97).ngClassDirty,Jr(e,97).ngClassValid,Jr(e,97).ngClassInvalid,Jr(e,97).ngClassPending),t(e,102,0,3==n.numberAnswers),t(e,104,0,5==n.numberAnswers),t(e,106,0,8==n.numberAnswers)}))}function Jv(t){return wo(0,[(t()(),eo(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,6,"div",[["class","stat"]],[[2,"error",null],[2,"muted",null]],null,null,null,null)),(t()(),yo(2,null,[" "," "])),(t()(),eo(3,0,null,null,1,"span",[],[[2,"hits",null]],null,null,null,null)),(t()(),yo(4,null,["",""])),(t()(),yo(-1,null,[" / "])),(t()(),eo(6,0,null,null,1,"span",[],[[2,"misses",null]],null,null,null,null)),(t()(),yo(7,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit.misses>e.context.$implicit.hits,0==e.context.$implicit.misses&&0==e.context.$implicit.hits),t(e,2,0,e.context.$implicit.japanese),t(e,3,0,e.context.$implicit.hits>0),t(e,4,0,e.context.$implicit.hits),t(e,6,0,e.context.$implicit.misses>0),t(e,7,0,e.context.$implicit.misses)}))}function Xv(t){return wo(0,[(t()(),eo(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,3,"ruby",[],null,null,null,null,null)),(t()(),yo(2,null,["",""])),(t()(),eo(3,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(4,null,["",""]))],null,(function(t,e){var n=e.component;t(e,2,0,n.showCard.japanese),t(e,4,0,n.showCard.getReading())}))}function ty(t){return wo(0,[(t()(),yo(0,null,[" "," - "," (",") "]))],null,(function(t,e){var n=e.component;t(e,0,0,n.showCard.japanese,n.showCard.japanese_readings.join(", "),n.showCard.chinese_readings.join(", "))}))}function ey(t){return wo(0,[(t()(),eo(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Xv)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["multiple",2]],null,0,null,ty))],(function(t,e){t(e,2,0,e.component.showCard.hasOnlyOneReading(),Jr(e,3))}),null)}function ny(t){return wo(0,[(t()(),yo(0,null,[" "," "]))],null,(function(t,e){t(e,0,0,e.component.showCard.japanese)}))}function ry(t){return wo(0,[(t()(),eo(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,ey)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["simple",2]],null,0,null,ny))],(function(t,e){var n=e.component;t(e,2,0,n.peekRubi||n.rubi,Jr(e,3))}),null)}function iy(t){return wo(0,[(t()(),yo(0,null,[" "," "]))],null,(function(t,e){t(e,0,0,e.component.showCard.german.join(", "))}))}function ly(t){return wo(0,[(t()(),to(0,null,null,0,null,iy))],null,null)}function oy(t){return wo(0,[(t()(),yo(0,null,[" "," (",") "]))],null,(function(t,e){var n=e.component;t(e,0,0,n.showCard.japanese_readings.join(", "),n.showCard.chinese_readings.join(", "))}))}function sy(t){return wo(0,[(t()(),to(0,null,null,0,null,oy))],null,null)}function uy(t){return wo(0,[(t()(),yo(0,null,[" "," "]))],null,(function(t,e){t(e,0,0,e.component.showCard.japanese)}))}function ay(t){return wo(0,[(t()(),to(0,null,null,0,null,uy))],null,null)}function cy(t){return wo(0,[(t()(),eo(0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,ly)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,sy)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,ay)),hi(6,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.showCard.hasGerman()),t(e,4,0,!n.showCard.hasGerman()&&"japanese"!==n.answerMode),t(e,6,0,!n.showCard.hasGerman()&&"reading"!==n.answerMode)}),null)}function hy(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function dy(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function py(t){return wo(0,[(t()(),eo(0,0,null,null,5,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,4,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,hy)),hi(3,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(16777216,null,null,1,null,dy)),hi(5,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.showCard.japanese_readings),t(e,5,0,n.showCard.chinese_readings)}),null)}function fy(t){return wo(0,[(t()(),eo(0,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(1,null,[" ",""]))],null,(function(t,e){t(e,1,0,e.parent.parent.parent.context.$implicit.japanese_readings[0])}))}function gy(t){return wo(0,[(t()(),eo(0,0,null,null,3,"ruby",[],null,null,null,null,null)),(t()(),yo(1,null,[" ",""])),(t()(),to(16777216,null,null,1,null,fy)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.rubi&&"japanese"==n.questionMode||n.peekRubi&&"japanese"==n.questionMode&&e.parent.parent.context.$implicit.japanese)}),(function(t,e){t(e,1,0,e.parent.parent.context.$implicit.japanese)}))}function my(t){return wo(0,[(t()(),eo(0,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(1,null,[" ",""]))],null,(function(t,e){t(e,1,0,e.parent.parent.parent.context.$implicit.chinese_readings[0])}))}function vy(t){return wo(0,[(t()(),eo(0,0,null,null,3,"ruby",[],null,null,null,null,null)),(t()(),yo(1,null,[" ",""])),(t()(),to(16777216,null,null,1,null,my)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.rubi&&"japanese"==n.questionMode||n.peekRubi&&"japanese"==n.questionMode&&e.parent.parent.context.$implicit.japanese)}),(function(t,e){t(e,1,0,e.parent.parent.context.$implicit.japanese)}))}function yy(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.parent.parent.context.$implicit.japanese)}))}function _y(t){return wo(0,[(t()(),eo(0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,gy)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,vy)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,yy)),hi(6,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){t(e,2,0,e.parent.context.$implicit.japanese_readings.length),t(e,4,0,!e.parent.context.$implicit.japanese_readings.length&&e.parent.context.$implicit.chinese_readings.length),t(e,6,0,!e.parent.context.$implicit.japanese_readings.length&&!e.parent.context.$implicit.chinese_readings[0])}),null)}function by(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){var n=e.parent.parent.context.$implicit.german.join(", ");t(e,1,0,n)}))}function wy(t){return wo(0,[(t()(),yo(0,null,[" "," (",") "]))],null,(function(t,e){var n=e.parent.parent.context.$implicit.japanese_readings.join(", "),r=e.parent.parent.context.$implicit.chinese_readings.join(", ");t(e,0,0,n,r)}))}function ky(t){return wo(0,[(t()(),eo(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,by)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["reading",2]],null,0,null,wy))],(function(t,e){var n=e.parent.context.$implicit.hasGerman();t(e,2,0,n,Jr(e,3))}),null)}function Cy(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" ",","," "]))],null,(function(t,e){var n=e.parent.parent.context.$implicit.japanese_readings.join(", "),r=e.parent.parent.context.$implicit.chinese_readings.join(", ");t(e,1,0,n,r)}))}function Ey(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){var n=e.parent.parent.context.$implicit.japanese_readings.join(", ");t(e,1,0,n)}))}function Ty(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){var n=e.parent.parent.context.$implicit.chinese_readings.join(", ");t(e,1,0,n)}))}function Sy(t){return wo(0,[(t()(),eo(0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Cy)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Ey)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Ty)),hi(6,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.parent.context.$implicit.hasJapReadings()&&e.parent.context.$implicit.hasChineseReadings();t(e,2,0,n);var r=e.parent.context.$implicit.hasJapReadings()&&!e.parent.context.$implicit.hasChineseReadings();t(e,4,0,r);var i=!e.parent.context.$implicit.hasJapReadings()&&e.parent.context.$implicit.hasChineseReadings();t(e,6,0,i)}),null)}function Iy(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","answer"]],[[2,"error",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.answerSelect(i.showCard,t.context.$implicit)&&r),r}),null,null)),(t()(),eo(1,0,null,null,7,null,null,null,null,null,null,null)),hi(2,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,_y)),hi(4,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,ky)),hi(6,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Sy)),hi(8,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){t(e,2,0,e.component.answerMode),t(e,4,0,"japanese"),t(e,6,0,"german"),t(e,8,0,"reading")}),(function(t,e){var n=e.component;t(e,0,0,n.displayError&&e.context.$implicit.uid!==n.showCard.uid)}))}function xy(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[["class","submenu2 no-print"],["title","Einstellungen Wortquiz"]],[[2,"open",null],[2,"closed-menu",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showSubmenu=!i.showSubmenu)&&r),r}),null,null)),(t()(),yo(-1,null,["\u22ee"])),(t()(),to(16777216,null,null,1,null,Zv)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(4,0,null,null,14,"app-modal",[],null,[["window","resize"]],(function(t,e,n){var r=!0;return"window:resize"===e&&(r=!1!==Jr(t,5).onResize(n)&&r),r}),Em,Cm)),hi(5,4308992,null,0,km,[],null,null),(t()(),eo(6,0,null,0,5,"div",[["class","main-content"]],null,null,null,null,null)),(t()(),eo(7,0,null,null,2,"div",[["class","stat-grid"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Jv)),hi(9,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(10,0,null,null,1,"a",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.reset()&&r),r}),null,null)),(t()(),yo(-1,null,["Zur\xfccksetzen"])),(t()(),eo(12,0,null,1,6,"div",[["class","teaser teaser2"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Hits: "])),(t()(),eo(14,0,null,null,1,"span",[["class","hits"]],null,null,null,null,null)),(t()(),yo(15,null,["",""])),(t()(),yo(-1,null,[" Misses: "])),(t()(),eo(17,0,null,null,1,"span",[["class","misses"]],null,null,null,null,null)),(t()(),yo(18,null,["",""])),(t()(),eo(19,0,null,null,12,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),eo(20,0,null,null,8,"div",[["class","card"]],null,[[null,"mousedown"],[null,"mouseup"],[null,"touchstart"],[null,"touchend"]],(function(t,e,n){var r=!0,i=t.component;return"mousedown"===e&&(r=0!=(i.peekRubi=!0)&&r),"mouseup"===e&&(r=0!=(i.peekRubi=!1)&&r),"touchstart"===e&&(r=0!=(i.peekRubi=!0)&&r),"touchend"===e&&(r=0!=(i.peekRubi=!1)&&r),r}),null,null)),(t()(),eo(21,0,null,null,7,null,null,null,null,null,null,null)),hi(22,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,ry)),hi(24,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,cy)),hi(26,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,py)),hi(28,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),eo(29,0,null,null,2,"div",[["class","answers"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Iy)),hi(31,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.showSubmenu),t(e,5,0),t(e,9,0,n.scoredWords),t(e,22,0,n.questionMode),t(e,24,0,"japanese"),t(e,26,0,"german"),t(e,28,0,"reading"),t(e,31,0,n.answers)}),(function(t,e){var n=e.component;t(e,0,0,n.showSubmenu,!n.showSubmenu),t(e,15,0,n.deckService.totalHits),t(e,18,0,n.deckService.totalMisses),t(e,19,0,xr(1,"word-quiz ",n.fontSwitcher.currentStyle,""))}))}function Ay(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-quiz",[],null,null,null,xy,Yv)),hi(1,114688,null,0,Qv,[cp,lg,$m],null,null)],(function(t,e){t(e,1,0)}),null)}var Ny=qr("app-word-quiz",Qv,Ay,{deck:"deck"},{},[]);class Py{constructor(t,e){this.syllablesService=t,this.fontSwitcherService=e,this.preparedDeck=[],this.show=0,this.characterSet=[],this.showSubmenu=!1}ngOnInit(){this.prepareDeck(),this.layout()}prepareDeck(){this.deck.forEach(t=>{t.isKanji()||this.preparedDeck.push({question:t.getGerman(),hints:[t.getReading()],answer:t.japanese}),t.examples.forEach(t=>{this.preparedDeck.push({question:t.german,hints:[t.reading],answer:t.japanese})})}),this.characterSet=this.syllablesService.createCharsetFromFlashCards(this.preparedDeck,"answer"),this.preparedDeck=this.syllablesService.shuffle(this.preparedDeck)}layout(){this.buildWord=new Map,this.buildWordString="",this.currentWord=this.preparedDeck[this.show];let t=24;t>this.characterSet.length&&(t=this.characterSet.length),this.currentGrid=this.syllablesService.getCardsContaining(this.currentWord.answer,t-this.currentWord.answer.length,this.characterSet)}ngOnDestroy(){}selectedChar(t,e){this.buildWordString="",this.buildWord.get(t)?(this.buildWord.delete(t),e.removeAttribute("style"),e.classList.remove("card-selected")):(this.updateCardPosition(e),this.buildWord.set(t,this.currentGrid[t])),this.buildWord.forEach((t,e)=>{this.buildWordString+=t}),this.buildWordString==this.currentWord.answer&&setTimeout(()=>{const t=document.getElementsByClassName("gridpart");for(var e=0;e<t.length;e++)t[e].removeAttribute("style");this.show>=this.deck.length-1?this.show=0:this.show++,this.layout()},2e3)}updateCardPosition(t,e){const n=document.getElementsByClassName("answer")[0];var r=getComputedStyle(t).transform,i=r.match(/^matrix3d\((.+)\)$/);if(i)return parseFloat(i[1].split(", ")[13]);const l=(i=r.match(/^matrix\((.+)\)$/))?parseFloat(i[1].split(", ")[4]):0,o=i?parseFloat(i[1].split(", ")[5]):0;let s=n.getBoundingClientRect().top-t.getBoundingClientRect().top,u=t.getBoundingClientRect().left-n.getBoundingClientRect().left;s+=o,u+=l,u-=e?(2+t.getBoundingClientRect().width)*e:(2+t.getBoundingClientRect().width)*this.buildWord.size,u*=-1,t.classList.add("card-selected"),t.style.transform="translate("+u+"px, "+s+"px)"}updateCardPositions(){let t=document.getElementsByClassName("gridpart"),e=0;this.buildWord.forEach((n,r)=>{this.updateCardPosition(t[r],e),e++})}skipWord(){let t=document.getElementsByClassName("gridpart");for(var e=0;e<t.length;e++)t[e].removeAttribute("style");let n=this.currentWord.answer.split(""),r=0;for(;r<n.length;)this.currentGrid.forEach((e,i)=>{e==n[r]&&r<n.length&&(r++,this.selectedChar(i,t[i]))})}updateFilter(){this.layout()}}var Oy=er({encapsulation:0,styles:[[".detail[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.detail-content[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:170px;width:100%;margin-top:15px;margin-bottom:15px}@media screen and (min-width:439px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:235px}}@media screen and (min-width:600px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:280px}}@media screen and (min-width:767px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:500px}}@media screen and (min-width:1000px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:750px}}@media screen and (min-width:1300px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:1000px}}@media screen and (min-width:1700px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:1250px}}.word-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.word[_ngcontent-%COMP%]{text-align:center;padding-top:10px;font-size:5vw;height:15%}@media screen and (max-width:768px){.word[_ngcontent-%COMP%]{font-size:35px}}.word[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{display:block}.word[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{display:block;font-size:20px}.success[_ngcontent-%COMP%]{color:#00c864}.grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:flex-end;align-content:flex-end;width:100%;padding-bottom:15px}.gridpart[_ngcontent-%COMP%]{padding:12px;margin:1px;font-size:22px;background-color:teal;transition:all .5s ease 0s;border-radius:4px;max-height:35px;min-height:33px;min-width:22px;text-align:center}.answer[_ngcontent-%COMP%]{width:80%;margin:auto;height:100px}"]],data:{}});function Dy(t){return wo(0,[(t()(),eo(0,0,null,null,2,"div",[["class","menu"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"app-font-switcher",[],null,null,null,$v,Kv)),hi(2,245760,null,0,Gv,[$m],null,null)],(function(t,e){t(e,2,0)}),null)}function Ry(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","gridpart"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.selectedChar(t.context.index,n.target)&&r),r}),null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function My(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[["class","submenu2 no-print"],["title","Einstellungen Lernmodus"]],[[2,"open",null],[2,"closed-menu",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showSubmenu=!i.showSubmenu)&&r),r}),null,null)),(t()(),yo(-1,null,["\u22ee"])),(t()(),to(16777216,null,null,1,null,Dy)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(4,0,null,null,9,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),eo(5,0,null,null,4,"div",[["class","word"]],[[2,"success",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.skipWord()&&r),r}),null,null)),(t()(),eo(6,0,null,null,1,"span",[["class","question"]],null,null,null,null,null)),(t()(),yo(7,null,[" "," "])),(t()(),eo(8,0,null,null,1,"span",[["class","hint muted"]],null,null,null,null,null)),(t()(),yo(9,null,[" "," "])),(t()(),eo(10,0,null,null,0,"div",[["class","answer"]],null,null,null,null,null)),(t()(),eo(11,0,null,null,2,"div",[["class","grid"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Ry)),hi(13,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.showSubmenu),t(e,13,0,n.currentGrid)}),(function(t,e){var n=e.component;t(e,0,0,n.showSubmenu,!n.showSubmenu),t(e,4,0,xr(1,"word-grid ",n.fontSwitcherService.currentStyle,"")),t(e,5,0,n.buildWordString==n.currentWord.answer),t(e,7,0,n.currentWord.question),t(e,9,0,n.currentWord.hints.join(", "))}))}function Ly(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-grid",[],null,null,null,My,Oy)),hi(1,245760,null,0,Py,[Tm,$m],null,null)],(function(t,e){t(e,1,0)}),null)}var Fy=qr("app-word-grid",Py,Ly,{deck:"deck"},{},[]);class jy{constructor(){}ngOnInit(){}}var Uy=er({encapsulation:0,styles:[[".about[_ngcontent-%COMP%]{padding:20px 0;font-family:Arial,Helvetica,sans-serif}a[_ngcontent-%COMP%]{color:#006464;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}h4[_ngcontent-%COMP%]{margin-bottom:5px}p[_ngcontent-%COMP%]{margin-top:5px}ul[_ngcontent-%COMP%]{list-style:circle;margin-left:10px}"]],data:{}});function Vy(t){return wo(0,[(t()(),eo(0,0,null,null,275,"div",[["class","content"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,274,"div",[["class","about"]],null,null,null,null,null)),(t()(),eo(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),yo(-1,null,["Vokabeldojo"])),(t()(),eo(4,0,null,null,6,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["F\xfcr den Japanischkurs in der "])),(t()(),eo(6,0,null,null,1,"a",[["href","www.japanischlernen.at"]],null,null,null,null,null)),(t()(),yo(-1,null,["Nihongo Gakuen"])),(t()(),yo(-1,null,[" als Lernhilfe erdacht und kreiert von "])),(t()(),eo(9,0,null,null,1,"a",[["href","mailto:schmidt91robin@icloud.com"]],null,null,null,null,null)),(t()(),yo(-1,null,["Robin Schmidt"])),(t()(),eo(11,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),yo(-1,null,["Index"])),(t()(),eo(13,0,null,null,114,"ol",[],null,null,null,null,null)),(t()(),eo(14,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(15,0,null,null,3,"a",[["fragment","key"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,16).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(16,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(17,1),(t()(),yo(-1,null,["Legende"])),(t()(),eo(19,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(20,0,null,null,3,"a",[["fragment","functions"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(21,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(22,1),(t()(),yo(-1,null,["Funktionen"])),(t()(),eo(24,0,null,null,35,"li",[],null,null,null,null,null)),(t()(),eo(25,0,null,null,3,"a",[["fragment","login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,26).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(26,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(27,1),(t()(),yo(-1,null,["Login"])),(t()(),eo(29,0,null,null,30,"ul",[],null,null,null,null,null)),(t()(),eo(30,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(31,0,null,null,3,"a",[["fragment","register"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,32).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(32,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(33,1),(t()(),yo(-1,null,["Account erstellen/anmelden"])),(t()(),eo(35,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(36,0,null,null,3,"a",[["fragment","logout"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,37).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(37,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(38,1),(t()(),yo(-1,null,["Abmelden"])),(t()(),eo(40,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(41,0,null,null,3,"a",[["fragment","decks-create"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,42).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(42,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(43,1),(t()(),yo(-1,null,["Deck anlegen"])),(t()(),eo(45,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(46,0,null,null,3,"a",[["fragment","decks-edit"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,47).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(47,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(48,1),(t()(),yo(-1,null,["Deck bearbeiten/l\xf6schen"])),(t()(),eo(50,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(51,0,null,null,3,"a",[["fragment","words-create"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,52).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(52,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(53,1),(t()(),yo(-1,null,["Lernkarten (Vokabeln) anlegen"])),(t()(),eo(55,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(56,0,null,null,3,"a",[["fragment","words-edit"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,57).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(57,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(58,1),(t()(),yo(-1,null,["Lernkarten bearbeiten/l\xf6schen"])),(t()(),eo(60,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(61,0,null,null,3,"a",[["fragment","dictionary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,62).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(62,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(63,1),(t()(),yo(-1,null,["W\xf6rterbuch"])),(t()(),eo(65,0,null,null,20,"li",[],null,null,null,null,null)),(t()(),eo(66,0,null,null,3,"a",[["fragment","syllables"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,67).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(67,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(68,1),(t()(),yo(-1,null,["Silben"])),(t()(),eo(70,0,null,null,15,"ul",[],null,null,null,null,null)),(t()(),eo(71,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(72,0,null,null,3,"a",[["fragment","syllables-quizmode"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,73).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(73,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(74,1),(t()(),yo(-1,null,["Quizmodus"])),(t()(),eo(76,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(77,0,null,null,3,"a",[["fragment","syllables-learnmode"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,78).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(78,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(79,1),(t()(),yo(-1,null,["Lernmodus"])),(t()(),eo(81,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(82,0,null,null,3,"a",[["fragment","syllables-table"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,83).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(83,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(84,1),(t()(),yo(-1,null,["Tabelle"])),(t()(),eo(86,0,null,null,10,"li",[],null,null,null,null,null)),(t()(),eo(87,0,null,null,3,"a",[["fragment","words"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,88).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(88,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(89,1),(t()(),yo(-1,null,["Vokabeln"])),(t()(),eo(91,0,null,null,5,"ul",[],null,null,null,null,null)),(t()(),eo(92,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(93,0,null,null,3,"a",[["fragment","public-decks"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,94).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(94,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(95,1),(t()(),yo(-1,null,["Alle Decks"])),(t()(),eo(97,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(98,0,null,null,3,"a",[["fragment","modes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,99).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(99,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(100,1),(t()(),yo(-1,null,["Lernmodi"])),(t()(),eo(102,0,null,null,20,"ul",[],null,null,null,null,null)),(t()(),eo(103,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(104,0,null,null,3,"a",[["fragment","words-quiz"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,105).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(105,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(106,1),(t()(),yo(-1,null,["Quiz"])),(t()(),eo(108,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(109,0,null,null,3,"a",[["fragment","words-grid"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,110).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(110,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(111,1),(t()(),yo(-1,null,["Buchstabieren"])),(t()(),eo(113,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(114,0,null,null,3,"a",[["fragment","words-learn"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,115).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(115,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(116,1),(t()(),yo(-1,null,["Wiederholen"])),(t()(),eo(118,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(119,0,null,null,3,"a",[["fragment","words-list"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,120).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(120,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(121,1),(t()(),yo(-1,null,["Liste"])),(t()(),eo(123,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),eo(124,0,null,null,3,"a",[["fragment","report-a-bug"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,125).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(125,671744,null,0,Ef,[kf,cp,su],{fragment:[0,"fragment"],routerLink:[1,"routerLink"]},null),go(126,1),(t()(),yo(-1,null,["Fehler melden und weiterentwickeln"])),(t()(),eo(128,0,null,null,1,"h2",[["id","key"]],null,null,null,null,null)),(t()(),yo(-1,null,["Legende"])),(t()(),eo(130,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u2668\ufe0e = Hauptmen\xfc. Deine Quelle f\xfcr Japanisch!"])),(t()(),eo(132,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u270d\ufe0e = Submen\xfc. Hier kannst du Einstellungen oder Aktionen vornehmen und den Modus eines Decks ver\xe4ndern."])),(t()(),eo(134,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u22ee = Funktionen. Hier kannst du f\xfcr den aktuellen Modus Einstellungen vornehmen."])),(t()(),eo(136,0,null,null,1,"h2",[["id","functions"]],null,null,null,null,null)),(t()(),yo(-1,null,["Funktionen"])),(t()(),eo(138,0,null,null,1,"h2",[["id","home"]],null,null,null,null,null)),(t()(),yo(-1,null,["Home"])),(t()(),eo(140,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),eo(141,0,null,null,2,"a",[["routerLink","/home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,142).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(142,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),yo(-1,null,["Dein Hub"])),(t()(),yo(-1,null,[" f\xfcr die wichtigsten Funktionen. Hier findest du deine zuletzt verwendeten Decks, das Handbuch (welches du gerade liest!) und mehr."])),(t()(),eo(145,0,null,null,1,"h2",[["id","login"]],null,null,null,null,null)),(t()(),yo(-1,null,["Login"])),(t()(),eo(147,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Du kannst dich nun "])),(t()(),eo(149,0,null,null,2,"a",[["routerLink","/user"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,150).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(150,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),yo(-1,null,["Registrieren/Einloggen"])),(t()(),yo(-1,null,[" um selbst Lernkarten zusammenzustellen!"])),(t()(),eo(153,0,null,null,1,"h3",[["id","register"]],null,null,null,null,null)),(t()(),yo(-1,null,["Account erstellen/Anmelden"])),(t()(),eo(155,0,null,null,9,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Die Registrierung erfolgt Passwortlos mit einem der "])),(t()(),eo(157,0,null,null,1,"a",[["href","https://de.wikipedia.org/wiki/OAuth"]],null,null,null,null,null)),(t()(),yo(-1,null,["oAuth Provider"])),(t()(),yo(-1,null,[" oder via E-Mail (tba). Gehe einfach zum "])),(t()(),eo(160,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,161).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(161,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(162,1),(t()(),yo(-1,null,["Loginbereich"])),(t()(),yo(-1,null,[" und w\xe4hle deinen gew\xfcnschten Anbieter."])),(t()(),eo(165,0,null,null,1,"h3",[["id","logout"]],null,null,null,null,null)),(t()(),yo(-1,null,["Abmelden"])),(t()(),eo(167,0,null,null,6,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Den Logout findest du im "])),(t()(),eo(169,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,170).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(170,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(171,1),(t()(),yo(-1,null,["Loginbereich"])),(t()(),yo(-1,null,["."])),(t()(),eo(174,0,null,null,1,"h3",[["id","decks-create"]],null,null,null,null,null)),(t()(),yo(-1,null,["Deck anlegen"])),(t()(),eo(176,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Ein Deck ist eine Sammlung von Lernkarten (Vokabeln) mit denen du trainieren kannst. Bevor du Lernkarten (Vokabeln) anlegen kannst musst du ein Deck erstellen."])),(t()(),eo(178,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Um ein Deck zu erstellen, gehe im Hauptmen\xfc auf "Meine Decks" und w\xe4hle "+ Neues Deck". In dem darauf folgenden Formular kannst du einen Namen und Beschreibungstext eingeben. Du kannst diesen Text jederzeit \xe4ndern.'])),(t()(),eo(180,0,null,null,1,"h3",[["id","decks-edit"]],null,null,null,null,null)),(t()(),yo(-1,null,["Deck bearbeiten/L\xf6schen"])),(t()(),eo(182,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Du kannst den Namen und den Beschreibungstext eines Decks \xe4ndern indem zu zur Deckansicht gehst und im Submen\xfc auf "Bearbeiten" klickst. Hier kannst du auch das Deck aus der Datenbank l\xf6schen wenn du es nicht mehr ben\xf6tigst. Beachte dabei dass du auch s\xe4mtliche Lernkarten (Vokabeln), die in diesem Deck enthalten sind, l\xf6schst.'])),(t()(),eo(184,0,null,null,1,"h3",[["id","words-create"]],null,null,null,null,null)),(t()(),yo(-1,null,["Lernkarten (Vokabeln) anlegen"])),(t()(),eo(186,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Nachdem du ein Deck angelegt hast, kannst du beliebig viele Lernkarten (Vokabeln) hinzuf\xfcgen. Gehe dazu in eines deiner Decks -> "\xdcbersicht" und w\xe4hle rechts oben "Neue Karte +" um das Formular einzublenden.'])),(t()(),eo(188,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['In dem eingeblendeten Formular gibt es 5 Felder: Deutsch, Hiragana, Katakana, Kanji sowie Romaji. Trage die entsprechende Schreibweise in die Formularfelder und klicke "Anlegen". Du kannst Felder au\xdfer "Deutsch" auch Leer lassen. Das Formular leert sich und ist sofort bereit f\xfcr den n\xe4chsten Vokabeleintrag. Klicke erneut "Neue Karte +" um das Formular wieder zu verbergen.'])),(t()(),eo(190,0,null,null,1,"h3",[["id","words-edit"]],null,null,null,null,null)),(t()(),yo(-1,null,["Lernkarten (Vokabel) bearbeiten & L\xf6schen"])),(t()(),eo(192,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Du kannst Vokabeln bearbeiten indem du in in der Deckansicht auf "Liste" gehts und das Wort anklickst. In dem Formular kannst du alle Felder editieren und auch die Lernkarte L\xf6schen wenn du sie nicht mehr ben\xf6tigst.'])),(t()(),eo(194,0,null,null,1,"h2",[["id","dictionary"]],null,null,null,null,null)),(t()(),yo(-1,null,["W\xf6rterbuch"])),(t()(),eo(196,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Dein mini japanisch "])),(t()(),eo(198,0,null,null,2,"a",[["routerLink","/word-list"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,199).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(199,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),yo(-1,null,["W\xf6rterbuch"])),(t()(),yo(-1,null,['! Alle Vokabeln auf einen Blick mit integrierter Suche! Die Suche ist eine sogenannte "Fuzzy Search" und gibt dir alle Treffer die die gesuchten Zeichen enthalten. Egal wie viele Zeichen dazwischen sind. Unterst\xfctzt sowohl Kanji, Romaji als auch Hiragana/Katakana Eingaben. '])),(t()(),eo(202,0,null,null,1,"h2",[["id","syllables"]],null,null,null,null,null)),(t()(),yo(-1,null,["Silben"])),(t()(),eo(204,0,null,null,1,"h3",[["id","syllables-quizmode"]],null,null,null,null,null)),(t()(),yo(-1,null,["Quizmodus"])),(t()(),eo(206,0,null,null,7,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,[" Startseite und f\xfcr Anf\xe4nger wohl die wichtigste: Hiragana/Katakana Zeichen lernen! Oben wird die Silbe angezeigt, darunter als "])),(t()(),eo(208,0,null,null,2,"a",[["routerLink","/quiz"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,209).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(209,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),yo(-1,null,["Ratespiel"])),(t()(),yo(-1,null,[' die Antwortm\xf6glichkeiten. Im Submen\xfc \u270d\ufe0e kann die Frage/Antwort Kombination gewechselt werden (a/\u3042, a/\u30a2, etc.), Schwierigkeitsgrad erh\xf6ht oder senkt die m\xf6glichen Antwortm\xf6glichkeiten. Mit "Silbenreihen" lassen sich die Untergruppen an Hiragana/Katakana geziehlt lernen. Keine Auswahl nutzt alle Zeichen. '])),(t()(),eo(212,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),yo(-1,null,["Hits und Misses zeigen den bisherigen Fortschritt an. Antippen zeigt eine genauere Statistik an mit welchen Zeichen man noch schwierigkeiten hat. Erneut antippen verbirgt die Statistik. "])),(t()(),eo(214,0,null,null,1,"h3",[["id","syllables-learnmode"]],null,null,null,null,null)),(t()(),yo(-1,null,["Lernmodus"])),(t()(),eo(216,0,null,null,7,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Im "])),(t()(),eo(218,0,null,null,2,"a",[["routerLink","/learn"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,219).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(219,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),yo(-1,null,["Lernmodus"])),(t()(),yo(-1,null,[" k\xf6nnen ohne Stress die Zeichen wiederholt werden. Antippen zeigt das n\xe4chste Zeichen."])),(t()(),eo(222,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),yo(-1,null,['"Immer zeigen" l\xe4sst die Antwort zeitgleich mit der Silbe erscheinen, "Beim Klick" erst beim erneuten Antippen. "Automatisch" l\xe4sst die Antwort nach zwei Sekunden erscheinen. (tba)'])),(t()(),eo(224,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Modus wechselt zwischen der Anzeige von Hiragana, Katakana und Deutsch (Romaji) in Kombination, "Silbenreihen" erm\xf6glicht gezieltes lernen der einzelnen "Lautreihen".'])),(t()(),eo(226,0,null,null,1,"h3",[["id","syllables-table"]],null,null,null,null,null)),(t()(),yo(-1,null,["Tabelle"])),(t()(),eo(228,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Die "])),(t()(),eo(230,0,null,null,2,"a",[["routerLink","/syllables/overview"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,231).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(231,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),yo(-1,null,["Zeichentabelle"])),(t()(),yo(-1,null,[" aller Laute sowie deren abwandlungen mit Dakuten, Handakuten und weiteren Merkmalen der Japanischen Schrift"])),(t()(),eo(234,0,null,null,1,"h2",[["id","words"]],null,null,null,null,null)),(t()(),yo(-1,null,["Vokabel"])),(t()(),eo(236,0,null,null,1,"h3",[["id","public-decks"]],null,null,null,null,null)),(t()(),yo(-1,null,["Alle Decks"])),(t()(),eo(238,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Hier findest du alle "])),(t()(),eo(240,0,null,null,2,"a",[["routerLink","/decks"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,241).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(241,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),yo(-1,null,["\xf6ffentlichen Decks"])),(t()(),yo(-1,null,[" voll mit Vokabeln (Lernkarten) mit denen du trainieren kannst. Mit klick auf ein Deck kommst du in die \xdcbersicht sowie zu weiteren Lernmodi."])),(t()(),eo(244,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Wenn du einen Account angelegt hast, kannst du \xf6ffentliche Decks kopieren, bearbeiten und erweitern."])),(t()(),eo(246,0,null,null,1,"h2",[["id","modes"]],null,null,null,null,null)),(t()(),yo(-1,null,["Lernmodi"])),(t()(),eo(248,0,null,null,1,"h3",[["id","words-quiz"]],null,null,null,null,null)),(t()(),yo(-1,null,["Vokabelquiz"])),(t()(),eo(250,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Im Quizmodus werden alle Lernkarten gemischt und m\xfcssen mit einer Auswahl unten beantwortet werden. Ist die Antwort richtig, erh\xf6ht sich rechts oben der "Hit" counter, ist sie falsch, erh\xf6ht sich der "Miss" counter und die falschen Antworten werden rot markiert. Weiter geht es mit Auswahl der richtigen Antwort. '])),(t()(),eo(252,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),yo(-1,null,['Modus wechselt zwischen der Anzeige von Hiragana, Katakana und Deutsch (Romaji) in Kombination, "Silbenreihen" erm\xf6glicht gezieltes lernen der einzelnen "Lautreihen".'])),(t()(),eo(254,0,null,null,1,"h3",[["id","words-grid"]],null,null,null,null,null)),(t()(),yo(-1,null,["Buchstabieren"])),(t()(),eo(256,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Trainiere deine Buchstabierk\xfcnste in diesem Modus! Oben wird ein Wort aus der Vokabelliste vorgegeben, unten findest du 24 Hiragana/Katakana um das gesuchte Wort auf japanisch zu buchstabieren. Tippe einfach der Reihe nach die "K\xe4rtchen" an um das Wort zu bilden. Willst du ein Zeichen wieder zur\xfccklegen, tippe es einfach oben erneut an. Ist das Wort korrekt, geht es automatisch weiter mit dem n\xe4chsten. Derzeit wird nur Hiragana/Katakana unterst\xfctzt.'])),(t()(),eo(258,0,null,null,1,"h3",[["id","words-list"]],null,null,null,null,null)),(t()(),yo(-1,null,["Wiederholen"])),(t()(),eo(260,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,['Wort f\xfcr Wort, Lernkarte f\xfcr Lernkarte Vokabeln herunterbeten. Oben wird Kanji / Hiragana / Katakana / Deutsch / Romaji angezeigt, unter der Bruchlinie nach antippen die "L\xf6sung". Nochmaliges antippen bringt dich zum n\xe4chsten Wort bis zum Ende wieder mit dem ersten Wort begonnen wird. Die angezeigte Variante f\xfcr oben und unten k\xf6nnen im Submen\xfc umgestellt werden, ein klick auf "Mischen" ordnet die Reihenfolge der Vokabeln neu.'])),(t()(),eo(262,0,null,null,1,"h3",[["id","words-list"]],null,null,null,null,null)),(t()(),yo(-1,null,["Liste"])),(t()(),eo(264,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Die Liste gibt dir eine durchsuchbare \xdcbersicht \xfcber alle Vokablen in dem ausgew\xe4hlten Deck. Wenn es dein Deck ist, kannst du mit Auswahl eine Lernkarte (Vokabel) bearbeiten oder l\xf6schen."])),(t()(),eo(266,0,null,null,1,"h2",[["id","report-a-bug"]],null,null,null,null,null)),(t()(),yo(-1,null,["Fehler melden und weiterentwickeln"])),(t()(),eo(268,0,null,null,7,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Das Projekt findest du auf "])),(t()(),eo(270,0,null,null,1,"a",[["href","https://github.com/SrgSteak/vokabel-dojo"]],null,null,null,null,null)),(t()(),yo(-1,null,["Github"])),(t()(),yo(-1,null,[" und du kannst mir gerne eine "])),(t()(),eo(273,0,null,null,1,"a",[["href","mailto:schmidt91robin@icloud.com"]],null,null,null,null,null)),(t()(),yo(-1,null,["E-Mail senden"])),(t()(),yo(-1,null,[". "]))],(function(t,e){var n=t(e,17,0,"/about");t(e,16,0,"key",n);var r=t(e,22,0,"/about");t(e,21,0,"functions",r);var i=t(e,27,0,"/about");t(e,26,0,"login",i);var l=t(e,33,0,"/about");t(e,32,0,"register",l);var o=t(e,38,0,"/about");t(e,37,0,"logout",o);var s=t(e,43,0,"/about");t(e,42,0,"decks-create",s);var u=t(e,48,0,"/about");t(e,47,0,"decks-edit",u);var a=t(e,53,0,"/about");t(e,52,0,"words-create",a);var c=t(e,58,0,"/about");t(e,57,0,"words-edit",c);var h=t(e,63,0,"/about");t(e,62,0,"dictionary",h);var d=t(e,68,0,"/about");t(e,67,0,"syllables",d);var p=t(e,74,0,"/about");t(e,73,0,"syllables-quizmode",p);var f=t(e,79,0,"/about");t(e,78,0,"syllables-learnmode",f);var g=t(e,84,0,"/about");t(e,83,0,"syllables-table",g);var m=t(e,89,0,"/about");t(e,88,0,"words",m);var v=t(e,95,0,"/about");t(e,94,0,"public-decks",v);var y=t(e,100,0,"/about");t(e,99,0,"modes",y);var _=t(e,106,0,"/about");t(e,105,0,"words-quiz",_);var b=t(e,111,0,"/about");t(e,110,0,"words-grid",b);var w=t(e,116,0,"/about");t(e,115,0,"words-learn",w);var k=t(e,121,0,"/about");t(e,120,0,"words-list",k);var C=t(e,126,0,"/about");t(e,125,0,"report-a-bug",C),t(e,142,0,"/home"),t(e,150,0,"/user");var E=t(e,162,0,"/user");t(e,161,0,E);var T=t(e,171,0,"/user");t(e,170,0,T),t(e,199,0,"/word-list"),t(e,209,0,"/quiz"),t(e,219,0,"/learn"),t(e,231,0,"/syllables/overview"),t(e,241,0,"/decks")}),(function(t,e){t(e,15,0,Jr(e,16).target,Jr(e,16).href),t(e,20,0,Jr(e,21).target,Jr(e,21).href),t(e,25,0,Jr(e,26).target,Jr(e,26).href),t(e,31,0,Jr(e,32).target,Jr(e,32).href),t(e,36,0,Jr(e,37).target,Jr(e,37).href),t(e,41,0,Jr(e,42).target,Jr(e,42).href),t(e,46,0,Jr(e,47).target,Jr(e,47).href),t(e,51,0,Jr(e,52).target,Jr(e,52).href),t(e,56,0,Jr(e,57).target,Jr(e,57).href),t(e,61,0,Jr(e,62).target,Jr(e,62).href),t(e,66,0,Jr(e,67).target,Jr(e,67).href),t(e,72,0,Jr(e,73).target,Jr(e,73).href),t(e,77,0,Jr(e,78).target,Jr(e,78).href),t(e,82,0,Jr(e,83).target,Jr(e,83).href),t(e,87,0,Jr(e,88).target,Jr(e,88).href),t(e,93,0,Jr(e,94).target,Jr(e,94).href),t(e,98,0,Jr(e,99).target,Jr(e,99).href),t(e,104,0,Jr(e,105).target,Jr(e,105).href),t(e,109,0,Jr(e,110).target,Jr(e,110).href),t(e,114,0,Jr(e,115).target,Jr(e,115).href),t(e,119,0,Jr(e,120).target,Jr(e,120).href),t(e,124,0,Jr(e,125).target,Jr(e,125).href),t(e,141,0,Jr(e,142).target,Jr(e,142).href),t(e,149,0,Jr(e,150).target,Jr(e,150).href),t(e,160,0,Jr(e,161).target,Jr(e,161).href),t(e,169,0,Jr(e,170).target,Jr(e,170).href),t(e,198,0,Jr(e,199).target,Jr(e,199).href),t(e,208,0,Jr(e,209).target,Jr(e,209).href),t(e,218,0,Jr(e,219).target,Jr(e,219).href),t(e,230,0,Jr(e,231).target,Jr(e,231).href),t(e,240,0,Jr(e,241).target,Jr(e,241).href)}))}function qy(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-about",[],null,null,null,Vy,Uy)),hi(1,114688,null,0,jy,[],null,null)],(function(t,e){t(e,1,0)}),null)}var zy=qr("app-about",jy,qy,{},{},[]);class Hy{constructor(){}ngOnInit(){}}var By=er({encapsulation:0,styles:[[""]],data:{}});function Wy(t){return wo(0,[(t()(),eo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,[" numbers works!\n"]))],null,null)}function Gy(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-numbers",[],null,null,null,Wy,By)),hi(1,114688,null,0,Hy,[],null,null)],(function(t,e){t(e,1,0)}),null)}var Ky=qr("app-numbers",Hy,Gy,{},{},[]);class $y{constructor(t){this.auth=t}ngOnInit(){}}var Qy=er({encapsulation:0,styles:[[".user[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}a[_ngcontent-%COMP%]{color:#006464;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}h4[_ngcontent-%COMP%]{margin-bottom:5px}p[_ngcontent-%COMP%]{margin-top:5px}"]],data:{}});function Yy(t){return wo(0,[(t()(),eo(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Zy(t){return wo(0,[(t()(),eo(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),yo(-1,null,["Loginbereich"])),(t()(),eo(2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["Mit einem Konto kannst du eigene Lernkarten und Decks anlegen. Dazu wird deine E-Mail Adresse in der Datenbank von Vokabeldojo gespeichert. Login via oAuth (Google) erfolgt zwischen dir und Google, Passw\xf6rter o\xe4 werden in diesem Fall nicht in Vokabeldojo gespeichert."])),(t()(),eo(4,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),yo(-1,null,["Login/Registrierung"])),(t()(),eo(6,0,null,null,2,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.auth.googleLogin()&&r),r}),null,null)),(t()(),eo(7,0,null,null,0,"i",[["class","fa fa-google"]],null,null,null,null,null)),(t()(),yo(-1,null,["Google "])),(t()(),eo(9,0,null,null,2,"button",[["class","button disabled"]],null,null,null,null,null)),(t()(),eo(10,0,null,null,0,"i",[["class","fa fa-google"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Facebook "])),(t()(),eo(12,0,null,null,2,"button",[["class","button disabled"]],null,null,null,null,null)),(t()(),eo(13,0,null,null,0,"i",[["class","fa fa-google"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Twitter "])),(t()(),eo(15,0,null,null,2,"button",[["class","button disabled"]],null,null,null,null,null)),(t()(),eo(16,0,null,null,0,"i",[["class","fa fa-google"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Github "])),(t()(),eo(18,0,null,null,2,"button",[["class","button disabled"]],null,null,null,null,null)),(t()(),eo(19,0,null,null,0,"i",[["class","fa fa-google"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Yahoo! "])),(t()(),eo(21,0,null,null,2,"button",[["class","button disabled"]],null,null,null,null,null)),(t()(),eo(22,0,null,null,0,"i",[["class","fa fa-google"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Microsoft "])),(t()(),eo(24,0,null,null,2,"button",[["class","button disabled"],["disabled",""]],null,null,null,null,null)),(t()(),eo(25,0,null,null,0,"i",[["class","fa fa-email"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Connect Email "]))],null,null)}function Jy(t){return wo(0,[(t()(),eo(0,0,null,null,13,"div",[],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(2,null,["Du bist derzeit angemeldet als: ",""])),(t()(),eo(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(4,null,["Email: ",""])),(t()(),eo(5,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(6,null,["UID: ",""])),(t()(),eo(7,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),eo(8,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(9,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(10,1),(t()(),yo(-1,null,["Meine Decks"])),(t()(),eo(12,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.auth.signOut()&&r),r}),null,null)),(t()(),yo(-1,null,["Abmelden"]))],(function(t,e){var n=t(e,10,0,"/user/decks");t(e,9,0,n)}),(function(t,e){t(e,2,0,e.context.ngIf.displayName),t(e,4,0,e.context.ngIf.email),t(e,6,0,e.context.ngIf.uid),t(e,8,0,Jr(e,9).target,Jr(e,9).href)}))}function Xy(t){return wo(0,[(t()(),to(16777216,null,null,2,null,Jy)),hi(1,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),di(131072,sa,[Ne]),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,Jn(e,1,0,Jr(e,2).transform(n.auth.user)))}),null)}function t_(t){return wo(0,[(t()(),eo(0,0,null,null,6,"div",[["class","content"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,5,"div",[["class","user"]],null,null,null,null,null)),(t()(),to(16777216,null,null,2,null,Yy)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),di(131072,sa,[Ne]),(t()(),to(0,[["guest",2]],null,0,null,Zy)),(t()(),to(0,[["authenticated",2]],null,0,null,Xy))],(function(t,e){var n=e.component;t(e,3,0,Jn(e,3,0,Jr(e,4).transform(n.auth.user)),Jr(e,6),Jr(e,5))}),null)}function e_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-user-profile",[],null,null,null,t_,Qy)),hi(1,114688,null,0,$y,[ng],null,null)],(function(t,e){t(e,1,0)}),null)}var n_=qr("app-user-profile",$y,e_,{},{},[]);class r_{constructor(t,e){this.decks=[],e.user.subscribe(e=>{t.getAllDecksForUser(e.uid).snapshotChanges().subscribe(t=>{this.decks=t.map(t=>{const e=t.payload.doc.data();return e.uid=t.payload.doc.id,e})})})}ngOnInit(){}}var i_=er({encapsulation:0,styles:[[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.grid-content[_ngcontent-%COMP%]{color:#fff;width:170px;height:100px;background-color:#002828;border-radius:4px;margin:5px;text-decoration:none;position:relative;transition:.3s;padding:10px}@media (hover:hover){.grid-content[_ngcontent-%COMP%]:hover{background-color:#003737;box-shadow:inset 0 0 10px #000}}.deck_name[_ngcontent-%COMP%]{text-align:left}.deck_description[_ngcontent-%COMP%]{font-size:12px}.deck_created[_ngcontent-%COMP%]{position:absolute;font-size:10px;bottom:5px;right:5px;text-align:right}"]],data:{}});function l_(t){return wo(0,[(t()(),eo(0,0,null,null,9,"a",[["class","grid-content"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(1,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(2,5),(t()(),eo(3,0,null,null,1,"div",[["class","deck_name"]],null,null,null,null,null)),(t()(),yo(4,null,[" "," "])),(t()(),eo(5,0,null,null,1,"div",[["class","deck_description"]],null,null,null,null,null)),(t()(),yo(6,null,[" "," "])),(t()(),eo(7,0,null,null,2,"div",[["class","deck_created"]],null,null,null,null,null)),(t()(),yo(8,null,[" "," "])),fo(9,2)],(function(t,e){var n=t(e,2,0,"/","user","decks",e.context.$implicit.uid,"list");t(e,1,0,n)}),(function(t,e){t(e,0,0,Jr(e,1).target,Jr(e,1).href),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.description);var n=Jn(e,8,0,t(e,9,0,Jr(e.parent,0),e.context.$implicit.createdAt.toDate(),"H:m dd.MM.yy"));t(e,8,0,n)}))}function o_(t){return wo(0,[di(0,ua,[Qi]),(t()(),eo(1,0,null,null,10,"div",[["class","content"]],null,null,null,null,null)),(t()(),eo(2,0,null,null,9,"div",[["class","grid"]],null,null,null,null,null)),(t()(),eo(3,0,null,null,6,"a",[["class","grid-content new-deck"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(4,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(5,1),(t()(),eo(6,0,null,null,1,"div",[["class","deck_name"]],null,null,null,null,null)),(t()(),yo(-1,null,[" + Neues Deck "])),(t()(),eo(8,0,null,null,1,"div",[["class","deck_description"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Hier klicken um ein neues Deck anzulegen "])),(t()(),to(16777216,null,null,1,null,l_)),hi(11,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component,r=t(e,5,0,"/user/decks/new");t(e,4,0,r),t(e,11,0,n.decks)}),(function(t,e){t(e,3,0,Jr(e,4).target,Jr(e,4).href)}))}function s_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-decks",[],null,null,null,o_,i_)),hi(1,114688,null,0,r_,[lg,ng],null,null)],(function(t,e){t(e,1,0)}),null)}var u_=qr("app-decks",r_,s_,{},{},[]);class a_{constructor(t,e,n,r,i){this.DeckService=t,this.auth=e,this.route=n,this.router=r,this.fb=i,this.deckForm=this.fb.group({name:["",[Pg.required]],description:[""]})}ngOnInit(){this.route.paramMap.subscribe(t=>{t.has("uid")?this.auth.user.subscribe(e=>{this.DeckService.getDeckForUser(t.get("uid"),e.uid).snapshotChanges().subscribe(t=>{this.deck=t.payload.data(),this.deck.uid=t.payload.id,this.deckForm.get("name").setValue(this.deck.name),this.deckForm.get("description").setValue(this.deck.description)})}):this.deck={name:"",description:"",author:"",uid:"",numberCards:0}})}onSubmit(){this.deck.name=this.deckForm.get("name").value,this.deck.description=this.deckForm.get("description").value,this.auth.user.subscribe(t=>{this.deck.uid?(this.DeckService.update(this.deck.uid,this.deck,t.uid),this.router.navigate(["/user/decks",this.deck.uid,"list"])):this.DeckService.add(this.deck,t.uid).then(t=>{this.router.navigate(["/user/decks",t.id,"list"])})})}onDelete(){confirm("Deck l\xf6schen? Lernkarten werden mitgel\xf6scht")&&this.auth.user.subscribe(t=>{this.DeckService.delete(this.deck.uid,t.uid),this.router.navigate(["/user/decks"])})}}var c_=er({encapsulation:0,styles:[[".edit[_ngcontent-%COMP%]{padding-top:10px}"]],data:{}});function h_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"a",[["class","muted"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onDelete()&&r),r}),null,null)),(t()(),yo(-1,null,["L\xf6schen"]))],null,null)}function d_(t){return wo(0,[(t()(),eo(0,0,null,null,25,"div",[["class","edit"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,24,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Jr(t,3).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,3).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit()&&r),r}),null,null)),hi(2,16384,null,0,hm,[],null,null),hi(3,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),pi(2048,null,Cg,null,[fm]),hi(5,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(6,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Name des Decks "])),(t()(),eo(8,0,null,null,5,"input",[["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,9)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,9).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,9)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,9)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(9,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(11,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(13,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(14,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Beschreibung "])),(t()(),eo(16,0,null,null,5,"input",[["formControlName","description"],["id","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,17)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,17).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,17)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,17)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(17,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(19,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(21,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(22,0,null,null,1,"button",[["type","submit"]],null,null,null,null,null)),(t()(),yo(-1,null,["Speichern"])),(t()(),to(16777216,null,null,1,null,h_)),hi(25,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.deckForm),t(e,11,0,"name"),t(e,19,0,"description"),t(e,25,0,n.deck.uid)}),(function(t,e){t(e,1,0,Jr(e,5).ngClassUntouched,Jr(e,5).ngClassTouched,Jr(e,5).ngClassPristine,Jr(e,5).ngClassDirty,Jr(e,5).ngClassValid,Jr(e,5).ngClassInvalid,Jr(e,5).ngClassPending),t(e,8,0,Jr(e,13).ngClassUntouched,Jr(e,13).ngClassTouched,Jr(e,13).ngClassPristine,Jr(e,13).ngClassDirty,Jr(e,13).ngClassValid,Jr(e,13).ngClassInvalid,Jr(e,13).ngClassPending),t(e,16,0,Jr(e,21).ngClassUntouched,Jr(e,21).ngClassTouched,Jr(e,21).ngClassPristine,Jr(e,21).ngClassDirty,Jr(e,21).ngClassValid,Jr(e,21).ngClassInvalid,Jr(e,21).ngClassPending)}))}function p_(t){return wo(0,[(t()(),eo(0,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,d_)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.deck)}),null)}function f_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-edit",[],null,null,null,p_,c_)),hi(1,114688,null,0,a_,[lg,ng,cp,kf,bm],null,null)],(function(t,e){t(e,1,0)}),null)}var g_=qr("app-edit",a_,f_,{},{},[]);class m_{constructor(t){this.fb=t,this.newCard=new Fi,this.cardForm=this.fb.group({japanese:["",Pg.required],japanese_readings:this.fb.array([]),chinese_readings:this.fb.array([]),german:this.fb.array([]),decks:this.fb.array([]),examples:this.fb.array([])})}get german(){return this.cardForm.get("german")}get japanese(){return this.cardForm.get("japanese")}get japanese_readings(){return this.cardForm.get("japanese_readings")}get chinese_readings(){return this.cardForm.get("chinese_readings")}get examples(){return this.cardForm.get("examples")}ngOnInit(){this.resetCard(),this.setForm()}resetCard(){this.card=new Km}addReading(t){t.push(this.fb.control("",[Pg.required]))}addExample(t){const e=this.fb.group({japanese:["",Pg.required],reading:[""],german:[""]});this.examples.push(e)}removeReadingAtIndex(t,e){t.removeAt(e)}removeReading(t){t.removeAt(t.length-1)}setForm(){this.cardForm=this.fb.group({japanese:["",Pg.required],japanese_readings:this.fb.array([]),chinese_readings:this.fb.array([]),german:this.fb.array([]),decks:this.fb.array([]),examples:this.fb.array([])})}onSubmit(){this.cardForm.valid&&(this.card.german=this.cardForm.get("german").value,this.card.japanese=this.cardForm.get("japanese").value,this.card.chinese_readings=this.chinese_readings.value,this.card.japanese_readings=this.japanese_readings.value,this.card.examples=this.examples.value,this.newCard.emit(this.card),this.resetCard(),this.setForm())}}var v_=er({encapsulation:0,styles:[[""]],data:{}});function y_(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","input_group"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.german,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(3,0,null,null,5,"input",[["placeholder","Kanji, Hiragana, Katakana \xdcbersetzung"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(6,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(8,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,6,0,e.context.index)}),(function(t,e){t(e,3,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending)}))}function __(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","input_group"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.japanese_readings,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(3,0,null,null,5,"input",[["placeholder","\u3072\u3068"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(6,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(8,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,6,0,e.context.index)}),(function(t,e){t(e,3,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending)}))}function b_(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","input_group"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.chinese_readings,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(3,0,null,null,5,"input",[["placeholder","\u30b8\u30f3"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(6,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(8,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,6,0,e.context.index)}),(function(t,e){t(e,3,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending)}))}function w_(t){return wo(0,[(t()(),eo(0,0,null,null,33,null,null,null,null,null,null,null)),hi(1,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(3,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(4,0,null,null,29,"div",[["class","input_group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(5,212992,null,0,gm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[gm]),hi(7,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(8,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.examples,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(10,0,null,null,7,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["Japanisch "])),(t()(),eo(12,0,null,null,5,"input",[["formControlName","japanese"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,13)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,13).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,13)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,13)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(13,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(15,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(17,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(18,0,null,null,7,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["Lesung "])),(t()(),eo(20,0,null,null,5,"input",[["formControlName","reading"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,21)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,21).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,21)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,21)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(21,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(23,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(25,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(26,0,null,null,7,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["\xdcbersetzung "])),(t()(),eo(28,0,null,null,5,"input",[["formControlName","german"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,29)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,29).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,29)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,29)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(29,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(31,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(33,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,1,0,"examples"),t(e,5,0,e.context.index),t(e,15,0,"japanese"),t(e,23,0,"reading"),t(e,31,0,"german")}),(function(t,e){t(e,4,0,Jr(e,7).ngClassUntouched,Jr(e,7).ngClassTouched,Jr(e,7).ngClassPristine,Jr(e,7).ngClassDirty,Jr(e,7).ngClassValid,Jr(e,7).ngClassInvalid,Jr(e,7).ngClassPending),t(e,12,0,Jr(e,17).ngClassUntouched,Jr(e,17).ngClassTouched,Jr(e,17).ngClassPristine,Jr(e,17).ngClassDirty,Jr(e,17).ngClassValid,Jr(e,17).ngClassInvalid,Jr(e,17).ngClassPending),t(e,20,0,Jr(e,25).ngClassUntouched,Jr(e,25).ngClassTouched,Jr(e,25).ngClassPristine,Jr(e,25).ngClassDirty,Jr(e,25).ngClassValid,Jr(e,25).ngClassInvalid,Jr(e,25).ngClassPending),t(e,28,0,Jr(e,33).ngClassUntouched,Jr(e,33).ngClassTouched,Jr(e,33).ngClassPristine,Jr(e,33).ngClassDirty,Jr(e,33).ngClassValid,Jr(e,33).ngClassInvalid,Jr(e,33).ngClassPending)}))}function k_(t){return wo(0,[(t()(),eo(0,0,null,null,69,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Jr(t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,2).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit()&&r),r}),null,null)),hi(1,16384,null,0,hm,[],null,null),hi(2,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),pi(2048,null,Cg,null,[fm]),hi(4,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(5,0,null,null,1,"label",[["for","japanese"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Japanisch "])),(t()(),eo(7,0,null,null,5,"input",[["formControlName","japanese"],["id","japanese"],["placeholder","\u6f22\u5b57\u3001\u3072\u3089\u304c\u306a\u3001\u30ab\u30bf\u30ab\u30ca"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,8)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,8).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,8)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,8)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(8,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(10,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(12,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(13,0,null,null,9,"div",[["class","form_array"],["formArrayName","german"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(14,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(16,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(17,0,null,null,3,"label",[["for","german"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addReading(i.german)&&r),r}),null,null)),(t()(),eo(18,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["\xdcbersetzung/Bedeutung "])),(t()(),to(16777216,null,null,1,null,y_)),hi(22,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(23,0,null,null,18,"div",[["class","form_array"],["formArrayName","japanese_readings"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(24,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(26,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(27,0,null,null,12,"label",[["for","japanese_readings"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addReading(i.japanese_readings)&&r),r}),null,null)),(t()(),eo(28,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["Japanische Lesungen ("])),(t()(),eo(31,0,null,null,7,"ruby",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u8a13"])),(t()(),eo(33,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u304f\u3093"])),(t()(),yo(-1,null,["\u8aad"])),(t()(),eo(36,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u3088"])),(t()(),yo(-1,null,["\u307f"])),(t()(),yo(-1,null,[") "])),(t()(),to(16777216,null,null,1,null,__)),hi(41,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(42,0,null,null,18,"div",[["class","form_array"],["formArrayName","chinese_readings"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(43,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(45,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(46,0,null,null,12,"label",[["for","chinese_readings"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addReading(i.chinese_readings)&&r),r}),null,null)),(t()(),eo(47,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["Chinesische Lesungen ("])),(t()(),eo(50,0,null,null,7,"ruby",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u97f3"])),(t()(),eo(52,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u304a\u3093"])),(t()(),yo(-1,null,["\u8aad"])),(t()(),eo(55,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u3088"])),(t()(),yo(-1,null,["\u307f"])),(t()(),yo(-1,null,[") "])),(t()(),to(16777216,null,null,1,null,b_)),hi(60,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(61,0,null,null,6,"div",[["class","form_array"]],null,null,null,null,null)),(t()(),eo(62,0,null,null,3,"label",[["for","examples"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addExample(i.examples)&&r),r}),null,null)),(t()(),eo(63,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["Beispiel "])),(t()(),to(16777216,null,null,1,null,w_)),hi(67,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(68,0,null,null,1,"button",[["type","submit"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Anlegen"]))],(function(t,e){var n=e.component;t(e,2,0,n.cardForm),t(e,10,0,"japanese"),t(e,14,0,"german"),t(e,22,0,n.german.controls),t(e,24,0,"japanese_readings"),t(e,41,0,n.japanese_readings.controls),t(e,43,0,"chinese_readings"),t(e,60,0,n.chinese_readings.controls),t(e,67,0,n.examples.controls)}),(function(t,e){var n=e.component;t(e,0,0,Jr(e,4).ngClassUntouched,Jr(e,4).ngClassTouched,Jr(e,4).ngClassPristine,Jr(e,4).ngClassDirty,Jr(e,4).ngClassValid,Jr(e,4).ngClassInvalid,Jr(e,4).ngClassPending),t(e,7,0,Jr(e,12).ngClassUntouched,Jr(e,12).ngClassTouched,Jr(e,12).ngClassPristine,Jr(e,12).ngClassDirty,Jr(e,12).ngClassValid,Jr(e,12).ngClassInvalid,Jr(e,12).ngClassPending),t(e,13,0,Jr(e,16).ngClassUntouched,Jr(e,16).ngClassTouched,Jr(e,16).ngClassPristine,Jr(e,16).ngClassDirty,Jr(e,16).ngClassValid,Jr(e,16).ngClassInvalid,Jr(e,16).ngClassPending),t(e,23,0,Jr(e,26).ngClassUntouched,Jr(e,26).ngClassTouched,Jr(e,26).ngClassPristine,Jr(e,26).ngClassDirty,Jr(e,26).ngClassValid,Jr(e,26).ngClassInvalid,Jr(e,26).ngClassPending),t(e,42,0,Jr(e,45).ngClassUntouched,Jr(e,45).ngClassTouched,Jr(e,45).ngClassPristine,Jr(e,45).ngClassDirty,Jr(e,45).ngClassValid,Jr(e,45).ngClassInvalid,Jr(e,45).ngClassPending),t(e,68,0,!n.cardForm.valid)}))}class C_{constructor(t,e){this.deckService=t,this.fontSwitcherService=e,this.show=0,this.clicked=!1,this.showSubmenu=!1,this.form=new um({question:new sm("japanese"),answer:new sm("german"),displayMode:new sm("click"),rubi:new sm("")})}get question(){return this.form.get("question").value}get answer(){return this.form.get("answer").value}get displayMode(){return this.form.get("displayMode").value}get rubi(){return this.form.get("rubi").value}get fontMode(){return this.fontSwitcherService.currentStyle}get card(){return this.cards[this.show]}ngOnInit(){this.cards=this._cards}ngOnDestroy(){}shuffle(){this.cards=this.deckService.shuffle(this.cards),this.show=0}next(){"always"!==this.displayMode&&!1===this.clicked?this.clicked=!0:(this.show++,this.show>=this.cards.length&&(this.show=0),"click"==this.displayMode&&(this.clicked=!1),"automatic"==this.displayMode&&(this.clicked=!1,setTimeout(()=>{this.clicked=!0},2e3)))}goToNext(){this.show++,this.show>=this.cards.length&&(this.show=0)}goToPrevious(){0===this.show?this.show=this.cards.length-1:this.show--}displayModeForCard(t,e){return"kanji"===e&&t.japanese&&this.rubi&&t.reading?"kanji_with_rubi":"kanji"===e&&t.japanese&&this.rubi&&(t.japanese_readings.length||t.chinese_readings.length)?t.japanese_readings.length||t.chinese_readings.length?"kanji_with_rubi_readings":"kanji_with_rubi_from_jap_readings":"german"===e&&!t.german.length||"reading"===e&&!t.reading?"kanji_readings_only":"word"}displayWithFallback(t,e){return t[e]?t[e]:t.kanji?t.kanji:t.hiragana?t.hiragana:t.katakana?t.katakana:t.romaji?t.romaji:void 0}}var E_=er({encapsulation:0,styles:[[".learn[_ngcontent-%COMP%]{height:100%}.line[_ngcontent-%COMP%]{-webkit-margin-before:0;margin-block-start:0;-webkit-margin-after:0;margin-block-end:0;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}.card[_ngcontent-%COMP%]{height:49%;width:100%;display:flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-ms-user-select:none}@media screen and (max-width:438px){.card[_ngcontent-%COMP%]{font-size:12vw}}@media screen and (min-width:439px){.card[_ngcontent-%COMP%]{font-size:8vw}}.readings[_ngcontent-%COMP%]{margin-left:10px}.readings[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:3px}li[_ngcontent-%COMP%]{font-size:3vw}ul[_ngcontent-%COMP%]{list-style-type:circle;list-style-position:inside;margin:0;padding:0;text-align:left}.modes[_ngcontent-%COMP%]{width:100%;display:flex;font-family:arial}.cardbox[_ngcontent-%COMP%]{font-size:150px;width:100%;bottom:0;margin:0;display:flex}.cardbox[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%], .cardbox[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]{width:50%;height:250px;text-align:center}.detail-content[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.detail-content[_ngcontent-%COMP%]   .kanji[_ngcontent-%COMP%]{font-size:7vw}.detail[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:100px;width:100%;margin-top:15px;margin-bottom:15px}@media screen and (min-width:439px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:235px}}@media screen and (min-width:600px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:280px}}@media screen and (min-width:767px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:500px}}@media screen and (min-width:1000px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:750px}}@media screen and (min-width:1300px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:1000px}}@media screen and (min-width:1700px){.detail-content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{min-width:1250px}}.detail-content[_ngcontent-%COMP%]   .full-example[_ngcontent-%COMP%]{width:100%;font-size:6vw;text-align:center}.detail-content[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{width:50%;font-size:6vw;text-align:center}.info[_ngcontent-%COMP%]{font-style:italic;font-size:2vw;font-family:serif}"]],data:{}});function T_(t){return wo(0,[(t()(),eo(0,0,null,null,136,"div",[["class","menu"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Anzeige"])),(t()(),eo(3,0,null,null,1,"app-font-switcher",[],null,null,null,$v,Kv)),hi(4,245760,null,0,Gv,[$m],null,null),(t()(),eo(5,0,null,null,49,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,7).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,7).onReset()&&r),r}),null,null)),hi(6,16384,null,0,hm,[],null,null),hi(7,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(9,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(10,0,null,null,9,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Ruby (\u30eb\u30d3) "])),(t()(),eo(12,0,null,null,5,"input",[["formControlName","rubi"],["name","rubi"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Jr(t,13).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==Jr(t,13).onTouched()&&r),r}),null,null)),hi(13,16384,null,0,_g,[gn,cn],null,null),pi(1024,null,yg,(function(t){return[t]}),[_g]),hi(15,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(17,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(18,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(19,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(20,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Weiter"])),(t()(),eo(22,0,null,null,10,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Bei Auswahl "])),(t()(),eo(24,0,null,null,6,"input",[["formControlName","displayMode"],["name","displayMode"],["type","radio"],["value","click"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,25)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,25).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,25)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,25)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,26).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,26).onTouched()&&r),r}),null,null)),hi(25,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(26,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(28,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(30,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(31,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(32,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(33,0,null,null,10,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Immer "])),(t()(),eo(35,0,null,null,6,"input",[["formControlName","displayMode"],["name","displayMode"],["type","radio"],["value","always"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,36)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,36).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,36)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,36)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,37).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,37).onTouched()&&r),r}),null,null)),hi(36,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(37,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(39,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(41,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(42,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(43,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(44,0,null,null,10,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Automatisch "])),(t()(),eo(46,0,null,null,6,"input",[["formControlName","displayMode"],["name","displayMode"],["type","radio"],["value","automatic"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,47)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,47).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,47)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,47)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,48).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,48).onTouched()&&r),r}),null,null)),hi(47,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(48,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(50,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(52,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(53,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(54,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(55,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Oben"])),(t()(),eo(57,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,59).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,59).onReset()&&r),r}),null,null)),hi(58,16384,null,0,hm,[],null,null),hi(59,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(61,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(62,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Deutsch "])),(t()(),eo(64,0,null,null,6,"input",[["formControlName","question"],["name","question"],["type","radio"],["value","german"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,65)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,65).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,65)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,65)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,66).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,66).onTouched()&&r),r}),null,null)),hi(65,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(66,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(68,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(70,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(71,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(72,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(73,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Japanisch "])),(t()(),eo(75,0,null,null,6,"input",[["formControlName","question"],["name","question"],["type","radio"],["value","japanese"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,76)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,76).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,76)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,76)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,77).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,77).onTouched()&&r),r}),null,null)),hi(76,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(77,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(79,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(81,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(82,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(83,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(84,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.form.get("rubi").setValue()&&r),r}),null,null)),(t()(),yo(-1,null,["Lesung "])),(t()(),eo(86,0,null,null,6,"input",[["formControlName","question"],["name","question"],["type","radio"],["value","reading"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,87)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,87).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,87)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,87)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,88).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,88).onTouched()&&r),r}),null,null)),hi(87,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(88,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(90,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(92,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(93,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(94,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(95,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Unten"])),(t()(),eo(97,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,99).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,99).onReset()&&r),r}),null,null)),hi(98,16384,null,0,hm,[],null,null),hi(99,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},null),pi(2048,null,Cg,null,[fm]),hi(101,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(102,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Deutsch "])),(t()(),eo(104,0,null,null,6,"input",[["formControlName","answer"],["name","answer"],["type","radio"],["value","german"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,105)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,105).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,105)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,105)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,106).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,106).onTouched()&&r),r}),null,null)),hi(105,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(106,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(108,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(110,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(111,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(112,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(113,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Japanisch "])),(t()(),eo(115,0,null,null,6,"input",[["formControlName","answer"],["name","answer"],["type","radio"],["value","japanese"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,116)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,116).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,116)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,116)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,117).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,117).onTouched()&&r),r}),null,null)),hi(116,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(117,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(119,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(121,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(122,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(123,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(124,0,null,null,10,"label",[["class","container"]],[[2,"disabled",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.form.get("rubi").setValue()&&r),r}),null,null)),(t()(),yo(-1,null,["Lesung "])),(t()(),eo(126,0,null,null,6,"input",[["formControlName","answer"],["name","answer"],["type","radio"],["value","reading"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,127)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,127).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,127)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,127)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,128).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,128).onTouched()&&r),r}),null,null)),hi(127,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(128,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(130,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(132,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(133,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(134,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(135,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.showSubmenu=!1,r=!1!==i.shuffle()&&r),r}),null,null)),(t()(),yo(-1,null,["Mischen"]))],(function(t,e){var n=e.component;t(e,4,0),t(e,7,0,n.form),t(e,15,0,"rubi"),t(e,26,0,"displayMode","displayMode","click"),t(e,28,0,"displayMode"),t(e,37,0,"displayMode","displayMode","always"),t(e,39,0,"displayMode"),t(e,48,0,"displayMode","displayMode","automatic"),t(e,50,0,"displayMode"),t(e,59,0,n.form),t(e,66,0,"question","question","german"),t(e,68,0,"question"),t(e,77,0,"question","question","japanese"),t(e,79,0,"question"),t(e,88,0,"question","question","reading"),t(e,90,0,"question"),t(e,99,0,n.form),t(e,106,0,"answer","answer","german"),t(e,108,0,"answer"),t(e,117,0,"answer","answer","japanese"),t(e,119,0,"answer"),t(e,128,0,"answer","answer","reading"),t(e,130,0,"answer")}),(function(t,e){var n=e.component;t(e,5,0,Jr(e,9).ngClassUntouched,Jr(e,9).ngClassTouched,Jr(e,9).ngClassPristine,Jr(e,9).ngClassDirty,Jr(e,9).ngClassValid,Jr(e,9).ngClassInvalid,Jr(e,9).ngClassPending),t(e,10,0,"reading"===n.question||"reading"===n.answer),t(e,12,0,Jr(e,17).ngClassUntouched,Jr(e,17).ngClassTouched,Jr(e,17).ngClassPristine,Jr(e,17).ngClassDirty,Jr(e,17).ngClassValid,Jr(e,17).ngClassInvalid,Jr(e,17).ngClassPending),t(e,24,0,Jr(e,30).ngClassUntouched,Jr(e,30).ngClassTouched,Jr(e,30).ngClassPristine,Jr(e,30).ngClassDirty,Jr(e,30).ngClassValid,Jr(e,30).ngClassInvalid,Jr(e,30).ngClassPending),t(e,35,0,Jr(e,41).ngClassUntouched,Jr(e,41).ngClassTouched,Jr(e,41).ngClassPristine,Jr(e,41).ngClassDirty,Jr(e,41).ngClassValid,Jr(e,41).ngClassInvalid,Jr(e,41).ngClassPending),t(e,46,0,Jr(e,52).ngClassUntouched,Jr(e,52).ngClassTouched,Jr(e,52).ngClassPristine,Jr(e,52).ngClassDirty,Jr(e,52).ngClassValid,Jr(e,52).ngClassInvalid,Jr(e,52).ngClassPending),t(e,57,0,Jr(e,61).ngClassUntouched,Jr(e,61).ngClassTouched,Jr(e,61).ngClassPristine,Jr(e,61).ngClassDirty,Jr(e,61).ngClassValid,Jr(e,61).ngClassInvalid,Jr(e,61).ngClassPending),t(e,62,0,"german"===n.answer),t(e,64,0,Jr(e,70).ngClassUntouched,Jr(e,70).ngClassTouched,Jr(e,70).ngClassPristine,Jr(e,70).ngClassDirty,Jr(e,70).ngClassValid,Jr(e,70).ngClassInvalid,Jr(e,70).ngClassPending),t(e,73,0,"japanese"===n.answer),t(e,75,0,Jr(e,81).ngClassUntouched,Jr(e,81).ngClassTouched,Jr(e,81).ngClassPristine,Jr(e,81).ngClassDirty,Jr(e,81).ngClassValid,Jr(e,81).ngClassInvalid,Jr(e,81).ngClassPending),t(e,84,0,"reading"===n.answer),t(e,86,0,Jr(e,92).ngClassUntouched,Jr(e,92).ngClassTouched,Jr(e,92).ngClassPristine,Jr(e,92).ngClassDirty,Jr(e,92).ngClassValid,Jr(e,92).ngClassInvalid,Jr(e,92).ngClassPending),t(e,97,0,Jr(e,101).ngClassUntouched,Jr(e,101).ngClassTouched,Jr(e,101).ngClassPristine,Jr(e,101).ngClassDirty,Jr(e,101).ngClassValid,Jr(e,101).ngClassInvalid,Jr(e,101).ngClassPending),t(e,102,0,"german"===n.question),t(e,104,0,Jr(e,110).ngClassUntouched,Jr(e,110).ngClassTouched,Jr(e,110).ngClassPristine,Jr(e,110).ngClassDirty,Jr(e,110).ngClassValid,Jr(e,110).ngClassInvalid,Jr(e,110).ngClassPending),t(e,113,0,"japanese"===n.question),t(e,115,0,Jr(e,121).ngClassUntouched,Jr(e,121).ngClassTouched,Jr(e,121).ngClassPristine,Jr(e,121).ngClassDirty,Jr(e,121).ngClassValid,Jr(e,121).ngClassInvalid,Jr(e,121).ngClassPending),t(e,124,0,"reading"===n.question),t(e,126,0,Jr(e,132).ngClassUntouched,Jr(e,132).ngClassTouched,Jr(e,132).ngClassPristine,Jr(e,132).ngClassDirty,Jr(e,132).ngClassValid,Jr(e,132).ngClassInvalid,Jr(e,132).ngClassPending)}))}function S_(t){return wo(0,[(t()(),eo(0,0,null,null,4,"div",[["class","kanji"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,3,"ruby",[],null,null,null,null,null)),(t()(),yo(2,null,[" "," "])),(t()(),eo(3,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(4,null,["",""]))],null,(function(t,e){var n=e.component;t(e,2,0,n.card.japanese),t(e,4,0,n.card.getReading())}))}function I_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","kanji"]],null,null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.card.japanese)}))}function x_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function A_(t){return wo(0,[(t()(),eo(0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function N_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function P_(t){return wo(0,[(t()(),eo(0,0,null,null,7,"div",[["class","readings"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,6,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,x_)),hi(3,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(16777216,null,null,1,null,A_)),hi(5,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,N_)),hi(7,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.card.japanese_readings),t(e,5,0,n.card.hasJapReadings()&&n.card.hasChineseReadings()),t(e,7,0,n.card.chinese_readings)}),null)}function O_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[],[[2,"example",null],[2,"full-example",null]],null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,0,0,n.card.hasExamples(),!n.card.hasExamples()),t(e,1,0,n.card.german)}))}function D_(t){return wo(0,[(t()(),eo(0,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),eo(1,0,null,null,3,"ruby",[],null,null,null,null,null)),(t()(),yo(2,null,["",""])),(t()(),eo(3,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(4,null,["",""])),(t()(),yo(5,null,[" - ",""]))],null,(function(t,e){t(e,2,0,e.context.$implicit.japanese),t(e,4,0,e.context.$implicit.reading),t(e,5,0,e.context.$implicit.german)}))}function R_(t){return wo(0,[(t()(),eo(0,0,null,null,3,"div",[],[[2,"example",null],[2,"full",null]],null,null,null,null)),(t()(),eo(1,0,null,null,2,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,D_)),hi(3,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,3,0,e.component.card.examples)}),(function(t,e){var n=e.component;t(e,0,0,n.card.hasGerman(),!n.card.hasGerman())}))}function M_(t){return wo(0,[(t()(),eo(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[["class","info"]],null,null,null,null,null)),(t()(),yo(-1,null,["Keine \xdcbersetzung oder Beispiele vorhanden"]))],null,null)}function L_(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.card.german.join(", "))}))}function F_(t){return wo(0,[(t()(),eo(0,0,null,null,3,"ruby",[],null,null,null,null,null)),(t()(),yo(1,null,["",""])),(t()(),eo(2,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(3,null,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,n.card.japanese),t(e,3,0,n.card.getReading())}))}function j_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function U_(t){return wo(0,[(t()(),eo(0,0,null,null,0,"hr",[["class","line"]],null,null,null,null,null))],null,null)}function V_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function q_(t){return wo(0,[(t()(),yo(0,null,[" "," "])),(t()(),eo(1,0,null,null,6,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,j_)),hi(3,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(16777216,null,null,1,null,U_)),hi(5,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,V_)),hi(7,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.card.japanese_readings),t(e,5,0,n.card.hasChineseReadings()&&n.card.hasJapReadings()),t(e,7,0,n.card.chinese_readings)}),(function(t,e){t(e,0,0,e.component.card.japanese)}))}function z_(t){return wo(0,[(t()(),eo(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,F_)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["multiple",2]],null,0,null,q_))],(function(t,e){t(e,2,0,e.component.card.hasOnlyOneReading(),Jr(e,3))}),null)}function H_(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.card.japanese)}))}function B_(t){return wo(0,[(t()(),eo(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,z_)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,H_)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.rubi),t(e,4,0,!n.rubi)}),null)}function W_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function G_(t){return wo(0,[(t()(),eo(0,0,null,null,0,"hr",[["class","line"]],null,null,null,null,null))],null,null)}function K_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function $_(t){return wo(0,[(t()(),eo(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,6,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,W_)),hi(3,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(16777216,null,null,1,null,G_)),hi(5,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,K_)),hi(7,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.card.japanese_readings),t(e,5,0,n.card.hasChineseReadings()&&n.card.hasJapReadings()),t(e,7,0,n.card.chinese_readings)}),null)}function Q_(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.card.german.join(", "))}))}function Y_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function Z_(t){return wo(0,[(t()(),eo(0,0,null,null,0,"hr",[["class","line"]],null,null,null,null,null))],null,null)}function J_(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function X_(t){return wo(0,[(t()(),eo(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,6,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Y_)),hi(3,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(16777216,null,null,1,null,Z_)),hi(5,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,J_)),hi(7,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.card.japanese_readings),t(e,5,0,n.card.hasChineseReadings()&&n.card.hasJapReadings()),t(e,7,0,n.card.chinese_readings)}),null)}function tb(t){return wo(0,[(t()(),eo(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Q_)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,X_)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.card.hasGerman()),t(e,4,0,!n.card.hasGerman())}),null)}function eb(t){return wo(0,[(t()(),eo(0,0,null,null,3,"ruby",[],null,null,null,null,null)),(t()(),yo(1,null,["",""])),(t()(),eo(2,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(3,null,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,n.card.japanese),t(e,3,0,n.card.getReading())}))}function nb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function rb(t){return wo(0,[(t()(),eo(0,0,null,null,0,"hr",[["class","line"]],null,null,null,null,null))],null,null)}function ib(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function lb(t){return wo(0,[(t()(),yo(0,null,[" "," "])),(t()(),eo(1,0,null,null,6,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,nb)),hi(3,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(16777216,null,null,1,null,rb)),hi(5,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,ib)),hi(7,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.card.japanese_readings),t(e,5,0,n.card.hasChineseReadings()&&n.card.hasJapReadings()),t(e,7,0,n.card.chinese_readings)}),(function(t,e){t(e,0,0,e.component.card.japanese)}))}function ob(t){return wo(0,[(t()(),eo(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,eb)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["multiple",2]],null,0,null,lb))],(function(t,e){t(e,2,0,e.component.card.hasOnlyOneReading(),Jr(e,3))}),null)}function sb(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.card.japanese)}))}function ub(t){return wo(0,[(t()(),eo(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,ob)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,sb)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.rubi),t(e,4,0,!n.rubi)}),null)}function ab(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function cb(t){return wo(0,[(t()(),eo(0,0,null,null,0,"hr",[["class","line"]],null,null,null,null,null))],null,null)}function hb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function db(t){return wo(0,[(t()(),eo(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,6,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,ab)),hi(3,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(16777216,null,null,1,null,cb)),hi(5,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,hb)),hi(7,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.card.japanese_readings),t(e,5,0,n.card.hasChineseReadings()&&n.card.hasJapReadings()),t(e,7,0,n.card.chinese_readings)}),null)}function pb(t){return wo(0,[(t()(),eo(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,7,null,null,null,null,null,null,null)),hi(2,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,tb)),hi(4,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,ub)),hi(6,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,db)),hi(8,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(0,null,null,0))],(function(t,e){t(e,2,0,e.component.answer),t(e,4,0,"german"),t(e,6,0,"japanese"),t(e,8,0,"reading")}),null)}function fb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[["class","submenu2 no-print"],["title","Einstellungen Lernmodus"]],[[2,"open",null],[2,"closed-menu",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showSubmenu=!i.showSubmenu)&&r),r}),null,null)),(t()(),yo(-1,null,["\u22ee"])),(t()(),to(16777216,null,null,1,null,T_)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(4,0,null,null,18,"app-modal",[],null,[["window","resize"]],(function(t,e,n){var r=!0;return"window:resize"===e&&(r=!1!==Jr(t,5).onResize(n)&&r),r}),Em,Cm)),hi(5,4308992,[["modal",4]],0,km,[],null,null),(t()(),eo(6,0,null,0,14,"div",[["class","main-content"]],null,null,null,null,null)),(t()(),eo(7,0,null,null,13,"div",[["class","detail"]],null,null,null,null,null)),(t()(),eo(8,0,null,null,12,"div",[["class","detail-content"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,S_)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["simple",2]],null,0,null,I_)),(t()(),to(16777216,null,null,1,null,P_)),hi(13,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(14,0,null,null,0,"hr",[["class","line"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,O_)),hi(16,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,R_)),hi(18,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,M_)),hi(20,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(21,0,null,1,1,"div",[["class","teaser"]],null,null,null,null,null)),(t()(),yo(22,null,[" "," / "," "])),(t()(),eo(23,0,null,null,13,"div",[["class","learn"]],[[2,"serif",null],[2,"sans-serif",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(t.component.next(),r=!1!==Jr(t,5).positionModal()&&r),r}),null,null)),(t()(),eo(24,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(t()(),eo(25,0,null,null,7,null,null,null,null,null,null,null)),hi(26,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,L_)),hi(28,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,B_)),hi(30,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,$_)),hi(32,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),eo(33,0,null,null,0,"hr",[["class","line"]],null,null,null,null,null)),(t()(),eo(34,0,null,null,2,"div",[["class","card"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,pb)),hi(36,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.showSubmenu),t(e,5,0),t(e,10,0,n.card.hasOnlyOneReading(),Jr(e,11)),t(e,13,0,!n.card.hasOnlyOneReading()),t(e,16,0,n.card.hasGerman()),t(e,18,0,n.card.hasExamples()),t(e,20,0,!n.card.hasGerman()&&!n.card.hasExamples()),t(e,26,0,n.question),t(e,28,0,"german"),t(e,30,0,"japanese"),t(e,32,0,"reading"),t(e,36,0,"always"==n.displayMode||n.clicked)}),(function(t,e){var n=e.component;t(e,0,0,n.showSubmenu,!n.showSubmenu),t(e,22,0,n.show+1,n.cards.length),t(e,23,0,"serif"===n.fontMode,"sans-serif"===n.fontMode)}))}class gb{constructor(t,e,n,r){this.deckService=t,this.cardService=e,this.route=n,this.auth=r,this.cards=[],this.showSubmenu=!1}ngOnInit(){this.route.paramMap.subscribe(t=>{this.mode=t.get("mode"),this.auth.user.subscribe(e=>{this.user=e,this.deckService.getCardsForDeck(t.get("uid"),e.uid).snapshotChanges().subscribe(t=>{this.cards=t.map(t=>{const e=Km.createFromCardInterface(t.payload.doc.data());return e.uid=t.payload.doc.id,e})}),this.deckService.getDeckForUser(t.get("uid"),e.uid).snapshotChanges().subscribe(t=>{this.deck=t.payload.data(),this.deck.uid=t.payload.id})})})}addCard(t){this.cards.push(t),this.cardService.add(t,this.deck,this.user)}addToCollection(){this.auth.user.subscribe(t=>{this.deckService.copyDeckForUser(this.deck,t.uid)})}}var mb=er({encapsulation:0,styles:[[".show[_ngcontent-%COMP%]{padding-left:40px;padding-right:40px}h1[_ngcontent-%COMP%]{-webkit-margin-before:0;margin-block-start:0}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:rgba(100,100,100,.1)}@media (hover:hover){tr[_ngcontent-%COMP%]:hover{background-color:rgba(100,100,100,.3)}}"]],data:{}});function vb(t){return wo(0,[(t()(),eo(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(2,null,["",""])),(t()(),eo(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(4,null,["",""]))],null,(function(t,e){var n=e.component;t(e,2,0,n.deck.name),t(e,4,0,n.deck.description)}))}function yb(t){return wo(0,[(t()(),eo(0,0,null,null,53,"div",[["class","menu"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,vb)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(3,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Deck"])),(t()(),eo(5,0,null,null,5,"a",[["routerLinkActive"," active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,6).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(6,671744,[[2,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(7,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,1,{links:1}),oo(603979776,2,{linksWithHrefs:1}),(t()(),yo(-1,null,["Bearbeiten"])),(t()(),eo(11,0,null,null,6,"a",[["routerLink","/user/decks"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(12,671744,[[4,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(13,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),oo(603979776,3,{links:1}),oo(603979776,4,{linksWithHrefs:1}),mo(16,{exact:0}),(t()(),yo(-1,null,["Meine Decks"])),(t()(),eo(18,0,null,null,5,"a",[["routerLink","/user/decks/new"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,19).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(19,671744,[[6,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(20,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,5,{links:1}),oo(603979776,6,{linksWithHrefs:1}),(t()(),yo(-1,null,["Deck anlegen"])),(t()(),eo(24,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Lernmodus"])),(t()(),eo(26,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,27).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(27,671744,[[8,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(28,5),hi(29,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,7,{links:1}),oo(603979776,8,{linksWithHrefs:1}),(t()(),yo(-1,null,["Liste"])),(t()(),eo(33,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,34).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(34,671744,[[10,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(35,5),hi(36,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,9,{links:1}),oo(603979776,10,{linksWithHrefs:1}),(t()(),yo(-1,null,["Vokabelquiz"])),(t()(),eo(40,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,41).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(41,671744,[[12,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(42,5),hi(43,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,11,{links:1}),oo(603979776,12,{linksWithHrefs:1}),(t()(),yo(-1,null,["Buchstabieren"])),(t()(),eo(47,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,48).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(48,671744,[[14,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(49,5),hi(50,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,13,{links:1}),oo(603979776,14,{linksWithHrefs:1}),(t()(),yo(-1,null,["Wiederholen"]))],(function(t,e){var n=e.component;t(e,2,0,n.deck),t(e,6,0,xr(1,"/user/decks/edit/",n.deck.uid,"")),t(e,7,0," active"),t(e,12,0,"/user/decks");var r=t(e,16,0,!0);t(e,13,0,r,"active"),t(e,19,0,"/user/decks/new"),t(e,20,0,"active");var i=t(e,28,0,"/","user","decks",n.deck.uid,"list");t(e,27,0,i),t(e,29,0,"active");var l=t(e,35,0,"/","user","decks",n.deck.uid,"quiz");t(e,34,0,l),t(e,36,0,"active");var o=t(e,42,0,"/","user","decks",n.deck.uid,"grid");t(e,41,0,o),t(e,43,0,"active");var s=t(e,49,0,"/","user","decks",n.deck.uid,"learn");t(e,48,0,s),t(e,50,0,"active")}),(function(t,e){t(e,5,0,Jr(e,6).target,Jr(e,6).href),t(e,11,0,Jr(e,12).target,Jr(e,12).href),t(e,18,0,Jr(e,19).target,Jr(e,19).href),t(e,26,0,Jr(e,27).target,Jr(e,27).href),t(e,33,0,Jr(e,34).target,Jr(e,34).href),t(e,40,0,Jr(e,41).target,Jr(e,41).href),t(e,47,0,Jr(e,48).target,Jr(e,48).href)}))}function _b(t){return wo(0,[(t()(),eo(0,0,null,null,6,"app-modal",[],null,[["window","resize"]],(function(t,e,n){var r=!0;return"window:resize"===e&&(r=!1!==Jr(t,1).onResize(n)&&r),r}),Em,Cm)),hi(1,4308992,[["modal",4]],0,km,[],null,null),(t()(),eo(2,0,null,0,2,"div",[["class","main-content"]],null,null,null,null,null)),(t()(),eo(3,0,null,null,1,"app-new-card",[],null,[[null,"newCard"]],(function(t,e,n){var r=!0;return"newCard"===e&&(r=!1!==t.component.addCard(n)&&r),r}),k_,v_)),hi(4,114688,null,0,m_,[bm],{deck:[0,"deck"]},{newCard:"newCard"}),(t()(),eo(5,0,null,1,1,"div",[["class","teaser"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Neue Karte "]))],(function(t,e){var n=e.component;t(e,1,0),t(e,4,0,n.deck)}),null)}function bb(t){return wo(0,[(t()(),eo(0,0,null,null,3,"a",[["class","backlink muted"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(1,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),eo(2,0,null,null,0,"i",[["class","feather icon-chevron-left"]],null,null,null,null,null)),(t()(),yo(3,null,[" ",""]))],(function(t,e){t(e,1,0,xr(1,"/user/decks/",e.component.deck.uid,"/list"))}),(function(t,e){var n=e.component;t(e,0,0,Jr(e,1).target,Jr(e,1).href),t(e,3,0,n.deck.name)}))}function wb(t){return wo(0,[(t()(),eo(0,0,null,null,3,"a",[["class","backlink muted"],["routerLink","/user/decks"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(1,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),eo(2,0,null,null,0,"i",[["class","feather icon-chevron-left"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Meine Decks"]))],(function(t,e){t(e,1,0,"/user/decks")}),(function(t,e){t(e,0,0,Jr(e,1).target,Jr(e,1).href)}))}function kb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.deck.name)}))}function Cb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.deck.description)}))}function Eb(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(1,null,[" ",' beinhaltet noch keine Karten. W\xe4hle "Neue Karte +" um Vokabeln anzulegen. ']))],null,(function(t,e){t(e,1,0,e.component.deck.name)}))}function Tb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-list",[],null,null,null,mv,Ym)),hi(1,245760,null,0,Qm,[kf,rg,$m],{cards:[0,"cards"],deck:[1,"deck"],allowEdit:[2,"allowEdit"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.cards,n.deck,!0)}),null)}function Sb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-quiz",[],null,null,null,xy,Yv)),hi(1,114688,null,0,Qv,[cp,lg,$m],{deck:[0,"deck"]},null)],(function(t,e){t(e,1,0,e.component.cards)}),null)}function Ib(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-grid",[],null,null,null,My,Oy)),hi(1,245760,null,0,Py,[Tm,$m],{deck:[0,"deck"]},null)],(function(t,e){t(e,1,0,e.component.cards)}),null)}function xb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-learn",[],null,null,null,fb,E_)),hi(1,245760,null,0,C_,[lg,$m],{_cards:[0,"_cards"]},null)],(function(t,e){t(e,1,0,e.component.cards)}),null)}function Ab(t){return wo(0,[(t()(),eo(0,0,null,null,18,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,bb)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,wb)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,kb)),hi(6,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Cb)),hi(8,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Eb)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Tb)),hi(12,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Sb)),hi(14,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Ib)),hi(16,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,xb)),hi(18,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,"list"!=n.mode&&n.deck),t(e,4,0,"list"==n.mode),t(e,6,0,"list"==n.mode&&n.deck),t(e,8,0,"list"==n.mode&&n.deck),t(e,10,0,n.cards.length<1&&n.deck),t(e,12,0,"list"===n.mode),t(e,14,0,"quiz"===n.mode),t(e,16,0,"grid"===n.mode),t(e,18,0,"learn"===n.mode)}),null)}function Nb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[["class","submenu no-print"],["title","Einstellungen Lernmodus"]],[[2,"open",null],[2,"closed-menu",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showSubmenu=!i.showSubmenu)&&r),r}),null,null)),(t()(),yo(-1,null,["\u270d\ufe0e"])),(t()(),to(16777216,null,null,1,null,yb)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(4,0,null,null,4,"div",[["class","content"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,_b)),hi(6,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Ab)),hi(8,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.showSubmenu),t(e,6,0,n.deck&&"list"==n.mode),t(e,8,0,n.deck)}),(function(t,e){var n=e.component;t(e,0,0,n.showSubmenu,!n.showSubmenu)}))}function Pb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-show",[],null,null,null,Nb,mb)),hi(1,114688,null,0,gb,[lg,rg,cp,ng],null,null)],(function(t,e){t(e,1,0)}),null)}var Ob=qr("app-show",gb,Pb,{},{},[]);class Db{constructor(t,e,n,r,i){this.cardService=t,this.route=e,this.router=n,this.fb=r,this.auth=i,this.cardForm=this.fb.group({german:this.fb.array([]),japanese:["",Pg.required],japanese_readings:this.fb.array([]),chinese_readings:this.fb.array([]),examples:this.fb.array([])})}get deckForm(){return this.cardForm.get("decks")}get german(){return this.cardForm.get("german")}get japanese(){return this.cardForm.get("japanese")}get japanese_readings(){return this.cardForm.get("japanese_readings")}get chinese_readings(){return this.cardForm.get("chinese_readings")}get examples(){return this.cardForm.get("examples")}ngOnInit(){this.auth.user.subscribe(t=>{this.user_uid=t.uid,this.route.paramMap.subscribe(e=>{this.deck_uid=e.get("deck_uid"),e.has("card_uid")?this.cardService.get(e.get("card_uid"),e.get("deck_uid"),t.uid).snapshotChanges().subscribe(t=>{this.card=Km.createFromCardInterface(t.payload.data()),this.card.uid=t.payload.id,this.card.german.forEach(t=>{this.addReading(this.german,t)}),this.japanese.setValue(this.card.japanese),this.card.japanese_readings.forEach(t=>{this.addReading(this.japanese_readings,t)}),this.card.chinese_readings.forEach(t=>{this.addReading(this.chinese_readings,t)}),this.card.examples&&this.card.examples.forEach(t=>{this.addExample(this.examples,t)})}):this.card={german:[],decks:[],cardType:Gm.simple}})})}addExample(t,e){if(e){const n=this.fb.group({japanese:e.japanese,reading:e.reading,german:e.german});t.push(n)}else{const e=this.fb.group({japanese:["",Pg.required],reading:[""],german:[""]});t.push(e)}}addReading(t,e=""){t.push(this.fb.control(e,[Pg.required]))}removeReadingAtIndex(t,e){t.removeAt(e)}removeReading(t){t.removeAt(t.length-1)}onSubmit(){this.cardForm.valid&&(this.card.german=this.german.value,this.card.japanese=this.japanese.value,this.card.japanese_readings=this.japanese_readings.value,this.card.chinese_readings=this.chinese_readings.value,this.card.examples=this.examples.value,this.card.uid?this.cardService.update(this.card,this.deck_uid,this.user_uid):this.cardService.add(this.card),this.router.navigate(["/","user","decks",this.deck_uid,"list"]))}onDelete(){confirm("Karte l\xf6schen? Sie wird aus allen Decks entfernt in denen sie enthalten war.")&&(this.router.navigate(["/","user","decks",this.deck_uid,"list"]),this.cardService.delete(this.card.uid,this.deck_uid,this.user_uid))}}var Rb=er({encapsulation:0,styles:[[".edit[_ngcontent-%COMP%]{padding:1px 40px 40px}"]],data:{}});function Mb(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","input_group"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.german,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(3,0,null,null,5,"input",[["placeholder","Kanji, Hiragana, Katakana \xdcbersetzung"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(6,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(8,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,6,0,e.context.index)}),(function(t,e){t(e,3,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending)}))}function Lb(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","input_group"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.japanese_readings,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(3,0,null,null,5,"input",[["placeholder","\u3072\u3068"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(6,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(8,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,6,0,e.context.index)}),(function(t,e){t(e,3,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending)}))}function Fb(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","input_group"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.chinese_readings,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(3,0,null,null,5,"input",[["placeholder","\u30b8\u30f3"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(6,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(8,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,6,0,e.context.index)}),(function(t,e){t(e,3,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending)}))}function jb(t){return wo(0,[(t()(),eo(0,0,null,null,33,null,null,null,null,null,null,null)),hi(1,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(3,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(4,0,null,null,29,"div",[["class","input_group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(5,212992,null,0,gm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[gm]),hi(7,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(8,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.examples,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(10,0,null,null,7,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["Japanisch "])),(t()(),eo(12,0,null,null,5,"input",[["formControlName","japanese"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,13)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,13).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,13)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,13)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(13,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(15,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(17,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(18,0,null,null,7,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["Lesung "])),(t()(),eo(20,0,null,null,5,"input",[["formControlName","reading"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,21)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,21).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,21)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,21)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(21,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(23,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(25,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(26,0,null,null,7,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["\xdcbersetzung "])),(t()(),eo(28,0,null,null,5,"input",[["formControlName","german"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,29)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,29).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,29)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,29)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(29,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(31,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(33,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,1,0,"examples"),t(e,5,0,e.context.index),t(e,15,0,"japanese"),t(e,23,0,"reading"),t(e,31,0,"german")}),(function(t,e){t(e,4,0,Jr(e,7).ngClassUntouched,Jr(e,7).ngClassTouched,Jr(e,7).ngClassPristine,Jr(e,7).ngClassDirty,Jr(e,7).ngClassValid,Jr(e,7).ngClassInvalid,Jr(e,7).ngClassPending),t(e,12,0,Jr(e,17).ngClassUntouched,Jr(e,17).ngClassTouched,Jr(e,17).ngClassPristine,Jr(e,17).ngClassDirty,Jr(e,17).ngClassValid,Jr(e,17).ngClassInvalid,Jr(e,17).ngClassPending),t(e,20,0,Jr(e,25).ngClassUntouched,Jr(e,25).ngClassTouched,Jr(e,25).ngClassPristine,Jr(e,25).ngClassDirty,Jr(e,25).ngClassValid,Jr(e,25).ngClassInvalid,Jr(e,25).ngClassPending),t(e,28,0,Jr(e,33).ngClassUntouched,Jr(e,33).ngClassTouched,Jr(e,33).ngClassPristine,Jr(e,33).ngClassDirty,Jr(e,33).ngClassValid,Jr(e,33).ngClassInvalid,Jr(e,33).ngClassPending)}))}function Ub(t){return wo(0,[(t()(),eo(0,0,null,null,74,"div",[["class","edit"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),yo(-1,null,["Lernkarte bearbeiten"])),(t()(),eo(3,0,null,null,71,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Jr(t,5).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,5).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit()&&r),r}),null,null)),hi(4,16384,null,0,hm,[],null,null),hi(5,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),pi(2048,null,Cg,null,[fm]),hi(7,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(8,0,null,null,1,"label",[["for","japanese"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Japanisch "])),(t()(),eo(10,0,null,null,5,"input",[["formControlName","japanese"],["id","japanese"],["placeholder","\u6f22\u5b57\u3001\u3072\u3089\u304c\u306a\u3001\u30ab\u30bf\u30ab\u30ca"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,11)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,11).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,11)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,11)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(11,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(13,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(15,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(16,0,null,null,9,"div",[["class","form_array"],["formArrayName","german"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(17,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(19,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(20,0,null,null,3,"label",[["for","german"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addReading(i.german)&&r),r}),null,null)),(t()(),eo(21,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["\xdcbersetzung/Bedeutung "])),(t()(),to(16777216,null,null,1,null,Mb)),hi(25,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(26,0,null,null,18,"div",[["class","form_array"],["formArrayName","japanese_readings"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(27,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(29,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(30,0,null,null,12,"label",[["for","japanese_readings"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addReading(i.japanese_readings)&&r),r}),null,null)),(t()(),eo(31,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["Japanische Lesungen ("])),(t()(),eo(34,0,null,null,7,"ruby",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u8a13"])),(t()(),eo(36,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u304f\u3093"])),(t()(),yo(-1,null,["\u8aad"])),(t()(),eo(39,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u3088"])),(t()(),yo(-1,null,["\u307f"])),(t()(),yo(-1,null,[") "])),(t()(),to(16777216,null,null,1,null,Lb)),hi(44,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(45,0,null,null,18,"div",[["class","form_array"],["formArrayName","chinese_readings"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(46,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(48,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(49,0,null,null,12,"label",[["for","chinese_readings"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addReading(i.chinese_readings)&&r),r}),null,null)),(t()(),eo(50,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["Chinesische Lesungen ("])),(t()(),eo(53,0,null,null,7,"ruby",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u97f3"])),(t()(),eo(55,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u304a\u3093"])),(t()(),yo(-1,null,["\u8aad"])),(t()(),eo(58,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u3088"])),(t()(),yo(-1,null,["\u307f"])),(t()(),yo(-1,null,[") "])),(t()(),to(16777216,null,null,1,null,Fb)),hi(63,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(64,0,null,null,6,"div",[["class","form_array"]],null,null,null,null,null)),(t()(),eo(65,0,null,null,3,"label",[["for","examples"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addExample(i.examples)&&r),r}),null,null)),(t()(),eo(66,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["Beispiel "])),(t()(),to(16777216,null,null,1,null,jb)),hi(70,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(71,0,null,null,1,"button",[["type","submit"]],[[2,"disabled",null]],null,null,null,null)),(t()(),yo(-1,null,["Speichern & Zur\xfcck"])),(t()(),eo(73,0,null,null,1,"a",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onDelete()&&r),r}),null,null)),(t()(),yo(-1,null,["L\xf6schen"]))],(function(t,e){var n=e.component;t(e,5,0,n.cardForm),t(e,13,0,"japanese"),t(e,17,0,"german"),t(e,25,0,n.german.controls),t(e,27,0,"japanese_readings"),t(e,44,0,n.japanese_readings.controls),t(e,46,0,"chinese_readings"),t(e,63,0,n.chinese_readings.controls),t(e,70,0,n.examples.controls)}),(function(t,e){var n=e.component;t(e,3,0,Jr(e,7).ngClassUntouched,Jr(e,7).ngClassTouched,Jr(e,7).ngClassPristine,Jr(e,7).ngClassDirty,Jr(e,7).ngClassValid,Jr(e,7).ngClassInvalid,Jr(e,7).ngClassPending),t(e,10,0,Jr(e,15).ngClassUntouched,Jr(e,15).ngClassTouched,Jr(e,15).ngClassPristine,Jr(e,15).ngClassDirty,Jr(e,15).ngClassValid,Jr(e,15).ngClassInvalid,Jr(e,15).ngClassPending),t(e,16,0,Jr(e,19).ngClassUntouched,Jr(e,19).ngClassTouched,Jr(e,19).ngClassPristine,Jr(e,19).ngClassDirty,Jr(e,19).ngClassValid,Jr(e,19).ngClassInvalid,Jr(e,19).ngClassPending),t(e,26,0,Jr(e,29).ngClassUntouched,Jr(e,29).ngClassTouched,Jr(e,29).ngClassPristine,Jr(e,29).ngClassDirty,Jr(e,29).ngClassValid,Jr(e,29).ngClassInvalid,Jr(e,29).ngClassPending),t(e,45,0,Jr(e,48).ngClassUntouched,Jr(e,48).ngClassTouched,Jr(e,48).ngClassPristine,Jr(e,48).ngClassDirty,Jr(e,48).ngClassValid,Jr(e,48).ngClassInvalid,Jr(e,48).ngClassPending),t(e,71,0,!n.cardForm.valid)}))}function Vb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-user-card-edit",[],null,null,null,Ub,Rb)),hi(1,114688,null,0,Db,[rg,cp,kf,bm,ng],null,null)],(function(t,e){t(e,1,0)}),null)}var qb=qr("app-user-card-edit",Db,Vb,{},{},[]);class zb{constructor(t,e){this.decks=[],t.loadAll().snapshotChanges().subscribe(t=>{this.decks=t.map(t=>{const e=t.payload.doc.data();return e.uid=t.payload.doc.id,e})})}ngOnInit(){}}var Hb=er({encapsulation:0,styles:[[".grid[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:30px}.grid-content[_ngcontent-%COMP%]{color:#fff;width:170px;height:100px;background-color:#002828;border-radius:4px;margin:5px;text-decoration:none;position:relative;transition:.3s;padding:10px}@media (hover:hover){.grid-content[_ngcontent-%COMP%]:hover{background-color:#003737;box-shadow:inset 0 0 10px #000}}.deck_grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly}.deck_name[_ngcontent-%COMP%]{text-align:left;font-family:sans-serif}.deck_description[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.deck_created[_ngcontent-%COMP%]{position:absolute;font-size:10px;bottom:5px;right:5px;text-align:right}"]],data:{}});function Bb(t){return wo(0,[(t()(),eo(0,0,null,null,9,"a",[["class","grid-content"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(1,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(2,4),(t()(),eo(3,0,null,null,1,"div",[["class","deck_name"]],null,null,null,null,null)),(t()(),yo(4,null,[" "," "])),(t()(),eo(5,0,null,null,1,"div",[["class","deck_description"]],null,null,null,null,null)),(t()(),yo(6,null,[" "," "])),(t()(),eo(7,0,null,null,2,"div",[["class","deck_created"]],null,null,null,null,null)),(t()(),yo(8,null,[" "," "])),fo(9,2)],(function(t,e){var n=t(e,2,0,"/","decks",e.context.$implicit.uid,"list");t(e,1,0,n)}),(function(t,e){t(e,0,0,Jr(e,1).target,Jr(e,1).href),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.description);var n=Jn(e,8,0,t(e,9,0,Jr(e.parent,0),e.context.$implicit.createdAt.toDate(),"dd.MM.yy"));t(e,8,0,n)}))}function Wb(t){return wo(0,[di(0,ua,[Qi]),(t()(),eo(1,0,null,null,7,"div",[["class","content"]],null,null,null,null,null)),(t()(),eo(2,0,null,null,3,"a",[["class","backlink muted"],["routerLink",""]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(3,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),eo(4,0,null,null,0,"i",[["class","feather icon-chevron-left"]],null,null,null,null,null)),(t()(),yo(-1,null,["Home"])),(t()(),eo(6,0,null,null,2,"div",[["class","deck_grid"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Bb)),hi(8,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,""),t(e,8,0,n.decks)}),(function(t,e){t(e,2,0,Jr(e,3).target,Jr(e,3).href)}))}function Gb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-list",[],null,null,null,Wb,Hb)),hi(1,114688,null,0,zb,[lg,ng],null,null)],(function(t,e){t(e,1,0)}),null)}var Kb=qr("app-list",zb,Gb,{},{},[]);class $b{constructor(){this.filename=this.filename||"mycsv.csv",this.options=this.objectAssign({},Yb,this.options),this.label_btn="download",this.csv=""}onDownload(){this.generateCsv()}ngOnInit(){}generateCsv(){if(this.options.useBom&&(this.csv+=Qb.BOM),this.options.showTitle&&(this.csv+=this.options.title+"\r\n\n"),this.getHeaders(),this.getBody(),""===this.csv)return void console.log("Invalid data");let t=new Blob([this.csv],{type:"text/csv;charset=utf8;"});if(navigator.msSaveBlob){let e=this.options.filename.replace(/ /g,"_")+".csv";navigator.msSaveBlob(t,e)}else{encodeURI(this.csv);let e=document.createElement("a");e.href=URL.createObjectURL(t),e.setAttribute("visibility","hidden"),e.download=this.filename.replace(/ /g,"_")+".csv",document.body.appendChild(e),e.click(),document.body.removeChild(e)}this.csv=""}getHeaders(){if(this.options.headers.length>0){let t="";for(let e of this.options.headers)t+=e+this.options.fieldSeparator;t=t.slice(0,-1),this.csv+=t+Qb.EOL}}getBody(){for(let t of this.data){let e="";if(!this.isEmptyObject(t)||!this.options.removeNewLines)if(void 0!==this.options.keys&&this.options.keys.length){for(let n of this.options.keys)e+=this.formartData(t[n])+this.options.fieldSeparator;e=e.slice(0,-1),this.csv+=e+Qb.EOL}else{for(let n in t)t[n]&&(e+=this.formartData(t[n])+this.options.fieldSeparator);this.csv+=e+Qb.EOL}}}formartData(t){return"locale"===this.options.decimalseparator&&this.isFloat(t)?t.toLocaleString():"."!==this.options.decimalseparator&&this.isFloat(t)?t.toString().replace(".",this.options.decimalseparator):"string"==typeof t?(t=t.replace(/"/g,'""'),(this.options.quoteStrings||t.indexOf(",")>-1||t.indexOf("\n")>-1||t.indexOf("\r")>-1)&&(t=this.options.quoteStrings+t+this.options.quoteStrings),t):"boolean"==typeof t?t?"TRUE":"FALSE":t}isEmptyObject(t){return t&&0===Object.keys(t).length}isFloat(t){return+t===t&&(!isFinite(t)||Boolean(t%1))}toObject(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}objectAssign(t,...e){let n,r,i=this.toObject(t),l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;for(let s=1;s<arguments.length;s++){n=Object(arguments[s]);for(let t in n)l.call(n,t)&&(i[t]=n[t]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(n);for(let t of r)o.call(n,t)&&(i[t]=n[t])}}return i}}let Qb=(()=>{class t{}return t.EOL="\r\n",t.BOM="\ufeff",t.DEFAULT_FIELD_SEPARATOR=",",t.DEFAULT_DECIMAL_SEPARATOR=".",t.DEFAULT_QUOTE='"',t.DEFAULT_SHOW_TITLE=!1,t.DEFAULT_TITLE="My Report",t.DEFAULT_FILENAME="mycsv.csv",t.DEFAULT_SHOW_LABELS=!1,t.DEFAULT_USE_BOM=!0,t.DEFAULT_HEADER=[],t.DEFAULT_KEY=[],t.DEFAULT_REMOVE_NEW_LINES=!1,t})();const Yb={filename:Qb.DEFAULT_FILENAME,fieldSeparator:Qb.DEFAULT_FIELD_SEPARATOR,quoteStrings:Qb.DEFAULT_QUOTE,decimalseparator:Qb.DEFAULT_DECIMAL_SEPARATOR,showLabels:Qb.DEFAULT_SHOW_LABELS,showTitle:Qb.DEFAULT_SHOW_TITLE,title:Qb.DEFAULT_TITLE,useBom:Qb.DEFAULT_USE_BOM,headers:Qb.DEFAULT_HEADER,keys:Qb.DEFAULT_KEY,removeNewLines:Qb.DEFAULT_REMOVE_NEW_LINES};class Zb{}var Jb=er({encapsulation:2,styles:[],data:{}});function Xb(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onDownload()&&r),r}),null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.label_btn)}))}class tw{constructor(t,e,n,r,i){this.DeckService=t,this.CardService=e,this.route=n,this.router=r,this.fb=i,this.deckForm=this.fb.group({name:["",[Pg.required]],description:[""]}),this.options={fieldSeparator:";",showLabels:!1,headers:["japanese","reading","german"],useBom:!1,removeNewLines:!1},this.data=[{japanese:"\u7dba\u9e97",reading:"\u304d\u308c\u3044",german:"sch\xf6n"}]}ngOnInit(){this.route.paramMap.subscribe(t=>{t.has("uid")?this.DeckService.get(t.get("uid")).snapshotChanges().subscribe(t=>{this.deck=t.payload.data(),this.deck.uid=t.payload.id,this.deckForm.get("name").setValue(this.deck.name),this.deckForm.get("description").setValue(this.deck.description)}):this.deck={name:"",description:"",author:"",uid:"",numberCards:0}})}onSubmit(){this.deck.name=this.deckForm.get("name").value,this.deck.description=this.deckForm.get("description").value,this.deck.uid?(this.DeckService.update(this.deck.uid,this.deck),this.router.navigate(["/decks",this.deck.uid])):this.DeckService.add(this.deck).then(t=>{this.router.navigate(["/decks",t.id])})}onDelete(){confirm("Deck l\xf6schen? Lernkarten bleiben erhalten.")&&(this.DeckService.delete(this.deck.uid),this.router.navigate(["/decks"]))}importCSVCards(t){if(t.files&&t.files.length){const e=new FileReader;e.onload=this.onFileLoad();for(let n=0;n<t.files.length;n++)e.readAsText(t.files[n],"UTF-8")}}onFileLoad(){return t=>{const e=[];t.target.result.split("\r").forEach(t=>{const n=t.split(";");e.push(n)}),console.log(e),e.forEach(t=>{if("japanese"!==t.japanese){const e=new Km;e.japanese=t[0],e.japanese_readings=t[1].split(","),e.german=t[2].split(","),this.CardService.add(e)}})}}}var ew=er({encapsulation:0,styles:[[".edit[_ngcontent-%COMP%]{padding:0 40px}"]],data:{}});function nw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"a",[["class","muted"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onDelete()&&r),r}),null,null)),(t()(),yo(-1,null,["L\xf6schen"]))],null,null)}function rw(t){return wo(0,[(t()(),eo(0,0,null,null,28,"div",[["class","edit"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,27,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Jr(t,3).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,3).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit()&&r),r}),null,null)),hi(2,16384,null,0,hm,[],null,null),hi(3,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),pi(2048,null,Cg,null,[fm]),hi(5,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(6,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Name des Decks "])),(t()(),eo(8,0,null,null,5,"input",[["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,9)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,9).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,9)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,9)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(9,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(11,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(13,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(14,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Beschreibung "])),(t()(),eo(16,0,null,null,5,"input",[["formControlName","description"],["id","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,17)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,17).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,17)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,17)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(17,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(19,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(21,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(22,0,null,null,1,"button",[["type","submit"]],null,null,null,null,null)),(t()(),yo(-1,null,["Speichern"])),(t()(),to(16777216,null,null,1,null,nw)),hi(25,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(26,0,null,null,1,"angular2csv",[["filename","vokabeldojo_example.csv"]],null,null,null,Xb,Jb)),hi(27,114688,null,0,$b,[],{data:[0,"data"],filename:[1,"filename"],options:[2,"options"]},null),(t()(),eo(28,0,null,null,0,"input",[["accept",".csv"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.importCSVCards(n.target)&&r),r}),null,null))],(function(t,e){var n=e.component;t(e,3,0,n.deckForm),t(e,11,0,"name"),t(e,19,0,"description"),t(e,25,0,n.deck.uid),t(e,27,0,n.data,"vokabeldojo_example.csv",n.options)}),(function(t,e){t(e,1,0,Jr(e,5).ngClassUntouched,Jr(e,5).ngClassTouched,Jr(e,5).ngClassPristine,Jr(e,5).ngClassDirty,Jr(e,5).ngClassValid,Jr(e,5).ngClassInvalid,Jr(e,5).ngClassPending),t(e,8,0,Jr(e,13).ngClassUntouched,Jr(e,13).ngClassTouched,Jr(e,13).ngClassPristine,Jr(e,13).ngClassDirty,Jr(e,13).ngClassValid,Jr(e,13).ngClassInvalid,Jr(e,13).ngClassPending),t(e,16,0,Jr(e,21).ngClassUntouched,Jr(e,21).ngClassTouched,Jr(e,21).ngClassPristine,Jr(e,21).ngClassDirty,Jr(e,21).ngClassValid,Jr(e,21).ngClassInvalid,Jr(e,21).ngClassPending)}))}function iw(t){return wo(0,[(t()(),eo(0,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,rw)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.deck)}),null)}function lw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-deck-public-edit",[],null,null,null,iw,ew)),hi(1,114688,null,0,tw,[lg,rg,cp,kf,bm],null,null)],(function(t,e){t(e,1,0)}),null)}var ow=qr("app-deck-public-edit",tw,lw,{},{},[]);class sw{constructor(t,e,n,r,i){this.deckService=t,this.cardService=e,this.route=n,this.router=r,this.auth=i,this.cards=[],this.oldCards=[],this.allowEdit=!1,this.showSubmenu=!1}ngOnInit(){this.auth.user.subscribe(t=>{t&&(this.user=t,this.allowEdit="admin"===t.role)}),this.route.paramMap.subscribe(t=>{this.mode=t.get("mode"),this.cardService.loadForDeckLegacy(t.get("uid")).get().then(t=>{this.oldCards=t.docs.map(t=>{const e=Km.createFromCardInterface(t.data());return e.uid=t.id,e})}),this.deckService.get(t.get("uid")).valueChanges().subscribe(e=>{this.deck=e,this.deck.uid=t.get("uid"),this.cardService.loadForDeck(this.deck.name,this.deck.uid).get().then(t=>{this.cards=t.docs.map(t=>{const e=Km.createFromCardInterface(t.data());return e.uid=t.id,e})})})})}addCard(t){this.cards.push(t),this.cardService.add(t,this.deck)}editMe(t){this.allowEdit&&this.router.navigate(["/","cards","edit",t.uid])}addToCollection(){confirm("Dieses Deck jetzt kopieren?")&&this.auth.user.subscribe(t=>{this.deckService.copyDeckForUser(this.deck,t.uid).then(e=>{this.deckService.copyCardsIntoDeck(this.deck.uid,t.uid,e.id),this.router.navigate(["/","user","decks",e.id])})})}}var uw=er({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{-webkit-margin-before:0;margin-block-start:0}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:rgba(100,100,100,.1)}@media (hover:hover){tr[_ngcontent-%COMP%]:hover{background-color:rgba(100,100,100,.3)}}ul[_ngcontent-%COMP%]{list-style:none;text-align:left}"]],data:{}});function aw(t){return wo(0,[(t()(),eo(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(2,null,["",""])),(t()(),eo(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(4,null,["",""]))],null,(function(t,e){var n=e.component;t(e,2,0,n.deck.name),t(e,4,0,n.deck.description)}))}function cw(t){return wo(0,[(t()(),eo(0,0,null,null,6,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Jr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.showSubmenu=!1)&&r),r}),null,null)),hi(1,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(2,3),mo(3,{modal:0}),mo(4,{outlets:0}),go(5,2),(t()(),yo(-1,null,["Neue Karte"]))],(function(t,e){var n=t(e,5,0,"",t(e,4,0,t(e,3,0,t(e,2,0,"cards","new",e.component.deck.uid))));t(e,1,0,n)}),(function(t,e){t(e,0,0,Jr(e,1).target,Jr(e,1).href)}))}function hw(t){return wo(0,[(t()(),eo(0,0,null,null,16,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,5,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(2,671744,[[10,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(3,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,9,{links:1}),oo(603979776,10,{linksWithHrefs:1}),(t()(),yo(-1,null,["Bearbeiten"])),(t()(),eo(7,0,null,null,5,"a",[["routerLink","/decks/new"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(8,671744,[[12,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(9,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,11,{links:1}),oo(603979776,12,{linksWithHrefs:1}),(t()(),yo(-1,null,["Deck anlegen"])),(t()(),eo(13,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Karten"])),(t()(),to(16777216,null,null,1,null,cw)),hi(16,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,xr(1,"/decks/edit/",n.deck.uid,"")),t(e,3,0,"active"),t(e,8,0,"/decks/new"),t(e,9,0,"active"),t(e,16,0,n.deck)}),(function(t,e){t(e,1,0,Jr(e,2).target,Jr(e,2).href),t(e,7,0,Jr(e,8).target,Jr(e,8).href)}))}function dw(t){return wo(0,[(t()(),eo(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,hw)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){t(e,2,0,"admin"==e.context.ngIf.role)}),null)}function pw(t){return wo(0,[(t()(),eo(0,0,null,null,35,"div",[["class","menu"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,aw)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(3,0,null,null,1,"app-font-switcher",[],null,null,null,$v,Kv)),hi(4,245760,null,0,Gv,[$m],null,null),(t()(),eo(5,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Lernmodus"])),(t()(),eo(7,0,null,null,5,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(8,671744,[[2,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(9,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,1,{links:1}),oo(603979776,2,{linksWithHrefs:1}),(t()(),yo(-1,null,["Vokabelquiz"])),(t()(),eo(13,0,null,null,5,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(14,671744,[[4,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(15,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,3,{links:1}),oo(603979776,4,{linksWithHrefs:1}),(t()(),yo(-1,null,["Buchstabieren"])),(t()(),eo(19,0,null,null,5,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,20).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(20,671744,[[6,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(21,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,5,{links:1}),oo(603979776,6,{linksWithHrefs:1}),(t()(),yo(-1,null,["Wiederholen"])),(t()(),eo(25,0,null,null,5,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,26).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(26,671744,[[8,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(27,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,7,{links:1}),oo(603979776,8,{linksWithHrefs:1}),(t()(),yo(-1,null,["Liste"])),(t()(),eo(31,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Deck"])),(t()(),to(16777216,null,null,2,null,dw)),hi(34,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),di(131072,sa,[Ne])],(function(t,e){var n=e.component;t(e,2,0,n.deck),t(e,4,0),t(e,8,0,xr(1,"/decks/",n.deck.uid,"/quiz")),t(e,9,0,"active"),t(e,14,0,xr(1,"/decks/",n.deck.uid,"/grid")),t(e,15,0,"active"),t(e,20,0,xr(1,"/decks/",n.deck.uid,"/learn")),t(e,21,0,"active"),t(e,26,0,xr(1,"/decks/",n.deck.uid,"/list")),t(e,27,0,"active"),t(e,34,0,Jn(e,34,0,Jr(e,35).transform(n.auth.user)))}),(function(t,e){t(e,7,0,Jr(e,8).target,Jr(e,8).href),t(e,13,0,Jr(e,14).target,Jr(e,14).href),t(e,19,0,Jr(e,20).target,Jr(e,20).href),t(e,25,0,Jr(e,26).target,Jr(e,26).href)}))}function fw(t){return wo(0,[(t()(),eo(0,0,null,null,3,"a",[["class","backlink muted"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(1,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),eo(2,0,null,null,0,"i",[["class","feather icon-chevron-left"]],null,null,null,null,null)),(t()(),yo(3,null,[" ",""]))],(function(t,e){t(e,1,0,xr(1,"/decks/",e.component.deck.uid,"/list"))}),(function(t,e){var n=e.component;t(e,0,0,Jr(e,1).target,Jr(e,1).href),t(e,3,0,n.deck.name)}))}function gw(t){return wo(0,[(t()(),eo(0,0,null,null,3,"a",[["class","backlink muted"],["routerLink","/decks"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(1,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),(t()(),eo(2,0,null,null,0,"i",[["class","feather icon-chevron-left"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Alle Decks"]))],(function(t,e){t(e,1,0,"/decks")}),(function(t,e){t(e,0,0,Jr(e,1).target,Jr(e,1).href)}))}function mw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(1,null,[""," "]))],null,(function(t,e){t(e,1,0,e.component.deck.description)}))}function vw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[["class","button no-print"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addToCollection()&&r),r}),null,null)),(t()(),yo(-1,null,["+ Zu meinen Decks hinzuf\xfcgen"]))],null,null)}function yw(t){return wo(0,[(t()(),eo(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),yo(2,null,["",""])),(t()(),to(16777216,null,null,1,null,mw)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(5,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),to(16777216,null,null,2,null,vw)),hi(7,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),di(131072,sa,[Ne])],(function(t,e){var n=e.component;t(e,4,0,n.deck.description),t(e,7,0,Jn(e,7,0,Jr(e,8).transform(n.auth.user)))}),(function(t,e){t(e,2,0,e.component.deck.name)}))}function _w(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-list",[],null,null,null,mv,Ym)),hi(1,245760,null,0,Qm,[kf,rg,$m],{cards:[0,"cards"],allowEdit:[1,"allowEdit"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.cards,n.allowEdit)}),null)}function bw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-quiz",[],null,null,null,xy,Yv)),hi(1,114688,null,0,Qv,[cp,lg,$m],{deck:[0,"deck"]},null)],(function(t,e){t(e,1,0,e.component.cards)}),null)}function ww(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-grid",[],null,null,null,My,Oy)),hi(1,245760,null,0,Py,[Tm,$m],{deck:[0,"deck"]},null)],(function(t,e){t(e,1,0,e.component.cards)}),null)}function kw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-learn",[],null,null,null,fb,E_)),hi(1,245760,null,0,C_,[lg,$m],{_cards:[0,"_cards"]},null)],(function(t,e){t(e,1,0,e.component.cards)}),null)}function Cw(t){return wo(0,[(t()(),eo(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,_w)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,bw)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,ww)),hi(6,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,kw)),hi(8,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,"list"===n.mode),t(e,4,0,"quiz"===n.mode),t(e,6,0,"grid"===n.mode),t(e,8,0,"learn"===n.mode)}),null)}function Ew(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-word-list",[],null,null,null,mv,Ym)),hi(1,245760,null,0,Qm,[kf,rg,$m],{cards:[0,"cards"],allowEdit:[1,"allowEdit"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.oldCards,n.allowEdit)}),null)}function Tw(t){return wo(0,[(t()(),eo(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),yo(-1,null,["Legacy"])),(t()(),to(16777216,null,null,1,null,Ew)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){t(e,4,0,"list"===e.component.mode)}),null)}function Sw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"button",[["class","submenu no-print"],["title","Einstellungen Lernmodus"]],[[2,"open",null],[2,"closed-menu",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.showSubmenu=!i.showSubmenu)&&r),r}),null,null)),(t()(),yo(-1,null,["\u270d\ufe0e"])),(t()(),to(16777216,null,null,1,null,pw)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(4,0,null,null,10,"div",[["class","content"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,fw)),hi(6,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,gw)),hi(8,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,yw)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Cw)),hi(12,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Tw)),hi(14,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.showSubmenu),t(e,6,0,"list"!=n.mode&&n.deck),t(e,8,0,"list"==n.mode),t(e,10,0,"list"==n.mode&&n.deck),t(e,12,0,n.cards.length>0),t(e,14,0,n.oldCards.length)}),(function(t,e){var n=e.component;t(e,0,0,n.showSubmenu,!n.showSubmenu)}))}function Iw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-deck-public-show",[],null,null,null,Sw,uw)),hi(1,114688,null,0,sw,[lg,rg,cp,kf,ng],null,null)],(function(t,e){t(e,1,0)}),null)}var xw=qr("app-deck-public-show",sw,Iw,{},{},[]);class Aw{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Nw(t,this.dueTime,this.scheduler))}}class Nw extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Pw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Pw(t){t.debouncedNext()}function Ow(t,e){return n=>n.lift(new Dw(t,e))}class Dw{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Rw(t,this.compare,this.keySelector))}}class Rw extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class Mw{constructor(t,e,n,r,i){this.cardService=t,this.deckService=e,this.route=n,this.router=r,this.fb=i,this.flyInOutTrigger="in",this.updateCard=new Fi,this.deleteCard=new Fi,this.createMode=!1,this.showWordTypes=Gm.simple,this.cardForm=this.prepareCardForm(),this.phrase$=new T,this.suggestions=this.phrase$.pipe(function(t,e=Ms){return n=>n.lift(new Aw(t,e))}(300),Ow(),Dc(t=>this.deckService.findByName(t))),this.cardTypeToggle=!1,this.wordTypeToggle=!1,this.verbTypeToggle=!1,this.adjectiveTypeToggle=!1,this.toggleSearch=!1}get german(){return this.cardForm.get("german")}get japanese(){return this.cardForm.get("japanese")}get japanese_readings(){return this.cardForm.get("japanese_readings")}get chinese_readings(){return this.cardForm.get("chinese_readings")}get examples(){return this.cardForm.get("examples")}get deckForm(){return this.cardForm.get("decks")}get cardType(){return this.cardForm.get("cardType")}get wordType(){return this.cardForm.get("wordType")}get verbType(){return this.cardForm.get("verbType")}get adjectiveType(){return this.cardForm.get("adjectiveType")}get cardTypes(){return Gm}get wordTypes(){return Hm}get verbTypes(){return Bm}get adjectiveTypes(){return Wm}ngOnInit(){this.route.paramMap.subscribe(t=>{t.has("uid")?this.cardService.get(t.get("uid")).snapshotChanges().subscribe(t=>{this.card=Km.createFromCardInterface(t.payload.data()),this.card.uid=t.payload.id,this.cardForm.get("japanese").setValue(this.card.japanese),this.cardForm.get("cardType").setValue(this.card.cardType?"1":"0"),this.card.german.forEach(t=>{this.addReading(this.german,t)}),this.card.japanese_readings.forEach(t=>{this.addReading(this.japanese_readings,t)}),this.card.chinese_readings.forEach(t=>{this.addReading(this.chinese_readings,t)}),this.card.examples&&this.card.examples.forEach(t=>{this.addExample(this.examples,t)}),this.prepareDecks()}):(this.createMode=!0,this.card={german:[],decks:[],cardType:Gm.simple}),t.has("deckuid")&&this.deckService.get(t.get("deckuid")).snapshotChanges().subscribe(t=>{this.card.decks.push({name:t.payload.data().name,uid:t.payload.id}),this.prepareDecks()})}),this.cardType.valueChanges.subscribe(t=>{this.cardTypeToggle=!1,t==Gm.simple?(this.removeField("wordType"),this.wordTypeToggle=!1,this.wordSub&&this.wordSub.unsubscribe(),this.removeField("verbType"),this.removeField("adjectiveType")):(this.addField("wordType"),this.wordTypeToggle=!0,this.wordSub=this.wordType.valueChanges.subscribe(t=>{switch(t){case Hm.verb:this.removeField("adjectiveType"),this.addField("verbType",this.card.verbType?this.card.verbType:null),this.verbTypeToggle=!0,this.verbSub=this.verbType.valueChanges.subscribe(t=>{this.verbTypeToggle=!1});break;case Hm.adjective:this.verbSub&&this.verbSub.unsubscribe(),this.removeField("verbType"),this.addField("adjectiveType",this.card.adjectiveType?this.card.adjectiveType:null),this.adjectiveTypeToggle=!0,this.adjectiveSub=this.adjectiveType.valueChanges.subscribe(t=>{this.adjectiveTypeToggle=!1});break;default:this.removeField("adjectiveType"),this.removeField("verbType"),this.verbSub&&this.verbSub.unsubscribe()}this.wordTypeToggle=!1}))})}ngOnDestroy(){this.verbSub&&this.verbSub.unsubscribe(),this.adjectiveSub&&this.adjectiveSub.unsubscribe()}updatedPhrase(t){""!=t?this.phrase$.next(t):this.toggleSearch=!1}addDeckToCard(t){if(!this.deckForm.value.find(e=>e.uid==t.uid)){const e=new sm("",Pg.required);e.setValue(t.uid);const n=new sm("");n.setValue(t.name);const r=this.fb.group({uid:e,name:n});this.deckForm.push(r)}}removeDeckFromCard(t){this.deckForm.removeAt(t)}prepareCardForm(){return this.fb.group({cardType:["0",Pg.required],german:this.fb.array([]),japanese:["",Pg.required],japanese_readings:this.fb.array([]),chinese_readings:this.fb.array([]),decks:this.fb.array([]),examples:this.fb.array([])})}addField(t,e=null,n=[Pg.required]){this.cardForm.addControl(t,new sm("",...n)),e?this.cardForm.get(t).setValue(e):this.card[t]&&this.cardForm.get(t).setValue(this.card[t])}removeField(t){this.cardForm.removeControl(t)}prepareDecks(){this.card.decks&&this.card.decks.length&&this.card.decks.forEach(t=>{const e=new sm("",Pg.required);e.setValue(t.uid);const n=new sm("");n.setValue(t.name);const r=this.fb.group({uid:e,name:n});this.deckForm.push(r)})}addExample(t,e){if(e){const n=this.fb.group({japanese:e.japanese,reading:e.reading,german:e.german});t.push(n)}else{const e=this.fb.group({japanese:["",Pg.required],reading:[""],german:[""]});t.push(e)}}addReading(t,e=""){t.push(this.fb.control(e,[Pg.required]))}removeReadingAtIndex(t,e){t.removeAt(e)}removeReading(t){t.removeAt(t.length-1)}onSubmit(){this.cardForm.valid&&(this.card.cardType=this.cardType.value,this.wordType&&(this.card.wordType=this.wordType.value),this.verbType&&(this.card.verbType=this.verbType.value),this.adjectiveType&&(this.card.adjectiveType=this.adjectiveType.value),this.card.german=this.german.value,this.card.japanese=this.japanese.value,this.card.chinese_readings=this.chinese_readings.value,this.card.japanese_readings=this.japanese_readings.value,this.card.examples=this.examples.value,this.card.decks=this.deckForm.value,this.card.uid?this.cardService.update(this.card):this.cardService.add(this.card),this.updateCard.emit(this.card),this.close())}onDelete(){confirm("Karte l\xf6schen? Sie wird aus allen Decks entfernt in denen sie enthalten war.")&&(this.cardService.delete(this.card.uid),this.deleteCard.emit(),this.close())}close(){this.router.navigate([{outlets:{modal:null}}],{})}clickOutside(t){let e=!1;this.toggleSearch&&(e=this.searchWindow.nativeElement.contains(t)),this.editWindow.nativeElement.contains(t)||e||this.close()}mousedown(t){this.clickOutside(t)}touchdown(t){this.clickOutside(t)}}var Lw=er({encapsulation:0,styles:[["[_nghost-%COMP%]{position:fixed;width:720px;background:#002828;color:#fff;padding:8px;border-radius:8px;height:80%;left:0;right:0;margin:auto;top:50px}@media only screen and (max-width:736px){[_nghost-%COMP%]{width:calc(100% - 16px);top:initial;bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0}}.edit[_ngcontent-%COMP%]{overflow:auto;height:100%}.edit[_ngcontent-%COMP%]::-webkit-scrollbar{width:0!important}.header[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:-8px;background:#002828;z-index:10;padding:5px 0;box-shadow:0 0 1px 2px #002828}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.4em}.action-shortcuts[_ngcontent-%COMP%]{z-index:11;position:absolute;float:right;top:0;right:5px}.action-shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;margin-right:6px;text-decoration:none;color:#fff;background:#002828;padding:5px 8px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;transition:all .2s}.action-shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{margin-right:0}.action-shortcuts[_ngcontent-%COMP%]   a.danger[_ngcontent-%COMP%]:hover{color:red}.action-shortcuts[_ngcontent-%COMP%]   a.save[_ngcontent-%COMP%]:hover{color:#26ca28}.action-shortcuts.negative[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-left:1px solid #fff;border-right:1px solid #fff;border-bottom:1px solid #fff}form[_ngcontent-%COMP%]{padding:20px}.formgroup[_ngcontent-%COMP%]{margin-bottom:15px;padding:5px}.formgroup.collapsible[_ngcontent-%COMP%]{border-radius:5px;background:#002828;box-shadow:7px 7px 10px #001010,-7px -7px 10px #004040}.formgroup-header[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:inline-block;padding-top:8px;padding-bottom:8px}.collapsible[_ngcontent-%COMP%]{overflow:hidden}@media (hover:hover){.action-shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{padding-top:8px}.collapsible.closed[_ngcontent-%COMP%]:hover{background-color:#003c3c;cursor:pointer}}.searchcontainer[_ngcontent-%COMP%]{position:relative}.searchcontainer[_ngcontent-%COMP%]   .deck_search[_ngcontent-%COMP%]{-webkit-appearance:textfield;padding:2px}.searchahead[_ngcontent-%COMP%]{position:absolute;background-color:#001e1e;width:calc(100% - 10px);z-index:10}.searchahead[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]{padding:10px;font-family:sans-serif;font-size:12px}.searchahead[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]:hover{background-color:#003c3c}"]],data:{animation:[{type:7,name:"flyInOutTrigger",definitions:[{type:0,name:"in",styles:{type:6,styles:{transform:"{{ from }}",opacity:1},offset:null},options:{params:{from:"translateY(0%)"}}},{type:1,expr:":enter",animation:[{type:10,animation:{type:8,animation:[{type:6,styles:{transform:"{{ to }}",opacity:0},offset:null},{type:3,steps:[{type:4,styles:{type:6,styles:{transform:"{{ from }}"},offset:null},timings:"{{ timecurve }}"},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"{{ timecurve }}"}],options:null}],options:{params:{from:"translateY(0%)",to:"translateY(100%)",timecurve:"400ms cubic-bezier(0.645, 0.045, 0.355, 1.000)"}}},options:null}],options:null},{type:1,expr:":leave",animation:[{type:10,animation:{type:8,animation:[{type:6,styles:{transform:"{{ from }}",opacity:1},offset:null},{type:3,steps:[{type:4,styles:{type:6,styles:{transform:"{{ to }}"},offset:null},timings:"{{ timecurve }}"},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"{{ timecurveOpacity }}"}],options:null}],options:{params:{from:"translateY(0%)",to:"translateY(100%)",timecurve:"400ms cubic-bezier(0.645, 0.045, 0.355, 1.000)",timecurveOpacity:"350ms cubic-bezier(0.645, 0.045, 0.355, 1.000)"}}},options:null}],options:null}],options:{}},{type:7,name:"rollInOutAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{height:0,overflow:"hidden"},offset:null},{type:4,styles:{type:6,styles:{height:"*",overflow:"show"},offset:null},timings:"250ms cubic-bezier(0.645, 0.045, 0.355, 1.000)"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{height:0,padding:0,margin:0},offset:null},timings:"250ms cubic-bezier(0.645, 0.045, 0.355, 1.000)"}],options:null}],options:{}}]}});function Fw(t){return wo(0,[(t()(),eo(0,0,null,null,12,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,8,"div",[["class","action-shortcuts negative"]],null,null,null,null,null)),(t()(),eo(2,0,null,null,1,"a",[["class","save"]],[[2,"disabled",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSubmit()&&r),r}),null,null)),(t()(),eo(3,0,null,null,0,"i",[["class","feather icon-save"]],null,null,null,null,null)),(t()(),eo(4,0,null,null,5,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(5,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),mo(6,{modal:0}),mo(7,{outlets:0}),go(8,2),(t()(),eo(9,0,null,null,0,"i",[["class","feather icon-x"]],null,null,null,null,null)),(t()(),eo(10,0,null,null,2,"div",[["class","header"]],null,null,null,null,null)),(t()(),eo(11,0,null,null,1,"h1",[["class","sans-serif"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Lernkarte anlegen "]))],(function(t,e){var n=t(e,8,0,"",t(e,7,0,t(e,6,0,null)));t(e,5,0,n)}),(function(t,e){t(e,2,0,!e.component.cardForm.valid),t(e,4,0,Jr(e,5).target,Jr(e,5).href)}))}function jw(t){return wo(0,[(t()(),eo(0,0,null,null,10,"div",[["class","action-shortcuts negative"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"a",[["class","danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onDelete()&&r),r}),null,null)),(t()(),eo(2,0,null,null,0,"i",[["class","feather icon-trash"]],null,null,null,null,null)),(t()(),eo(3,0,null,null,1,"a",[["class","save"]],[[2,"disabled",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSubmit()&&r),r}),null,null)),(t()(),eo(4,0,null,null,0,"i",[["class","feather icon-save"]],null,null,null,null,null)),(t()(),eo(5,0,null,null,5,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,6).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(6,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),mo(7,{modal:0}),mo(8,{outlets:0}),go(9,2),(t()(),eo(10,0,null,null,0,"i",[["class","feather icon-x"]],null,null,null,null,null)),(t()(),eo(11,0,null,null,2,"div",[["class","header"]],null,null,null,null,null)),(t()(),eo(12,0,null,null,1,"h1",[["class","sans-serif"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Lernkarte bearbeiten "]))],(function(t,e){var n=t(e,9,0,"",t(e,8,0,t(e,7,0,null)));t(e,6,0,n)}),(function(t,e){t(e,3,0,!e.component.cardForm.valid),t(e,5,0,Jr(e,6).target,Jr(e,6).href)}))}function Uw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Einfach"]))],null,null)}function Vw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Erweitert"]))],null,null)}function qw(t){return wo(0,[(t()(),eo(0,0,null,null,22,"div",[],[[24,"@rollInOutAnimation",0]],null,null,null,null)),(t()(),eo(1,0,null,null,10,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Einfach "])),(t()(),eo(3,0,null,null,6,"input",[["name","cardType"],["type","radio"],["value","0"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,5).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,5).onTouched()&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(5,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(7,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(9,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(10,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(11,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(12,0,null,null,10,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Erweitert "])),(t()(),eo(14,0,null,null,6,"input",[["name","cardType"],["type","radio"],["value","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,15)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,16).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,16).onTouched()&&r),r}),null,null)),hi(15,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(16,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(18,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(20,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(21,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(22,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,5,0,"cardType","0"),t(e,7,0,n.cardType),t(e,16,0,"cardType","1"),t(e,18,0,n.cardType)}),(function(t,e){t(e,0,0,void 0),t(e,3,0,Jr(e,9).ngClassUntouched,Jr(e,9).ngClassTouched,Jr(e,9).ngClassPristine,Jr(e,9).ngClassDirty,Jr(e,9).ngClassValid,Jr(e,9).ngClassInvalid,Jr(e,9).ngClassPending),t(e,14,0,Jr(e,20).ngClassUntouched,Jr(e,20).ngClassTouched,Jr(e,20).ngClassPristine,Jr(e,20).ngClassDirty,Jr(e,20).ngClassValid,Jr(e,20).ngClassInvalid,Jr(e,20).ngClassPending)}))}function zw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Substantiv"]))],null,null)}function Hw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Verb"]))],null,null)}function Bw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Adjektiv"]))],null,null)}function Ww(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Adverb"]))],null,null)}function Gw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Pronomen"]))],null,null)}function Kw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Pr\xe4position"]))],null,null)}function $w(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Konjunktion"]))],null,null)}function Qw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Numeral"]))],null,null)}function Yw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Interjektion"]))],null,null)}function Zw(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Kanji"]))],null,null)}function Jw(t){return wo(0,[(t()(),eo(0,0,null,null,130,"div",[],[[24,"@rollInOutAnimation",0]],null,null,null,null)),(t()(),eo(1,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Substantiv "])),(t()(),eo(3,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Hauptwort"])),(t()(),eo(5,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,6)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,6).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,6)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,6)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,7).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,7).onTouched()&&r),r}),null,null)),hi(6,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(7,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(9,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(11,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(12,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(13,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(14,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Verb "])),(t()(),eo(16,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["T\xe4tigkeitswort"])),(t()(),eo(18,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,19)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,19).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,19)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,19)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,20).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,20).onTouched()&&r),r}),null,null)),hi(19,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(20,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(22,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(24,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(25,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(26,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(27,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Adjektiv "])),(t()(),eo(29,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Eigenschaftswort"])),(t()(),eo(31,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,32)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,32).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,32)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,32)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,33).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,33).onTouched()&&r),r}),null,null)),hi(32,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(33,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(35,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(37,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(38,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(39,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(40,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Adverb "])),(t()(),eo(42,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Nebenwort"])),(t()(),eo(44,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,45)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,45).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,45)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,45)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,46).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,46).onTouched()&&r),r}),null,null)),hi(45,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(46,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(48,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(50,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(51,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(52,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(53,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Pronomen "])),(t()(),eo(55,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["F\xfcrwort"])),(t()(),eo(57,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,58)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,58).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,58)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,58)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,59).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,59).onTouched()&&r),r}),null,null)),hi(58,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(59,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(61,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(63,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(64,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(65,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(66,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Pr\xe4position "])),(t()(),eo(68,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Verh\xe4ltniswort"])),(t()(),eo(70,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,71)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,71).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,71)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,71)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,72).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,72).onTouched()&&r),r}),null,null)),hi(71,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(72,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(74,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(76,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(77,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(78,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(79,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Konjunktion "])),(t()(),eo(81,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Bindewort"])),(t()(),eo(83,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,84)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,84).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,84)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,84)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,85).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,85).onTouched()&&r),r}),null,null)),hi(84,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(85,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(87,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(89,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(90,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(91,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(92,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Numeral "])),(t()(),eo(94,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Zahlwort"])),(t()(),eo(96,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,97)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,97).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,97)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,97)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,98).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,98).onTouched()&&r),r}),null,null)),hi(97,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(98,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(100,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(102,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(103,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(104,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(105,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Interjektion "])),(t()(),eo(107,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Ausrufewort"])),(t()(),eo(109,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,110)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,110).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,110)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,110)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,111).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,111).onTouched()&&r),r}),null,null)),hi(110,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(111,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(113,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(115,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(116,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(117,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(118,0,null,null,12,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Kanji "])),(t()(),eo(120,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Schriftzeichen"])),(t()(),eo(122,0,null,null,6,"input",[["name","wordType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,123)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,123).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,123)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,123)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,124).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,124).onTouched()&&r),r}),null,null)),hi(123,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(124,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(126,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(128,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(129,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(130,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,7,0,"wordType",xr(1,"",n.wordTypes.noun,"")),t(e,9,0,n.wordType),t(e,20,0,"wordType",xr(1,"",n.wordTypes.verb,"")),t(e,22,0,n.wordType),t(e,33,0,"wordType",xr(1,"",n.wordTypes.adjective,"")),t(e,35,0,n.wordType),t(e,46,0,"wordType",xr(1,"",n.wordTypes.adverb,"")),t(e,48,0,n.wordType),t(e,59,0,"wordType",xr(1,"",n.wordTypes.pronoun,"")),t(e,61,0,n.wordType),t(e,72,0,"wordType",xr(1,"",n.wordTypes.preposition,"")),t(e,74,0,n.wordType),t(e,85,0,"wordType",xr(1,"",n.wordTypes.conjunction,"")),t(e,87,0,n.wordType),t(e,98,0,"wordType",xr(1,"",n.wordTypes.numeral,"")),t(e,100,0,n.wordType),t(e,111,0,"wordType",xr(1,"",n.wordTypes.interjection,"")),t(e,113,0,n.wordType),t(e,124,0,"wordType",xr(1,"",n.wordTypes.kanji,"")),t(e,126,0,n.wordType)}),(function(t,e){t(e,0,0,void 0),t(e,5,0,Jr(e,11).ngClassUntouched,Jr(e,11).ngClassTouched,Jr(e,11).ngClassPristine,Jr(e,11).ngClassDirty,Jr(e,11).ngClassValid,Jr(e,11).ngClassInvalid,Jr(e,11).ngClassPending),t(e,18,0,Jr(e,24).ngClassUntouched,Jr(e,24).ngClassTouched,Jr(e,24).ngClassPristine,Jr(e,24).ngClassDirty,Jr(e,24).ngClassValid,Jr(e,24).ngClassInvalid,Jr(e,24).ngClassPending),t(e,31,0,Jr(e,37).ngClassUntouched,Jr(e,37).ngClassTouched,Jr(e,37).ngClassPristine,Jr(e,37).ngClassDirty,Jr(e,37).ngClassValid,Jr(e,37).ngClassInvalid,Jr(e,37).ngClassPending),t(e,44,0,Jr(e,50).ngClassUntouched,Jr(e,50).ngClassTouched,Jr(e,50).ngClassPristine,Jr(e,50).ngClassDirty,Jr(e,50).ngClassValid,Jr(e,50).ngClassInvalid,Jr(e,50).ngClassPending),t(e,57,0,Jr(e,63).ngClassUntouched,Jr(e,63).ngClassTouched,Jr(e,63).ngClassPristine,Jr(e,63).ngClassDirty,Jr(e,63).ngClassValid,Jr(e,63).ngClassInvalid,Jr(e,63).ngClassPending),t(e,70,0,Jr(e,76).ngClassUntouched,Jr(e,76).ngClassTouched,Jr(e,76).ngClassPristine,Jr(e,76).ngClassDirty,Jr(e,76).ngClassValid,Jr(e,76).ngClassInvalid,Jr(e,76).ngClassPending),t(e,83,0,Jr(e,89).ngClassUntouched,Jr(e,89).ngClassTouched,Jr(e,89).ngClassPristine,Jr(e,89).ngClassDirty,Jr(e,89).ngClassValid,Jr(e,89).ngClassInvalid,Jr(e,89).ngClassPending),t(e,96,0,Jr(e,102).ngClassUntouched,Jr(e,102).ngClassTouched,Jr(e,102).ngClassPristine,Jr(e,102).ngClassDirty,Jr(e,102).ngClassValid,Jr(e,102).ngClassInvalid,Jr(e,102).ngClassPending),t(e,109,0,Jr(e,115).ngClassUntouched,Jr(e,115).ngClassTouched,Jr(e,115).ngClassPristine,Jr(e,115).ngClassDirty,Jr(e,115).ngClassValid,Jr(e,115).ngClassInvalid,Jr(e,115).ngClassPending),t(e,122,0,Jr(e,128).ngClassUntouched,Jr(e,128).ngClassTouched,Jr(e,128).ngClassPristine,Jr(e,128).ngClassDirty,Jr(e,128).ngClassValid,Jr(e,128).ngClassInvalid,Jr(e,128).ngClassPending)}))}function Xw(t){return wo(0,[(t()(),eo(0,0,null,null,26,"div",[["class","formgroup collapsible"]],[[2,"closed",null],[24,"@rollInOutAnimation",0]],null,null,null,null)),(t()(),eo(1,0,null,null,23,"label",[["class","formgroup-header"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.wordTypeToggle=!i.wordTypeToggle)&&r),r}),null,null)),(t()(),yo(-1,null,["Wortart "])),(t()(),eo(3,0,null,null,21,null,null,null,null,null,null,null)),hi(4,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,zw)),hi(6,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Hw)),hi(8,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Bw)),hi(10,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Ww)),hi(12,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Gw)),hi(14,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Kw)),hi(16,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,$w)),hi(18,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Qw)),hi(20,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Yw)),hi(22,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Zw)),hi(24,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Jw)),hi(26,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.wordType.value),t(e,6,0,n.wordTypes.noun),t(e,8,0,n.wordTypes.verb),t(e,10,0,n.wordTypes.adjective),t(e,12,0,n.wordTypes.adverb),t(e,14,0,n.wordTypes.pronoun),t(e,16,0,n.wordTypes.preposition),t(e,18,0,n.wordTypes.conjunction),t(e,20,0,n.wordTypes.numeral),t(e,22,0,n.wordTypes.interjection),t(e,24,0,n.wordTypes.kanji),t(e,26,0,n.wordTypeToggle)}),(function(t,e){t(e,0,0,!e.component.wordTypeToggle,void 0)}))}function tk(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["Einstufig"]))],null,null)}function ek(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["F\xfcnfstufig"]))],null,null)}function nk(t){return wo(0,[(t()(),eo(0,0,null,null,22,"div",[],[[24,"@rollInOutAnimation",0]],null,null,null,null)),(t()(),eo(1,0,null,null,10,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["Einstufig "])),(t()(),eo(3,0,null,null,6,"input",[["name","verbType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,5).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,5).onTouched()&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(5,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(7,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(9,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(10,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(11,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(12,0,null,null,10,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["F\xfcnfstufig "])),(t()(),eo(14,0,null,null,6,"input",[["name","verbType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,15)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,16).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,16).onTouched()&&r),r}),null,null)),hi(15,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(16,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(18,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(20,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(21,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(22,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,5,0,"verbType",xr(1,"",n.verbTypes.single,"")),t(e,7,0,n.verbType),t(e,16,0,"verbType",xr(1,"",n.verbTypes.five,"")),t(e,18,0,n.verbType)}),(function(t,e){t(e,0,0,void 0),t(e,3,0,Jr(e,9).ngClassUntouched,Jr(e,9).ngClassTouched,Jr(e,9).ngClassPristine,Jr(e,9).ngClassDirty,Jr(e,9).ngClassValid,Jr(e,9).ngClassInvalid,Jr(e,9).ngClassPending),t(e,14,0,Jr(e,20).ngClassUntouched,Jr(e,20).ngClassTouched,Jr(e,20).ngClassPristine,Jr(e,20).ngClassDirty,Jr(e,20).ngClassValid,Jr(e,20).ngClassInvalid,Jr(e,20).ngClassPending)}))}function rk(t){return wo(0,[(t()(),eo(0,0,null,null,10,"div",[["class","formgroup collapsible"]],[[2,"closed",null],[24,"@rollInOutAnimation",0]],null,null,null,null)),(t()(),eo(1,0,null,null,7,"label",[["class","formgroup-header"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.verbTypeToggle=!i.verbTypeToggle)&&r),r}),null,null)),(t()(),yo(-1,null,["Verb-Art "])),(t()(),eo(3,0,null,null,5,null,null,null,null,null,null,null)),hi(4,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,tk)),hi(6,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,ek)),hi(8,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,nk)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.verbType.value),t(e,6,0,n.verbTypes.single),t(e,8,0,n.verbTypes.five),t(e,10,0,n.verbTypeToggle)}),(function(t,e){t(e,0,0,!e.component.verbTypeToggle,void 0)}))}function ik(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3044-Adjektiv"]))],null,null)}function lk(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u306a-Adjektiv"]))],null,null)}function ok(t){return wo(0,[(t()(),eo(0,0,null,null,22,"div",[],[[24,"@rollInOutAnimation",0]],null,null,null,null)),(t()(),eo(1,0,null,null,10,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u3044-Adjektiv "])),(t()(),eo(3,0,null,null,6,"input",[["name","adjectiveType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,5).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,5).onTouched()&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(5,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(7,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(9,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(10,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(11,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null)),(t()(),eo(12,0,null,null,10,"label",[["class","container"]],null,null,null,null,null)),(t()(),yo(-1,null,["\u306a-Adjektiv "])),(t()(),eo(14,0,null,null,6,"input",[["name","adjectiveType"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,15)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,16).onChange()&&r),"blur"===e&&(r=!1!==Jr(t,16).onTouched()&&r),r}),null,null)),hi(15,16384,null,0,wg,[gn,cn,[2,bg]],null,null),hi(16,212992,null,0,jg,[gn,cn,Fg,Re],{name:[0,"name"],value:[1,"value"]},null),pi(1024,null,yg,(function(t,e){return[t,e]}),[wg,jg]),hi(18,540672,null,0,pm,[[8,null],[8,null],[6,yg],[2,dm]],{form:[0,"form"]},null),pi(2048,null,Tg,null,[pm]),hi(20,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(21,0,null,null,1,"span",[["class","checkmark"]],null,null,null,null,null)),(t()(),eo(22,0,null,null,0,"span",[["class","checkmark_inner"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,5,0,"adjectiveType",xr(1,"",n.adjectiveTypes.iAdjective,"")),t(e,7,0,n.adjectiveType),t(e,16,0,"adjectiveType",xr(1,"",n.adjectiveTypes.naAdjective,"")),t(e,18,0,n.adjectiveType)}),(function(t,e){t(e,0,0,void 0),t(e,3,0,Jr(e,9).ngClassUntouched,Jr(e,9).ngClassTouched,Jr(e,9).ngClassPristine,Jr(e,9).ngClassDirty,Jr(e,9).ngClassValid,Jr(e,9).ngClassInvalid,Jr(e,9).ngClassPending),t(e,14,0,Jr(e,20).ngClassUntouched,Jr(e,20).ngClassTouched,Jr(e,20).ngClassPristine,Jr(e,20).ngClassDirty,Jr(e,20).ngClassValid,Jr(e,20).ngClassInvalid,Jr(e,20).ngClassPending)}))}function sk(t){return wo(0,[(t()(),eo(0,0,null,null,10,"div",[["class","formgroup collapsible"]],[[2,"closed",null],[24,"@rollInOutAnimation",0]],null,null,null,null)),(t()(),eo(1,0,null,null,7,"label",[["class","formgroup-header"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.adjectiveTypeToggle=!i.adjectiveTypeToggle)&&r),r}),null,null)),(t()(),yo(-1,null,["Adjektiv-Art "])),(t()(),eo(3,0,null,null,5,null,null,null,null,null,null,null)),hi(4,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,ik)),hi(6,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,lk)),hi(8,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,ok)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.adjectiveType.value),t(e,6,0,n.adjectiveTypes.iAdjective),t(e,8,0,n.adjectiveTypes.naAdjective),t(e,10,0,n.adjectiveTypeToggle)}),(function(t,e){t(e,0,0,!e.component.adjectiveTypeToggle,void 0)}))}function uk(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","input_group"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.german,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(3,0,null,null,5,"input",[["placeholder","Kanji, Hiragana, Katakana \xdcbersetzung"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(6,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(8,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,6,0,e.context.index)}),(function(t,e){t(e,3,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending)}))}function ak(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","input_group"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.japanese_readings,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(3,0,null,null,5,"input",[["placeholder","\u3072\u3068"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(6,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(8,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,6,0,e.context.index)}),(function(t,e){t(e,3,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending)}))}function ck(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","input_group"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.chinese_readings,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(3,0,null,null,5,"input",[["placeholder","\u30b8\u30f3"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,4)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(4,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(6,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(8,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,6,0,e.context.index)}),(function(t,e){t(e,3,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending)}))}function hk(t){return wo(0,[(t()(),eo(0,0,null,null,34,null,null,null,null,null,null,null)),hi(1,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(3,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(4,0,null,null,30,"div",[["class","input_group"]],[[24,"@rollInOutAnimation",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(5,212992,null,0,gm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[gm]),hi(7,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(8,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.removeReadingAtIndex(i.examples,t.context.index)&&r),r}),null,null)),(t()(),yo(-1,null,["-"])),(t()(),eo(10,0,null,null,24,"div",[["class","formgroup"]],null,null,null,null,null)),(t()(),eo(11,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["Japanisch"])),(t()(),eo(13,0,null,null,5,"input",[["formControlName","japanese"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,14)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,14).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,14)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,14)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(14,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(16,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(18,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(19,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["Lesung"])),(t()(),eo(21,0,null,null,5,"input",[["formControlName","reading"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,22)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,22).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,22)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,22)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(22,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(24,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(26,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(27,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["\xdcbersetzung"])),(t()(),eo(29,0,null,null,5,"input",[["formControlName","german"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,30)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,30).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,30)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,30)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(30,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(32,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(34,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,1,0,"examples"),t(e,5,0,e.context.index),t(e,16,0,"japanese"),t(e,24,0,"reading"),t(e,32,0,"german")}),(function(t,e){t(e,4,0,void 0,Jr(e,7).ngClassUntouched,Jr(e,7).ngClassTouched,Jr(e,7).ngClassPristine,Jr(e,7).ngClassDirty,Jr(e,7).ngClassValid,Jr(e,7).ngClassInvalid,Jr(e,7).ngClassPending),t(e,13,0,Jr(e,18).ngClassUntouched,Jr(e,18).ngClassTouched,Jr(e,18).ngClassPristine,Jr(e,18).ngClassDirty,Jr(e,18).ngClassValid,Jr(e,18).ngClassInvalid,Jr(e,18).ngClassPending),t(e,21,0,Jr(e,26).ngClassUntouched,Jr(e,26).ngClassTouched,Jr(e,26).ngClassPristine,Jr(e,26).ngClassDirty,Jr(e,26).ngClassValid,Jr(e,26).ngClassInvalid,Jr(e,26).ngClassPending),t(e,29,0,Jr(e,34).ngClassUntouched,Jr(e,34).ngClassTouched,Jr(e,34).ngClassPristine,Jr(e,34).ngClassDirty,Jr(e,34).ngClassValid,Jr(e,34).ngClassInvalid,Jr(e,34).ngClassPending)}))}function dk(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","suggestion"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.toggleSearch=!1,r=!1!==i.addDeckToCard(t.context.$implicit)&&r),r}),null,null)),(t()(),yo(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.context.$implicit.name)}))}function pk(t){return wo(0,[(t()(),eo(0,0,[[2,0],["searchWindow",1]],null,3,"div",[["class","searchahead collapsible"]],[[24,"@rollInOutAnimation",0]],null,null,null,null)),(t()(),to(16777216,null,null,2,null,dk)),hi(2,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),di(131072,sa,[Ne])],(function(t,e){var n=e.component;t(e,2,0,Jn(e,2,0,Jr(e,3).transform(n.suggestions)))}),(function(t,e){t(e,0,0,void 0)}))}function fk(t){return wo(0,[(t()(),eo(0,0,null,null,19,"label",[["class","container collapsible"]],[[24,"@rollInOutAnimation",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(1,212992,null,0,gm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[gm]),hi(3,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(4,0,null,null,0,"i",[["class","feather icon-minus-circle"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.removeDeckFromCard(t.context.index)&&r),r}),null,null)),(t()(),yo(5,null,[" "," "])),(t()(),eo(6,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(t()(),yo(7,null,["",""])),(t()(),eo(8,0,null,null,5,"input",[["formControlName","uid"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,9)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,9).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,9)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,9)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(9,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(11,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(13,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(14,0,null,null,5,"input",[["formControlName","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,15)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(15,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(17,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(19,16384,null,0,Ig,[[4,Tg]],null,null)],(function(t,e){t(e,1,0,e.context.index),t(e,11,0,"uid"),t(e,17,0,"name")}),(function(t,e){t(e,0,0,void 0,Jr(e,3).ngClassUntouched,Jr(e,3).ngClassTouched,Jr(e,3).ngClassPristine,Jr(e,3).ngClassDirty,Jr(e,3).ngClassValid,Jr(e,3).ngClassInvalid,Jr(e,3).ngClassPending),t(e,5,0,e.context.$implicit.value.name),t(e,7,0,e.context.$implicit.uid),t(e,8,0,Jr(e,13).ngClassUntouched,Jr(e,13).ngClassTouched,Jr(e,13).ngClassPristine,Jr(e,13).ngClassDirty,Jr(e,13).ngClassValid,Jr(e,13).ngClassInvalid,Jr(e,13).ngClassPending),t(e,14,0,Jr(e,19).ngClassUntouched,Jr(e,19).ngClassTouched,Jr(e,19).ngClassPristine,Jr(e,19).ngClassDirty,Jr(e,19).ngClassValid,Jr(e,19).ngClassInvalid,Jr(e,19).ngClassPending)}))}function gk(t){return wo(0,[(t()(),eo(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,fk)),hi(2,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(0,null,null,0))],(function(t,e){t(e,2,0,e.component.deckForm.controls)}),null)}function mk(t){return wo(0,[(t()(),eo(0,0,null,null,10,"div",[["class","formgroup searchcontainer"],["formArrayName","decks"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(1,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(3,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(4,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),yo(-1,null,["Decks"])),(t()(),eo(6,0,null,null,0,"input",[["class","deck_search"],["type","search"]],null,[[null,"keyup"],[null,"focus"]],(function(t,e,n){var r=!0,i=t.component;return"keyup"===e&&(r=!1!==i.phrase$.next(n.target.value)&&r),"focus"===e&&(r=0!=(i.toggleSearch=!0)&&r),r}),null,null)),(t()(),to(16777216,null,null,1,null,pk)),hi(8,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,gk)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,"decks"),t(e,8,0,n.toggleSearch),t(e,10,0,n.card)}),(function(t,e){t(e,0,0,Jr(e,3).ngClassUntouched,Jr(e,3).ngClassTouched,Jr(e,3).ngClassPristine,Jr(e,3).ngClassDirty,Jr(e,3).ngClassValid,Jr(e,3).ngClassInvalid,Jr(e,3).ngClassPending)}))}function vk(t){return wo(0,[oo(402653184,1,{editWindow:0}),oo(671088640,2,{searchWindow:0}),(t()(),eo(2,0,[[1,0],["editWindow",1]],null,95,"div",[["class","edit"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Fw)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["editHeader",2]],null,0,null,jw)),(t()(),eo(6,0,null,null,91,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Jr(t,8).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,8).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit()&&r),r}),null,null)),hi(7,16384,null,0,hm,[],null,null),hi(8,540672,null,0,fm,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),pi(2048,null,Cg,null,[fm]),hi(10,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(11,0,null,null,10,"div",[["class","formgroup collapsible"]],[[2,"closed",null]],null,null,null,null)),(t()(),eo(12,0,null,null,7,"label",[["class","formgroup-header"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.cardTypeToggle=!i.cardTypeToggle)&&r),r}),null,null)),(t()(),yo(-1,null,["Kartentyp "])),(t()(),eo(14,0,null,null,5,null,null,null,null,null,null,null)),hi(15,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,Uw)),hi(17,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Vw)),hi(19,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,qw)),hi(21,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Xw)),hi(23,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,rk)),hi(25,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,sk)),hi(27,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),eo(28,0,null,null,8,"div",[["class","formgroup"]],null,null,null,null,null)),(t()(),eo(29,0,null,null,1,"label",[["for","japanese"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Japanisch "])),(t()(),eo(31,0,null,null,5,"input",[["formControlName","japanese"],["id","japanese"],["placeholder","\u6f22\u5b57\u3001\u3072\u3089\u304c\u306a\u3001\u30ab\u30bf\u30ab\u30ca"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,32)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,32).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,32)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,32)._compositionEnd(n.target.value)&&r),r}),null,null)),hi(32,16384,null,0,wg,[gn,cn,[2,bg]],null,null),pi(1024,null,yg,(function(t){return[t]}),[wg]),hi(34,671744,null,0,ym,[[3,Cg],[8,null],[8,null],[6,yg],[2,dm]],{name:[0,"name"]},null),pi(2048,null,Tg,null,[ym]),hi(36,16384,null,0,Ig,[[4,Tg]],null,null),(t()(),eo(37,0,null,null,10,"div",[["class","formgroup"]],null,null,null,null,null)),(t()(),eo(38,0,null,null,9,"div",[["class","form_array"],["formArrayName","german"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(39,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(41,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(42,0,null,null,3,"label",[["for","german"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addReading(i.german)&&r),r}),null,null)),(t()(),eo(43,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["\xdcbersetzung/Bedeutung "])),(t()(),to(16777216,null,null,1,null,uk)),hi(47,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(48,0,null,null,19,"div",[["class","formgroup"]],null,null,null,null,null)),(t()(),eo(49,0,null,null,18,"div",[["class","form_array"],["formArrayName","japanese_readings"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(50,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(52,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(53,0,null,null,12,"label",[["for","japanese_readings"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addReading(i.japanese_readings)&&r),r}),null,null)),(t()(),eo(54,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["Japanische Lesungen "])),(t()(),eo(57,0,null,null,8,"span",[["class","muted"]],null,null,null,null,null)),(t()(),eo(58,0,null,null,7,"ruby",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u8a13"])),(t()(),eo(60,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u304f\u3093"])),(t()(),yo(-1,null,["\u8aad"])),(t()(),eo(63,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u3088"])),(t()(),yo(-1,null,[" \u307f"])),(t()(),to(16777216,null,null,1,null,ak)),hi(67,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(68,0,null,null,19,"div",[["class","formgroup"]],null,null,null,null,null)),(t()(),eo(69,0,null,null,18,"div",[["class","form_array"],["formArrayName","chinese_readings"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),hi(70,212992,null,0,mm,[[3,Cg],[8,null],[8,null]],{name:[0,"name"]},null),pi(2048,null,Cg,null,[mm]),hi(72,16384,null,0,xg,[[4,Cg]],null,null),(t()(),eo(73,0,null,null,12,"label",[["for","chinese_readings"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addReading(i.chinese_readings)&&r),r}),null,null)),(t()(),eo(74,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["Chinesische Lesungen "])),(t()(),eo(77,0,null,null,8,"span",[["class","muted"]],null,null,null,null,null)),(t()(),eo(78,0,null,null,7,"ruby",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u97f3"])),(t()(),eo(80,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u304a\u3093"])),(t()(),yo(-1,null,["\u8aad"])),(t()(),eo(83,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(-1,null,["\u3088"])),(t()(),yo(-1,null,[" \u307f"])),(t()(),to(16777216,null,null,1,null,ck)),hi(87,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(88,0,null,null,7,"div",[["class","formgroup"]],null,null,null,null,null)),(t()(),eo(89,0,null,null,6,"div",[["class","form_array"]],null,null,null,null,null)),(t()(),eo(90,0,null,null,3,"label",[["for","examples"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addExample(i.examples)&&r),r}),null,null)),(t()(),eo(91,0,null,null,1,"button",[["class","button"]],null,null,null,null,null)),(t()(),yo(-1,null,["+"])),(t()(),yo(-1,null,["Beispiel "])),(t()(),to(16777216,null,null,1,null,hk)),hi(95,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),to(16777216,null,null,1,null,mk)),hi(97,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.createMode,Jr(e,5)),t(e,8,0,n.cardForm),t(e,15,0,n.cardType.value),t(e,17,0,n.cardTypes.simple),t(e,19,0,n.cardTypes.word),t(e,21,0,n.cardTypeToggle),t(e,23,0,n.wordType),t(e,25,0,n.verbType),t(e,27,0,n.adjectiveType),t(e,34,0,"japanese"),t(e,39,0,"german"),t(e,47,0,n.german.controls),t(e,50,0,"japanese_readings"),t(e,67,0,n.japanese_readings.controls),t(e,70,0,"chinese_readings"),t(e,87,0,n.chinese_readings.controls),t(e,95,0,n.examples.controls),t(e,97,0,n.card)}),(function(t,e){var n=e.component;t(e,6,0,Jr(e,10).ngClassUntouched,Jr(e,10).ngClassTouched,Jr(e,10).ngClassPristine,Jr(e,10).ngClassDirty,Jr(e,10).ngClassValid,Jr(e,10).ngClassInvalid,Jr(e,10).ngClassPending),t(e,11,0,!n.cardTypeToggle),t(e,31,0,Jr(e,36).ngClassUntouched,Jr(e,36).ngClassTouched,Jr(e,36).ngClassPristine,Jr(e,36).ngClassDirty,Jr(e,36).ngClassValid,Jr(e,36).ngClassInvalid,Jr(e,36).ngClassPending),t(e,38,0,Jr(e,41).ngClassUntouched,Jr(e,41).ngClassTouched,Jr(e,41).ngClassPristine,Jr(e,41).ngClassDirty,Jr(e,41).ngClassValid,Jr(e,41).ngClassInvalid,Jr(e,41).ngClassPending),t(e,49,0,Jr(e,52).ngClassUntouched,Jr(e,52).ngClassTouched,Jr(e,52).ngClassPristine,Jr(e,52).ngClassDirty,Jr(e,52).ngClassValid,Jr(e,52).ngClassInvalid,Jr(e,52).ngClassPending),t(e,69,0,Jr(e,72).ngClassUntouched,Jr(e,72).ngClassTouched,Jr(e,72).ngClassPristine,Jr(e,72).ngClassDirty,Jr(e,72).ngClassValid,Jr(e,72).ngClassInvalid,Jr(e,72).ngClassPending)}))}function yk(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-edit",[],[[40,"@flyInOutTrigger",0]],[["document","mousedown"],["document","touchstart"]],(function(t,e,n){var r=!0;return"document:mousedown"===e&&(r=!1!==Jr(t,1).mousedown(n.target)&&r),"document:touchstart"===e&&(r=!1!==Jr(t,1).touchdown(n.target)&&r),r}),vk,Lw)),hi(1,245760,null,0,Mw,[rg,lg,cp,kf,bm],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Jr(e,1).flyInOutTrigger)}))}var _k=qr("app-edit",Mw,yk,{},{updateCard:"updateCard",deleteCard:"deleteCard"},[]),bk=function(t){return t[t.masu=0]="masu",t[t.negatedMasu=1]="negatedMasu",t[t.pastMasu=2]="pastMasu",t[t.negatedPastMasu=3]="negatedPastMasu",t[t.lemma=10]="lemma",t[t.te=20]="te",t}({});class wk{get verbTypes(){return Bm}get konjugationTypes(){return bk}constructor(){}ngOnInit(){}masuForm(){let t;t=this.isLemma(this.card.japanese)?this.card.japanese:this.formLemma(this.card.japanese)}negatedMasuForm(){}isLemma(t){return-1===t.indexOf("\u307e\u3059",t.length-2)}formLemma(t){return this.isMasuForm(t)&&this.trimMasuForm(t),t}flexLemma(t,e,n){switch(e){case Bm.single:switch(n){case bk.masu:return t.substring(0,t.length-1)+"\u307e\u3059";case bk.negatedMasu:return t.substring(0,t.length-1)+"\u307e\u305b\u3093";case bk.pastMasu:return t.substring(0,t.length-1)+"\u307e\u3057\u305f";case bk.negatedPastMasu:return t.substring(0,t.length-1)+"\u307e\u305b\u3093\u3067\u3057\u305f";default:return""}case Bm.five:switch(n){case bk.masu:return t.substring(0,t.length-1)+this.flexUToI(t.substring(t.length-1,t.length))+"\u307e\u3059";case bk.negatedMasu:return t.substring(0,t.length-1)+this.flexUToI(t.substring(t.length-1,t.length))+"\u307e\u305b\u3093";case bk.pastMasu:return t.substring(0,t.length-1)+this.flexUToI(t.substring(t.length-1,t.length))+"\u307e\u3057\u305f";case bk.negatedPastMasu:return t.substring(0,t.length-1)+this.flexUToI(t.substring(t.length-1,t.length))+"\u307e\u305b\u3093\u3067\u3057\u305f";default:return""}case Bm.irregular:case Bm.suru:return"not implemented yet"}}trimMasuForm(t){return this.endsWith(t,"\u307e\u3059")?t.substring(0,t.length-2):this.endsWith(t,"\u307e\u3059")?t.substring(0,t.length-2):this.endsWith(t,"\u305b\u3093\u3067\u3057\u305f")?t.substring(0,t.length-5):this.endsWith(t,"\u3067\u3057\u305f")?t.substring(0,t.length-3):void 0}isMasuForm(t){return this.endsWith(t,"\u307e\u3059")||this.endsWith(t,"\u307e\u305b\u3093")||this.endsWith(t,"\u3067\u3057\u305f")||this.endsWith(t,"\u305b\u3093\u3067\u3057\u305f")}endsWith(t,e){return-1!==t.indexOf(e,t.length-e.length)}flexUToI(t){switch(t){case"\u308b":return"\u308a";case"\u3080":return"\u307f";case"\u3077":return"\u3074";case"\u3076":return"\u3073";case"\u3075":return"\u3072";case"\u3065":return"\u3062";case"\u3064":return"\u3061";case"\u306c":return"\u306b";case"\u305a":return"\u3058";case"\u3059":return"\u3057";case"\u304f":return"\u304d";case"\u3050":return"\u304e";case"\u3046":return"\u3044";default:return""}}flexIToU(t){switch(t){case"\u308a":return"\u308b";case"\u307f":return"\u3080";case"\u3074":return"\u3077";case"\u3073":return"\u3076";case"\u3072":return"\u3075";case"\u3062":return"\u3065";case"\u3061":return"\u3064";case"\u306b":return"\u306c";case"\u3058":return"\u305a";case"\u3057":return"\u3059";case"\u304d":return"\u304f";case"\u304e":return"\u3050";case"\u3044":return"\u3046";default:return""}}}var kk=er({encapsulation:0,styles:[[""]],data:{}});function Ck(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),yo(-1,null,["Dieses Feature ist experimentell, bitte mit Vorsicht verwenden"])),(t()(),eo(2,0,null,null,17,"table",[],null,null,null,null,null)),(t()(),eo(3,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),eo(4,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),eo(5,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),yo(-1,null,["Verneinung"])),(t()(),eo(7,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),yo(-1,null,["Vergangenheit"])),(t()(),eo(9,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),yo(-1,null,["Verneinte Vergangenheit"])),(t()(),eo(11,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),eo(12,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(13,null,["",""])),(t()(),eo(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(15,null,["",""])),(t()(),eo(16,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(17,null,["",""])),(t()(),eo(18,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(19,null,["",""]))],null,(function(t,e){var n=e.component;t(e,13,0,n.flexLemma(n.card.japanese,n.card.verbType,n.konjugationTypes.masu)),t(e,15,0,n.flexLemma(n.card.japanese,n.card.verbType,n.konjugationTypes.negatedMasu)),t(e,17,0,n.flexLemma(n.card.japanese,n.card.verbType,n.konjugationTypes.pastMasu)),t(e,19,0,n.flexLemma(n.card.japanese,n.card.verbType,n.konjugationTypes.negatedPastMasu))}))}var Ek=function(t){return t[t.default=0]="default",t[t.negated=1]="negated",t}({});class Tk{get konjugationTypes(){return Ek}constructor(){}ngOnInit(){}flexLemma(t,e){switch(t.adjectiveType){case Wm.iAdjective:switch(e){case Ek.default:return t.japanese;case Ek.negated:return t.japanese.substring(0,t.japanese.length-1)+"\u304f\u306a\u3044"}case Wm.naAdjective:switch(e){case Ek.default:return t.japanese;case Ek.negated:return t.japanese+"\u3067\u306f\u3042\u308a\u307e\u305b\u3093"}}}}var Sk=er({encapsulation:0,styles:[[""]],data:{}});function Ik(t){return wo(0,[(t()(),eo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),yo(-1,null,["Dieses Feature ist experimentell, bitte mit Vorsicht verwenden"])),(t()(),eo(2,0,null,null,9,"table",[],null,null,null,null,null)),(t()(),eo(3,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),eo(4,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),eo(5,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),yo(-1,null,["Verneinung"])),(t()(),eo(7,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),eo(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(9,null,["",""])),(t()(),eo(10,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(11,null,["",""]))],null,(function(t,e){var n=e.component;t(e,9,0,n.flexLemma(n.card,n.konjugationTypes.default)),t(e,11,0,n.flexLemma(n.card,n.konjugationTypes.negated))}))}class xk{constructor(t,e,n,r){this.router=t,this.route=e,this.cardService=n,this.deckService=r,this.flyInOutTrigger="in",this.decks=[]}get cardTypes(){return Gm}get wordTypes(){return Hm}get adjectiveTypes(){return Wm}get verbTypes(){return Bm}ngOnInit(){this.routerSub=this.route.paramMap.subscribe(t=>{this.cardService.get(t.get("card")).snapshotChanges().subscribe(t=>{this.card=Km.createFromCardInterface(t.payload.data()),this.card.uid=t.payload.id})})}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe()}close(){this.router.navigate([{outlets:{modal:null}}])}}var Ak=er({encapsulation:0,styles:[["[_nghost-%COMP%]{overflow:auto;position:fixed;height:60%;left:0;right:0;top:20%;margin:auto;width:720px;background-color:#fff;border-radius:8px;padding:8px;box-shadow:3px 4px 5px 0 rgba(0,0,0,.3)}@media only screen and (max-width:736px){[_nghost-%COMP%]{box-shadow:0 0 5px 0 rgba(0,0,0,.3);width:calc(100% - 16px);top:initial;bottom:0;height:80%;border-bottom-left-radius:0;border-bottom-right-radius:0}}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{font-weight:lighter;color:#646464}[_nghost-%COMP%]   .japanese[_ngcontent-%COMP%]{text-align:center;font-weight:800;font-size:25px}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{text-align:left}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#6464641a}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:none}.action-shortcuts[_ngcontent-%COMP%]{position:absolute;top:0;right:5px}.action-shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;margin-right:6px;text-decoration:none;color:#fff;background:#002828;padding:5px 8px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;transition:all .2s}.action-shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{margin-right:0}@media (hover:hover){.action-shortcuts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{padding-top:8px}}.deck[_ngcontent-%COMP%]{text-decoration:none;color:#fff;background-color:#002828;padding:4px 6px;margin-right:2px;border-radius:4px}.deck[_ngcontent-%COMP%]:last-child{margin-right:0}ul[_ngcontent-%COMP%]{margin:0}.decks[_ngcontent-%COMP%]{margin-top:5px}.section[_ngcontent-%COMP%]{margin-bottom:15px}.wordType[_ngcontent-%COMP%]{position:absolute;right:0;bottom:10px;padding:5px;color:#fff;font-family:sans-serif;border-top-left-radius:5px;border-bottom-left-radius:5px;background-color:#002828}.wordType.noun[_ngcontent-%COMP%]{background-color:#005757}"]],data:{animation:[{type:7,name:"flyInOutTrigger",definitions:[{type:0,name:"in",styles:{type:6,styles:{transform:"{{ from }}",opacity:1},offset:null},options:{params:{from:"translateY(0%)"}}},{type:1,expr:":enter",animation:[{type:10,animation:{type:8,animation:[{type:6,styles:{transform:"{{ to }}",opacity:0},offset:null},{type:3,steps:[{type:4,styles:{type:6,styles:{transform:"{{ from }}"},offset:null},timings:"{{ timecurve }}"},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"{{ timecurve }}"}],options:null}],options:{params:{from:"translateY(0%)",to:"translateY(100%)",timecurve:"400ms cubic-bezier(0.645, 0.045, 0.355, 1.000)"}}},options:null}],options:null},{type:1,expr:":leave",animation:[{type:10,animation:{type:8,animation:[{type:6,styles:{transform:"{{ from }}",opacity:1},offset:null},{type:3,steps:[{type:4,styles:{type:6,styles:{transform:"{{ to }}"},offset:null},timings:"{{ timecurve }}"},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"{{ timecurveOpacity }}"}],options:null}],options:{params:{from:"translateY(0%)",to:"translateY(100%)",timecurve:"400ms cubic-bezier(0.645, 0.045, 0.355, 1.000)",timecurveOpacity:"350ms cubic-bezier(0.645, 0.045, 0.355, 1.000)"}}},options:null}],options:null}],options:{}}]}});function Nk(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function Pk(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function Ok(t){return wo(0,[(t()(),eo(0,0,null,null,8,"div",[["class","section readings"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),yo(-1,null,[" Lesungen "])),(t()(),eo(3,0,null,null,2,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Nk)),hi(5,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null),(t()(),eo(6,0,null,null,2,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Pk)),hi(8,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.card.japanese_readings),t(e,8,0,n.card.chinese_readings)}),null)}function Dk(t){return wo(0,[(t()(),eo(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),yo(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function Rk(t){return wo(0,[(t()(),eo(0,0,null,null,5,"div",[["class","section german"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),yo(-1,null,[" Bedeutungen "])),(t()(),eo(3,0,null,null,2,"ul",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Dk)),hi(5,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,5,0,e.component.card.german)}),null)}function Mk(t){return wo(0,[(t()(),eo(0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),eo(1,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),eo(2,0,null,null,3,"ruby",[],null,null,null,null,null)),(t()(),yo(3,null,[" "," "])),(t()(),eo(4,0,null,null,1,"rt",[],null,null,null,null,null)),(t()(),yo(5,null,["",""])),(t()(),eo(6,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),yo(7,null,["",""]))],null,(function(t,e){t(e,3,0,e.context.$implicit.japanese),t(e,5,0,e.context.$implicit.reading),t(e,7,0,e.context.$implicit.german)}))}function Lk(t){return wo(0,[(t()(),eo(0,0,null,null,5,"div",[["class","section examples"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),yo(-1,null,[" Beispiele "])),(t()(),eo(3,0,null,null,2,"table",[],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Mk)),hi(5,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,5,0,e.component.card.examples)}),null)}function Fk(t){return wo(0,[(t()(),eo(0,0,null,null,4,"div",[["class","section konjugations"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),yo(-1,null,[" Flexionstabelle "])),(t()(),eo(3,0,null,null,1,"app-verb-table",[],null,null,null,Ck,kk)),hi(4,114688,null,0,wk,[],{card:[0,"card"]},null)],(function(t,e){t(e,4,0,e.component.card)}),null)}function jk(t){return wo(0,[(t()(),eo(0,0,null,null,4,"div",[["class","section konjugations"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),yo(-1,null,[" Flexionstabelle "])),(t()(),eo(3,0,null,null,1,"app-adjective-table",[],null,null,null,Ik,Sk)),hi(4,114688,null,0,Tk,[],{card:[0,"card"]},null)],(function(t,e){t(e,4,0,e.component.card)}),null)}function Uk(t){return wo(0,[(t()(),eo(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,7,"a",[["class","deck"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(2,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(3,3),mo(4,{primary:0,modal:1}),mo(5,{outlets:0}),go(6,2),(t()(),eo(7,0,null,null,0,"i",[["class","feather icon-copy"]],null,null,null,null,null)),(t()(),yo(8,null,["",""]))],(function(t,e){var n=t(e,6,0,"",t(e,5,0,t(e,4,0,t(e,3,0,"decks",e.parent.context.$implicit.uid,"list"),null)));t(e,2,0,n)}),(function(t,e){t(e,1,0,Jr(e,2).target,Jr(e,2).href),t(e,8,0,e.parent.context.$implicit.name)}))}function Vk(t){return wo(0,[(t()(),eo(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,7,"a",[["class","deck"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(2,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(3,3),mo(4,{primary:0,modal:1}),mo(5,{outlets:0}),go(6,2),(t()(),eo(7,0,null,null,0,"i",[["class","feather icon-copy"]],null,null,null,null,null)),(t()(),yo(8,null,["",""]))],(function(t,e){var n=t(e,6,0,"",t(e,5,0,t(e,4,0,t(e,3,0,"decks",e.parent.context.$implicit,"list"),null)));t(e,2,0,n)}),(function(t,e){t(e,1,0,Jr(e,2).target,Jr(e,2).href),t(e,8,0,e.parent.context.$implicit)}))}function qk(t){return wo(0,[(t()(),eo(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Uk)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Vk)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){t(e,2,0,e.context.$implicit.name),t(e,4,0,!e.context.$implicit.name)}),null)}function zk(t){return wo(0,[(t()(),eo(0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,5,"div",[["class","section"]],null,null,null,null,null)),(t()(),eo(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),yo(-1,null,[" Enthalten in "])),(t()(),eo(4,0,null,null,2,"div",[["class","decks"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,qk)),hi(6,278528,null,0,Ku,[Ln,Rn,An],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,6,0,e.component.card.decks)}),null)}function Hk(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType noun"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Substantiv "]))],null,null)}function Bk(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Ichidan Verb "]))],null,null)}function Wk(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Godan Verb "]))],null,null)}function Gk(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Suru Verb "]))],null,null)}function Kk(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Irregular Verb "]))],null,null)}function $k(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" Verb "]))],null,null)}function Qk(t){return wo(0,[(t()(),eo(0,0,null,null,12,"div",[["class","wordType verb"]],null,null,null,null,null)),(t()(),eo(1,0,null,null,11,null,null,null,null,null,null,null)),hi(2,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,Bk)),hi(4,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Wk)),hi(6,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Gk)),hi(8,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Kk)),hi(10,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,$k)),hi(12,16384,null,0,ea,[Ln,Rn,Xu],null,null)],(function(t,e){var n=e.component;t(e,2,0,n.card.verbType),t(e,4,0,n.verbTypes.ichidan),t(e,6,0,n.verbTypes.godan),t(e,8,0,n.verbTypes.suru),t(e,10,0,n.verbTypes.irregular)}),null)}function Yk(t){return wo(0,[(t()(),eo(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),yo(-1,null,[" \u3044 Adjektiv "]))],null,null)}function Zk(t){return wo(0,[(t()(),yo(-1,null,[" \u306a\u3000Adjektiv "]))],null,null)}function Jk(t){return wo(0,[(t()(),eo(0,0,null,null,3,"div",[["class","wordType adjective"]],null,null,null,null,null)),(t()(),to(16777216,null,null,1,null,Yk)),hi(2,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["naAdj",2]],null,0,null,Zk))],(function(t,e){var n=e.component;t(e,2,0,n.card.adjectiveType==n.adjectiveTypes.iAdjective,Jr(e,3))}),null)}function Xk(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType adverb"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Adverb "]))],null,null)}function tC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType pronoun"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Pronomen "]))],null,null)}function eC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType preposition"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Pr\xe4position "]))],null,null)}function nC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType conjunction"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Konjunktion "]))],null,null)}function rC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType numeral"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Numeral "]))],null,null)}function iC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType interjection"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Interjektion "]))],null,null)}function lC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","wordType kanji"]],null,null,null,null,null)),(t()(),yo(-1,null,[" Kanji "]))],null,null)}function oC(t){return wo(0,[(t()(),eo(0,0,null,null,22,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,21,null,null,null,null,null,null,null)),hi(2,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),to(16777216,null,null,1,null,Hk)),hi(4,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Qk)),hi(6,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Jk)),hi(8,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,Xk)),hi(10,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,tC)),hi(12,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,eC)),hi(14,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,nC)),hi(16,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,rC)),hi(18,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,iC)),hi(20,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(16777216,null,null,1,null,lC)),hi(22,278528,null,0,ta,[Ln,Rn,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.card.wordType),t(e,4,0,n.wordTypes.noun),t(e,6,0,n.wordTypes.verb),t(e,8,0,n.wordTypes.adjective),t(e,10,0,n.wordTypes.adverb),t(e,12,0,n.wordTypes.pronoun),t(e,14,0,n.wordTypes.preposition),t(e,16,0,n.wordTypes.conjunction),t(e,18,0,n.wordTypes.numeral),t(e,20,0,n.wordTypes.interjection),t(e,22,0,n.wordTypes.kanji)}),null)}function sC(t){return wo(0,[(t()(),eo(0,0,null,null,30,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,13,"div",[["class","action-shortcuts"]],null,null,null,null,null)),(t()(),eo(2,0,null,null,6,"a",[["class","edit"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(3,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),go(4,3),mo(5,{modal:0}),mo(6,{outlets:0}),go(7,2),(t()(),eo(8,0,null,null,0,"i",[["class","feather icon-edit"]],null,null,null,null,null)),(t()(),eo(9,0,null,null,5,"a",[["class","edit"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(10,671744,null,0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),mo(11,{modal:0}),mo(12,{outlets:0}),go(13,2),(t()(),eo(14,0,null,null,0,"i",[["class","feather icon-x"]],null,null,null,null,null)),(t()(),eo(15,0,null,null,1,"div",[["class","japanese"]],null,null,null,null,null)),(t()(),yo(16,null,[" "," "])),(t()(),to(16777216,null,null,1,null,Ok)),hi(18,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Rk)),hi(20,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Lk)),hi(22,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,Fk)),hi(24,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,jk)),hi(26,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,zk)),hi(28,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(16777216,null,null,1,null,oC)),hi(30,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component,r=t(e,7,0,"",t(e,6,0,t(e,5,0,t(e,4,0,"cards","edit",n.card.uid))));t(e,3,0,r);var i=t(e,13,0,"",t(e,12,0,t(e,11,0,null)));t(e,10,0,i),t(e,18,0,n.card.hasReadings()),t(e,20,0,n.card.german.length),t(e,22,0,n.card.examples.length),t(e,24,0,n.card.wordType===n.wordTypes.verb),t(e,26,0,n.card.wordType===n.wordTypes.adjective),t(e,28,0,n.card.decks.length),t(e,30,0,n.card.cardType==n.cardTypes.word)}),(function(t,e){var n=e.component;t(e,2,0,Jr(e,3).target,Jr(e,3).href),t(e,9,0,Jr(e,10).target,Jr(e,10).href),t(e,16,0,n.card.japanese)}))}function uC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"div",[["class","loading"]],null,null,null,null,null)),(t()(),yo(-1,null,["Loading card data..."]))],null,null)}function aC(t){return wo(0,[(t()(),to(16777216,null,null,1,null,sC)),hi(1,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),to(0,[["loading",2]],null,0,null,uC))],(function(t,e){t(e,1,0,e.component.card,Jr(e,2))}),null)}function cC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-card-info",[],[[40,"@flyInOutTrigger",0]],null,null,aC,Ak)),hi(1,245760,null,0,xk,[kf,cp,rg,lg],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Jr(e,1).flyInOutTrigger)}))}var hC=qr("app-card-info",xk,cC,{},{},[]);class dC{constructor(t){this.auth=t,this.show=!1}ngOnInit(){}toggle(){this.show=!this.show}onClick(t){!0===this.show&&(t.contains(this.menu.nativeElement)||(this.show=!1))}}var pC=er({encapsulation:0,styles:[[".icon-user[_ngcontent-%COMP%]{display:block;font-size:40px;border:1px solid;border-radius:100%;width:50px;height:50px;text-align:center;margin:auto auto 10px}"]],data:{}});function fC(t){return wo(0,[(t()(),eo(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,6,"a",[["routerLink","/user/decks"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(2,671744,[[5,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(3,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),oo(603979776,4,{links:1}),oo(603979776,5,{linksWithHrefs:1}),mo(6,{exact:0}),(t()(),yo(-1,null,["Meine Decks"]))],(function(t,e){t(e,2,0,"/user/decks");var n=t(e,6,0,!0);t(e,3,0,n,"active")}),(function(t,e){t(e,1,0,Jr(e,2).target,Jr(e,2).href)}))}function gC(t){return wo(0,[(t()(),eo(0,0,null,null,11,null,null,null,null,null,null,null)),(t()(),eo(1,0,null,null,7,"a",[["routerLink","/user"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(2,671744,[[3,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(3,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),oo(603979776,2,{links:1}),oo(603979776,3,{linksWithHrefs:1}),mo(6,{exact:0}),(t()(),eo(7,0,null,null,0,"i",[["class","feather icon-user"]],null,null,null,null,null)),(t()(),yo(8,null,["",""])),(t()(),to(16777216,null,null,2,null,fC)),hi(10,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null),di(131072,sa,[Ne]),(t()(),to(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,"/user");var r=t(e,6,0,!0);t(e,3,0,r,"active"),t(e,10,0,Jn(e,10,0,Jr(e,11).transform(n.auth.user)))}),(function(t,e){t(e,1,0,Jr(e,2).target,Jr(e,2).href),t(e,8,0,e.context.ngIf.displayName)}))}function mC(t){return wo(0,[(t()(),eo(0,0,null,null,6,"a",[["routerLink","/user"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(1,671744,[[7,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(2,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),oo(603979776,6,{links:1}),oo(603979776,7,{linksWithHrefs:1}),mo(5,{exact:0}),(t()(),yo(-1,null,["Loginbereich"]))],(function(t,e){t(e,1,0,"/user");var n=t(e,5,0,!0);t(e,2,0,n,"active")}),(function(t,e){t(e,0,0,Jr(e,1).target,Jr(e,1).href)}))}function vC(t){return wo(0,[(t()(),eo(0,0,[[1,0],["menu",1]],null,63,"div",[["class","menu"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggle()&&r),r}),null,null)),(t()(),eo(1,0,null,null,62,"div",[["class","links"]],null,null,null,null,null)),(t()(),to(16777216,null,null,2,null,gC)),hi(3,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),di(131072,sa,[Ne]),(t()(),to(0,[["login",2]],null,0,null,mC)),(t()(),eo(6,0,null,null,0,"span",[["class","label"]],null,null,null,null,null)),(t()(),eo(7,0,null,null,5,"a",[["routerLink","/home"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Jr(t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.toggle()&&r),r}),null,null)),hi(8,671744,[[9,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(9,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,8,{links:1}),oo(603979776,9,{linksWithHrefs:1}),(t()(),yo(-1,null,["Home"])),(t()(),eo(13,0,null,null,8,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(14,671744,[[11,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),mo(15,{modal:0}),mo(16,{outlets:0}),go(17,1),hi(18,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,10,{links:1}),oo(603979776,11,{linksWithHrefs:1}),(t()(),yo(-1,null,["W\xf6rterbuch"])),(t()(),eo(22,0,null,null,1,"span",[["class"," label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Silben"])),(t()(),eo(24,0,null,null,5,"a",[["routerLink","/quiz"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Jr(t,25).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.toggle()&&r),r}),null,null)),hi(25,671744,[[13,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(26,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,12,{links:1}),oo(603979776,13,{linksWithHrefs:1}),(t()(),yo(-1,null,["Quizmodus"])),(t()(),eo(30,0,null,null,5,"a",[["routerLink","/learn"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Jr(t,31).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.toggle()&&r),r}),null,null)),hi(31,671744,[[15,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(32,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,14,{links:1}),oo(603979776,15,{linksWithHrefs:1}),(t()(),yo(-1,null,["Lernmodus"])),(t()(),eo(36,0,null,null,5,"a",[["routerLink","/syllables/overview"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Jr(t,37).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.toggle()&&r),r}),null,null)),hi(37,671744,[[17,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(38,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,16,{links:1}),oo(603979776,17,{linksWithHrefs:1}),(t()(),yo(-1,null,["Tabelle"])),(t()(),eo(42,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Vokabel"])),(t()(),eo(44,0,null,null,5,"a",[["routerLink","/decks"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,45).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(45,671744,[[19,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(46,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,18,{links:1}),oo(603979776,19,{linksWithHrefs:1}),(t()(),yo(-1,null,["Alle Decks"])),(t()(),eo(50,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Allgemein"])),(t()(),eo(52,0,null,null,5,"a",[["routerLink","/about"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Jr(t,53).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),hi(53,671744,[[21,4]],0,Ef,[kf,cp,su],{routerLink:[0,"routerLink"]},null),hi(54,1720320,null,2,Sf,[kf,cn,gn,[2,Cf],[2,Ef]],{routerLinkActive:[0,"routerLinkActive"]},null),oo(603979776,20,{links:1}),oo(603979776,21,{linksWithHrefs:1}),(t()(),yo(-1,null,["Handbuch"])),(t()(),eo(58,0,null,null,1,"a",[["href","https://www.japanischlernen.at/login/"]],null,null,null,null,null)),(t()(),yo(-1,null,["Nihongo Gakuen"])),(t()(),eo(60,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),yo(-1,null,["Version"])),(t()(),eo(62,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),yo(-1,null,["2.0.1-100420"]))],(function(t,e){var n=e.component;t(e,3,0,Jn(e,3,0,Jr(e,4).transform(n.auth.user)),Jr(e,5)),t(e,8,0,"/home"),t(e,9,0,"active");var r=t(e,17,0,t(e,16,0,t(e,15,0,"dictionary")));t(e,14,0,r),t(e,18,0,"active"),t(e,25,0,"/quiz"),t(e,26,0,"active"),t(e,31,0,"/learn"),t(e,32,0,"active"),t(e,37,0,"/syllables/overview"),t(e,38,0,"active"),t(e,45,0,"/decks"),t(e,46,0,"active"),t(e,53,0,"/about"),t(e,54,0,"active")}),(function(t,e){t(e,7,0,Jr(e,8).target,Jr(e,8).href),t(e,13,0,Jr(e,14).target,Jr(e,14).href),t(e,24,0,Jr(e,25).target,Jr(e,25).href),t(e,30,0,Jr(e,31).target,Jr(e,31).href),t(e,36,0,Jr(e,37).target,Jr(e,37).href),t(e,44,0,Jr(e,45).target,Jr(e,45).href),t(e,52,0,Jr(e,53).target,Jr(e,53).href)}))}function yC(t){return wo(0,[oo(671088640,1,{menu:0}),(t()(),eo(1,0,null,null,1,"button",[["class","no-print menu-button"],["title","Hauptmen\xfc"]],[[2,"open",null],[2,"closed-menu",null]],[[null,"mousedown"]],(function(t,e,n){var r=!0;return"mousedown"===e&&(r=!1!==t.component.toggle()&&r),r}),null,null)),(t()(),yo(-1,null,["\u2668\ufe0e"])),(t()(),to(16777216,null,null,1,null,vC)),hi(4,16384,null,0,Qu,[Ln,Rn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,4,0,e.component.show)}),(function(t,e){var n=e.component;t(e,1,0,n.show,!n.show)}))}function _C(t,e,n,i){return r(n)&&(i=n,n=void 0),i?_C(t,e,n).pipe(F(t=>u(t)?i(...t):i(t))):new b(r=>{!function t(e,n,r,i,l){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,l),o=()=>t.removeEventListener(n,r,l)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,s=e.length;o<s;o++)t(e[o],n,r,i,l)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}const bC=new b(v);class wC{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new kC(t,this.delay,this.scheduler))}}class kC extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(kC.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new CC(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(zs.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(zs.createComplete()),this.unsubscribe()}}class CC{constructor(t,e){this.time=t,this.notification=e}}const EC="Service workers are disabled or not supported by this browser";class TC{constructor(t){if(this.serviceWorker=t,t){const e=_C(t,"controllerchange").pipe(F(()=>t.controller)),n=Lc(cc(()=>Ns(t.controller)),e);this.worker=n.pipe(Ks(t=>!!t)),this.registration=this.worker.pipe(Dc(()=>t.getRegistration()));const r=_C(t,"message").pipe(F(t=>t.data)).pipe(Ks(t=>t&&t.type)).pipe(et(new T));r.connect(),this.events=r}else this.worker=this.events=this.registration=(e=EC,cc(()=>Vs(new Error(e))));var e}postMessage(t,e){return this.worker.pipe(Ic(1),ka(n=>{n.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>void 0)}postMessageWithStatus(t,e,n){const r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(()=>void 0)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(Ks(e=>e.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(Ic(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(Ks(e=>e.nonce===t),Ic(1),F(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}class SC{constructor(t){if(this.sw=t,this.subscriptionChanges=new T,!t.isEnabled)return this.messages=bC,this.notificationClicks=bC,void(this.subscription=bC);this.messages=this.sw.eventsOfType("PUSH").pipe(F(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(F(t=>t.data)),this.pushManager=this.sw.registration.pipe(F(t=>t.pushManager));const e=this.pushManager.pipe(Dc(t=>t.getSubscription()));this.subscription=$(e,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(EC));const e={userVisibleOnly:!0};let n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return e.applicationServerKey=r,this.pushManager.pipe(Dc(t=>t.subscribe(e)),Ic(1)).toPromise().then(t=>(this.subscriptionChanges.next(t),t))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ic(1),Dc(t=>{if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(EC))}decodeBase64(t){return atob(t)}}class IC{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=bC,void(this.activated=bC);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(EC));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(EC));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}class xC{}const AC=new Tt("NGSW_REGISTER_SCRIPT");function NC(t,e,n,r){return()=>{if(!(ga(r)&&"serviceWorker"in navigator&&!1!==n.enabled))return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[e,...r]=(n.registrationStrategy||"registerWhenStable").split(":");switch(e){case"registerImmediately":i=Ns(null);break;case"registerWithDelay":i=Ns(null).pipe(function(t,e=Ms){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new wC(r,e))}(+r[0]||0));break;case"registerWhenStable":i=t.get(Dl).isStable.pipe(Ks(t=>t));break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}i.pipe(Ic(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(t=>console.error("Service worker registration failed with:",t)))}}function PC(t,e){return new TC(ga(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class OC{static register(t,e={}){return{ngModule:OC,providers:[{provide:AC,useValue:t},{provide:xC,useValue:e},{provide:TC,useFactory:PC,deps:[xC,Gi]},{provide:Vi,useFactory:NC,deps:[Re,AC,xC,Gi],multi:!0}]}}}var DC=er({encapsulation:0,styles:[[""]],data:{}});function RC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-menu",[],null,[["document","click"]],(function(t,e,n){var r=!0;return"document:click"===e&&(r=!1!==Jr(t,1).onClick(n.target)&&r),r}),yC,pC)),hi(1,114688,null,0,dC,[ng],null,null),(t()(),eo(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),hi(3,212992,null,0,Af,[xf,Ln,on,[8,null],Ne],null,null),(t()(),eo(4,16777216,null,null,1,"router-outlet",[["name","modal"]],null,null,null,null,null)),hi(5,212992,null,0,Af,[xf,Ln,on,[8,"modal"],Ne],null,null)],(function(t,e){t(e,1,0),t(e,3,0),t(e,5,0)}),null)}function MC(t){return wo(0,[(t()(),eo(0,0,null,null,1,"app-root",[],null,null,null,RC,DC)),hi(1,114688,null,0,ic,[IC,SC,rc],null,null)],(function(t,e){t(e,1,0)}),null)}var LC=qr("app-root",ic,MC,{},{},[]);class FC{}class jC{}const UC="*";function VC(t,e=null){return{type:2,steps:t,options:e}}function qC(t){return{type:6,styles:t,offset:null}}function zC(t){Promise.resolve(null).then(t)}class HC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class BC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?zC(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const WC="!";function GC(){return"undefined"!=typeof process}function KC(t){switch(t.length){case 0:return new HC;case 1:return t[0];default:return new BC(t)}}function $C(t,e,n,r,i={},l={}){const o=[],s=[];let u=-1,a=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&a||{};Object.keys(t).forEach(n=>{let r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),s){case WC:s=i[n];break;case UC:s=l[n];break;default:s=e.normalizeStyleValue(n,r,s,o)}c[r]=s}),r||s.push(c),a=c,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return s}function QC(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&YC(n,"start",t)));break;case"done":t.onDone(()=>r(n&&YC(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&YC(n,"destroy",t)))}}function YC(t,e,n){const r=n.totalTime,i=ZC(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),l=t._data;return null!=l&&(i._data=l),i}function ZC(t,e,n,r,i="",l=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:l,disabled:!!o}}function JC(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function XC(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let tE=(t,e)=>!1,eE=(t,e)=>!1,nE=(t,e,n)=>[];const rE=GC();(rE||"undefined"!=typeof Element)&&(tE=(t,e)=>t.contains(e),eE=(()=>{if(rE||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):eE}})(),nE=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let iE=null,lE=!1;function oE(t){iE||(iE=("undefined"!=typeof document?document.body:null)||{},lE=!!iE.style&&"WebkitAppearance"in iE.style);let e=!0;return iE.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in iE.style)&&lE&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in iE.style),e}const sE=eE,uE=tE,aE=nE;function cE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class hE{validateStyleProperty(t){return oE(t)}matchesElement(t,e){return sE(t,e)}containsElement(t,e){return uE(t,e)}query(t,e,n){return aE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,l=[],o){return new HC(n,r)}}let dE=(()=>{class t{}return t.NOOP=new hE,t})();const pE=1e3,fE="{{",gE="ng-enter",mE="ng-leave",vE="ng-trigger",yE=".ng-trigger",_E="ng-animating",bE=".ng-animating";function wE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:kE(parseFloat(e[1]),e[2])}function kE(t,e){switch(e){case"s":return t*pE;default:return t}}function CE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,l="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=kE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=kE(parseFloat(o),n[4]));const s=n[5];s&&(l=s)}else r=t;if(!n){let n=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(l,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:l}}(t,e,n)}function EE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function TE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else EE(t,n);return n}function SE(t,e,n){return n?e+":"+n+";":""}function IE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=SE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=SE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function xE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=LE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),GC()&&IE(t))}function AE(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=LE(e);t.style[n]=""}),GC()&&IE(t))}function NE(t){return Array.isArray(t)?1==t.length?t[0]:VC(t):t}const PE=new RegExp(`${fE}\\s*(.+?)\\s*}}`,"g");function OE(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=PE.exec(n);)e.push(r[1]);PE.lastIndex=0}return e}function DE(t,e,n){const r=t.toString(),i=r.replace(PE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function RE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ME=/-+([a-z0-9])/g;function LE(t){return t.replace(ME,(...t)=>t[1].toUpperCase())}function FE(t,e){return 0===t||0===e}function jE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let l=e[0],o=[];if(r.forEach(t=>{l.hasOwnProperty(t)||o.push(t),l[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=VE(t,e)}))}}return e}function UE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function VE(t,e){return window.getComputedStyle(t)[e]}const qE="*";function zE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],l=r[2],o=r[3];e.push(WE(i,o)),"<"!=l[0]||i==qE&&o==qE||e.push(WE(o,i))})(t,n,e)):n.push(t),n}const HE=new Set(["true","1"]),BE=new Set(["false","0"]);function WE(t,e){const n=HE.has(t)||BE.has(t),r=HE.has(e)||BE.has(e);return(i,l)=>{let o=t==qE||t==i,s=e==qE||e==l;return!o&&n&&"boolean"==typeof i&&(o=i?HE.has(t):BE.has(t)),!s&&r&&"boolean"==typeof l&&(s=l?HE.has(e):BE.has(e)),o&&s}}const GE=":self",KE=new RegExp(`s*${GE}s*,?`,"g");function $E(t,e,n){return new YE(t).build(e,n)}const QE="";class YE{constructor(t){this._driver=t}build(t,e){const n=new ZE(e);return this._resetContextStyleTimingState(n),UE(this,NE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=QE,t.collectedStyles={},t.collectedStyles[QE]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,l.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:l,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,l=r||{};if(n.styles.forEach(t=>{if(JE(t)){const e=t;Object.keys(e).forEach(t=>{OE(e[t]).forEach(t=>{l.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=RE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=UE(this,NE(t.animation),e);return{type:1,matchers:zE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:XE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>UE(this,t,e)),options:XE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=UE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:XE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return tT(CE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=tT(0,0,"");return t.dynamic=!0,t.strValue=r,t}return tT((n=n||CE(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:qC({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,l=!1;if(!i){l=!0;const t={};n.easing&&(t.easing=n.easing),i=qC(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=l,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==UC?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(JE(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(fE)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],o=l[n];let s=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),s=!1),i=o.startTime),s&&(l[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=OE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let l=!1,o=!1,s=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(JE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(JE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),a=0;return null!=u&&(r++,a=n.offset=u),o=o||a<0||a>1,l=l||a<s,s=a,i.push(a),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&e.errors.push("Please ensure that all keyframe offsets are in order");const a=t.steps.length;let c=0;r>0&&r<a?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(a-1));const h=a-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return u.forEach((t,r)=>{const l=c>0?r==h?1:c*r:i[r],o=l*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=l,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:UE(this,NE(t.animation),e),options:XE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:XE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:XE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,l]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==GE);return e&&(t=t.replace(KE,"")),[t=t.replace(/@\*/g,yE).replace(/@\w+/g,t=>yE+"-"+t.substr(1)).replace(/:animating/g,bE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,JC(e.collectedStyles,e.currentQuerySelector,{});const o=UE(this,NE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:o,originalSelector:t.selector,options:XE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:CE(t.timings,e.errors,!0);return{type:12,animation:UE(this,NE(t.animation),e),timings:n,options:null}}}class ZE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function JE(t){return!Array.isArray(t)&&"object"==typeof t}function XE(t){var e;return t?(t=EE(t)).params&&(t.params=(e=t.params)?EE(e):null):t={},t}function tT(t,e,n){return{duration:t,delay:e,easing:n}}function eT(t,e,n,r,i,l,o=null,s=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:o,subTimeline:s}}class nT{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const rT=1,iT=new RegExp(":enter","g"),lT=new RegExp(":leave","g");function oT(t,e,n,r,i,l={},o={},s,u,a=[]){return(new sT).buildKeyframes(t,e,n,r,i,l,o,s,u,a)}class sT{buildKeyframes(t,e,n,r,i,l,o,s,u,a=[]){u=u||new nT;const c=new aT(t,e,u,r,i,a,[]);c.options=s,c.currentTimeline.setStyles([l],null,c.errors,s),UE(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,s)}return h.length?h.map(t=>t.buildKeyframes()):[eT(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,l=this._visitSubInstructions(n,r,r.options);i!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?wE(n.duration):null,l=null!=n.delay?wE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,l);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),UE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uT);const t=wE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>UE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?wE(t.options.delay):0;t.steps.forEach(l=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),UE(this,l,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return CE(e.params?DE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,l=e.createSubContext().currentTimeline;l.easing=n.easing,t.styles.forEach(t=>{l.forwardTime((t.offset||0)*i),l.setStyles(t.styles,t.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?wE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uT);let l=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let s=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(s=o.currentTimeline),UE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),s&&(e.currentTimeline.mergeTimelineCollectedStyles(s),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,l=Math.abs(i.duration),o=l*(e.currentQueryTotal-1);let s=l*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}const u=e.currentTimeline;s&&u.delayNextStep(s);const a=u.currentTime;UE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-a+(r.startTime-n.currentTimeline.startTime)}}const uT={};class aT{constructor(t,e,n,r,i,l,o,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=l,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new cT(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=wE(n.duration)),null!=n.delay&&(r.delay=wE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=DE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new aT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=uT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new hT(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,l){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(iT,"."+this._enterClassName)).replace(lT,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||l.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class cT{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new cT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=rT,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||UC,this._currentKeyframe[t]=UC}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},l=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=UC}):TE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(l).forEach(t=>{const e=DE(l[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:UC),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,l)=>{const o=TE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==WC?t.add(n):r==UC&&e.add(n)}),n||(o.offset=l/this.duration),r.push(o)});const i=t.size?RE(t.values()):[],l=e.size?RE(e.values()):[];if(n){const t=r[0],e=EE(t);t.offset=0,e.offset=1,r=[t,e]}return eT(this.element,r,i,l,this.duration,this.startTime,this.easing,!1)}}class hT extends cT{constructor(t,e,n,r,i,l,o=!1){super(t,e,l.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],l=n+e,o=e/l,s=TE(t[0],!1);s.offset=0,i.push(s);const u=TE(t[0],!1);u.offset=dT(o),i.push(u);const a=t.length-1;for(let r=1;r<=a;r++){let o=TE(t[r],!1);o.offset=dT((e+o.offset*n)/l),i.push(o)}n=l,e=0,r="",t=i}return eT(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function dT(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class pT{}class fT extends pT{normalizePropertyName(t,e){return LE(t)}normalizeStyleValue(t,e,n,r){let i="";const l=n.toString().trim();if(gT[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return l+i}}const gT=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function mT(t,e,n,r,i,l,o,s,u,a,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:l,toState:r,toStyles:o,timelines:s,queriedElements:u,preStyleProps:a,postStyleProps:c,totalTime:h,errors:d}}const vT={};class yT{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],l=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):l}build(t,e,n,r,i,l,o,s,u,a){const c=[],h=this.ast.options&&this.ast.options.params||vT,d=this.buildStyles(n,o&&o.params||vT,c),p=s&&s.params||vT,f=this.buildStyles(r,p,c),g=new Set,m=new Map,v=new Map,y="void"===r,_={params:Object.assign({},h,p)},b=a?[]:oT(t,e,this.ast.animation,i,l,d,f,_,u,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return mT(e,this._triggerName,n,r,y,d,f,[],[],m,v,w,c);b.forEach(t=>{const n=t.element,r=JC(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=JC(v,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const k=RE(g.values());return mT(e,this._triggerName,n,r,y,d,f,b,k,m,v,w)}}class _T{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=EE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let l=i[t];l.length>1&&(l=DE(l,r,e)),n[t]=l})}}),n}}class bT{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new _T(t.style,t.options&&t.options.params||{})}),wT(this.states,"true","1"),wT(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new yT(t,e,this.states))}),this.fallbackTransition=new yT(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function wT(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const kT=new nT;class CT{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=$E(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=$C(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let l;const o=new Map;if(i?(l=oT(this._driver,e,i,gE,mE,{},{},n,kT,r)).forEach(t=>{const e=JC(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),l=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,UC)})});const s=KC(l.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=s,s.onDestroy(()=>this.destroy(t)),this.players.push(s),s}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=ZC(e,"","","");return QC(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const ET="ng-animate-queued",TT=".ng-animate-queued",ST="ng-animate-disabled",IT=".ng-animate-disabled",xT="ng-star-inserted",AT=".ng-star-inserted",NT=[],PT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},OT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},DT="__ng_removed";class RT{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=EE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const MT="void",LT=new RT(MT);class FT{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,WT(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const l=JC(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};l.push(o);const s=JC(this._engine.statesByElement,t,{});return s.hasOwnProperty(e)||(WT(t,vE),WT(t,vE+"-"+e),s[e]=LT),()=>{this._engine.afterFlush(()=>{const t=l.indexOf(o);t>=0&&l.splice(t,1),this._triggers[e]||delete s[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),l=new UT(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(WT(t,vE),WT(t,vE+"-"+e),this._engine.statesByElement.set(t,o={}));let s=o[e];const u=new RT(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&s&&u.absorbOptions(s.options),o[e]=u,s||(s=LT),u.value!==MT&&s.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(s.params,u.params)){const e=[],n=i.matchStyles(s.value,s.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{AE(t,n),xE(t,r)})}return}const a=JC(this._engine.playersByElement,t,[]);a.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(s.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:s,toState:u,player:l,isFallbackTransition:h}),h||(WT(t,ET),l.onStart(()=>{GT(t,ET)})),l.onDone(()=>{let e=this.players.indexOf(l);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(l);t>=0&&n.splice(t,1)}}),this.players.push(l),a.push(l),l}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,yE,!0).forEach(t=>{if(t[DT])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const l=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,MT,r);n&&l.push(n)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&KC(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,l=this._engine.statesByElement.get(t)[r]||LT,o=new RT(MT),s=new UT(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:l,toState:o,player:s,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){WT(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,l=this._elementListeners.get(i);l&&l.forEach(e=>{if(e.name==n.triggerName){const r=ZC(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,QC(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class jT{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new FT(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(VT(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!VT(e))return;const i=e[DT];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),WT(t,ST)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),GT(t,ST))}removeNode(t,e,n,r){if(VT(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[DT]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return VT(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,yE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,bE,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return KC(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[DT];if(e&&e.setForRemoval){if(t[DT]=PT,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,IT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,IT,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)WT(this.collectedEnterElements[n],xT);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?KC(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new nT,r=[],i=new Map,l=[],o=new Map,s=new Map,u=new Map,a=new Set;this.disabledNodes.forEach(t=>{a.add(t);const e=this.driver.query(t,TT,!0);for(let n=0;n<e.length;n++)a.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=HT(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=gE+f++;p.set(e,n),t.forEach(t=>WT(t,n))});const g=[],m=new Set,v=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const t=this.collectedLeaveElements[N],e=t[DT];e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,AT,!0).forEach(t=>m.add(t)):v.add(t))}const y=new Map,_=HT(h,Array.from(m));_.forEach((t,e)=>{const n=mE+f++;y.set(e,n),t.forEach(t=>WT(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>GT(t,n))}),_.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>GT(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i[DT];if(t&&t.setForMove)return void e.destroy()}const a=!c||!this.driver.containsElement(c,i),h=y.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,a);if(!f.errors||!f.errors.length)return a?(e.onStart(()=>AE(i,f.fromStyles)),e.onDestroy(()=>xE(i,f.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>AE(i,f.fromStyles)),e.onDestroy(()=>xE(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),l.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>JC(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=s.get(e);t||s.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const k=new Map,C=new Map;l.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,k))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{JC(k,e,[]).push(t),t.destroy()})});const E=g.filter(t=>$T(t,s,u)),T=new Map;zT(T,this.driver,v,u,UC).forEach(t=>{$T(t,s,u)&&E.push(t)});const S=new Map;d.forEach((t,e)=>{zT(S,this.driver,new Set(t),s,WC)}),E.forEach(t=>{const e=T.get(t),n=S.get(t);T.set(t,Object.assign({},e,n))});const I=[],x=[],A={};l.forEach(t=>{const{element:e,player:l,instruction:o}=t;if(n.has(e)){if(a.has(e))return l.onDestroy(()=>xE(e,o.toStyles)),l.disabled=!0,l.overrideTotalTime(o.totalTime),void r.push(l);let t=A;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(l.namespaceId,o,k,i,S,T);if(l.setRealPlayer(n),t===A)I.push(l);else{const e=this.playersByElement.get(t);e&&e.length&&(l.parentPlayer=KC(e)),r.push(l)}}else AE(e,o.fromStyles),l.onDestroy(()=>xE(e,o.toStyles)),x.push(l),a.has(e)&&r.push(l)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=KC(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let N=0;N<g.length;N++){const t=g[N],e=t[DT];if(GT(t,mE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,bE,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?KT(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e[DT];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let l=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(l=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==MT;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&l.push(e)})}}return(n||r)&&(l=l.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),l}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,s=t!==r,u=JC(n,t,[]);this._getPreviousPlayers(t,s,i,l,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}AE(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,l){const o=e.triggerName,s=e.element,u=[],a=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;a.add(h);const d=h[DT];if(d&&d.removedBeforeQueried)return new HC(e.duration,e.delay);const p=h!==s,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof BC?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||NT).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=l.get(h),v=$C(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,v,f);if(e.subTimeline&&r&&c.add(h),p){const e=new UT(t,o,h);e.setRealPlayer(y),u.push(e)}return y});u.forEach(t=>{JC(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),a.forEach(t=>WT(t,_E));const d=KC(h);return d.onDestroy(()=>{a.forEach(t=>GT(t,_E)),xE(s,e.toStyles)}),c.forEach(t=>{JC(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new HC(t.duration,t.delay)}}class UT{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new HC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>QC(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){JC(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function VT(t){return t&&1===t.nodeType}function qT(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function zT(t,e,n,r,i){const l=[];n.forEach(t=>l.push(qT(t)));const o=[];r.forEach((n,r)=>{const l={};n.forEach(t=>{const n=l[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[DT]=OT,o.push(r))}),t.set(r,l)});let s=0;return n.forEach(t=>qT(t,l[s++])),o}function HT(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let l=i.get(e);if(l)return l;const o=e.parentNode;return l=n.has(o)?o:r.has(o)?1:t(o),i.set(e,l),l}(t);1!==e&&n.get(e).push(t)}),n}const BT="$$classes";function WT(t,e){if(t.classList)t.classList.add(e);else{let n=t[BT];n||(n=t[BT]={}),n[e]=!0}}function GT(t,e){if(t.classList)t.classList.remove(e);else{let n=t[BT];n&&delete n[e]}}function KT(t,e,n){KC(n).onDone(()=>t.processLeaveNode(e))}function $T(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class QT{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new jT(t,e,n),this._timelineEngine=new CT(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const l=t+"-"+r;let o=this._triggerCache[l];if(!o){const t=[],e=$E(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new bT(t,e)}(r,e),this._triggerCache[l]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=XC(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=XC(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function YT(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=JT(e[0]),e.length>1&&(r=JT(e[e.length-1]))):e&&(n=JT(e)),n||r?new ZT(t,n,r):null}let ZT=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&xE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xE(this._element,this._initialStyles),this._endStyles&&(xE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(AE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(AE(this._element,this._endStyles),this._endStyles=null),xE(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function JT(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];XT(i)&&((e=e||{})[i]=t[i])}return e}function XT(t){return"display"===t||"position"===t}const tS=3,eS="animation",nS="animationend",rS=1e3;class iS{constructor(t,e,n,r,i,l,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=l,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=cS(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),aS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),uS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){lS(this._element,this._name,"paused")}resume(){lS(this._element,this._name,"running")}setPosition(t){const e=oS(this._element,this._name);this._position=t*this._duration,aS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(tS))*rS;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),uS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=cS(t,"").split(","),r=sS(n,e);r>=0&&(n.splice(r,1),aS(t,"",n.join(",")))}(this._element,this._name))}}function lS(t,e,n){aS(t,"PlayState",n,oS(t,e))}function oS(t,e){const n=cS(t,"");return n.indexOf(",")>0?sS(n.split(","),e):sS([n],e)}function sS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function uS(t,e,n){n?t.removeEventListener(nS,e):t.addEventListener(nS,e)}function aS(t,e,n,r){const i=eS+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function cS(t,e){return t.style[eS+e]}const hS="forwards",dS="linear";class pS{constructor(t,e,n,r,i,l,o,s){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=l||dS,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new iS(this.element,this.animationName,this._duration,this._delay,this.easing,hS,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:VE(this.element,n))})}this.currentSnapshot=t}}class fS extends HC{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=cE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const gS="gen_css_kf_",mS=" ";class vS{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return oE(t)}matchesElement(t,e){return sE(t,e)}containsElement(t,e){return uE(t,e)}query(t,e,n){return aE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>cE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=mS;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=mS,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const l=document.createElement("style");return l.innerHTML=r,l}animate(t,e,n,r,i,l=[],o){o&&this._notifyFaultyScrubber();const s=l.filter(t=>t instanceof pS),u={};FE(n,r)&&s.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const a=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=jE(t,e,u));if(0==n)return new fS(t,a);const c=`${gS}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=YT(t,e),p=new pS(t,e,c,n,r,i,a,d);return p.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class yS{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:VE(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class _S{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(bS().toString()),this._cssKeyframesDriver=new vS}validateStyleProperty(t){return oE(t)}matchesElement(t,e){return sE(t,e)}containsElement(t,e){return uE(t,e)}query(t,e,n){return aE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,l=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,l);const s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);const u={},a=l.filter(t=>t instanceof yS);FE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=YT(t,e=jE(t,e=e.map(t=>TE(t,!1)),u));return new yS(t,e,s,c)}}function bS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class wS extends FC{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Wt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?VC(t):t;return ES(this._renderer,null,e,"register",[n]),new kS(e,this._renderer)}}class kS extends jC{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new CS(this._id,t,e||{},this._renderer)}}class CS{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ES(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function ES(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const TS="@",SS="@.disabled";class IS{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new xS("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new AS(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class xS{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==TS&&e==SS?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class AS extends xS{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==TS?"."==e.charAt(1)&&e==SS?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==TS){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),l="";return i.charAt(0)!=TS&&([i,l]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,l,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class NS extends QT{constructor(t,e,n){super(t.body,e,n)}}function PS(){return"function"==typeof bS()?new _S:new vS}function OS(){return new fT}function DS(t,e,n){return new IS(t,e,n)}const RS=new Tt("AnimationModuleType");class MS{}var LS;n("6Joi");let FS=LS=class{static enablePersistence(t){return{ngModule:LS,providers:[{provide:Ya,useValue:!0},{provide:Za,useValue:t}]}}};function jS(t){const e=function(t){return new b(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(F(t=>t.bytesTransferred/t.totalBytes*100))}}function US(t,e,n){return{getDownloadURL:()=>q(t.getDownloadURL(),e.outsideAngular).pipe(n),getMetadata:()=>q(t.getMetadata()).pipe(n),delete:()=>q(t.delete()),child:r=>US(t.child(r),e,n),updateMetatdata:e=>q(t.updateMetadata(e)),updateMetadata:e=>q(t.updateMetadata(e)),put:(e,n)=>jS(t.put(e,n)),putString:(e,n,r)=>jS(t.putString(e,n,r))}}const VS=new Tt("angularfire2.storageBucket");let qS=class{constructor(t,e,n,r,i){this.schedulers=new Fa(i),this.keepUnstableUntilFirst=ja(this.schedulers,r),this.storage=i.runOutsideAngular(()=>$a(t,i,e).storage(n||void 0))}ref(t){return US(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return US(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}};var zS=n("wj3C"),HS=n.n(zS),BS=n("S+S0"),WS="firebasestorage.googleapis.com",GS="storageBucket",KS=12e4,$S=6e5,QS=-9007199254740991,YS=function(){function t(t,e){this.code_=JS(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return JS(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),ZS={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function JS(t){return"storage/"+t}function XS(){return new YS(ZS.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function tI(){return new YS(ZS.CANCELED,"User canceled the upload/download.")}function eI(){return new YS(ZS.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nI(){return new YS(ZS.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rI(t,e,n){return new YS(ZS.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function iI(){return new YS(ZS.APP_DELETED,"The Firebase app was deleted.")}function lI(t,e){return new YS(ZS.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function oI(t){throw new YS(ZS.INTERNAL_ERROR,"Internal error: "+t)}var sI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function uI(t){switch(t){case sI.RAW:case sI.BASE64:case sI.BASE64URL:case sI.DATA_URL:return;default:throw"Expected one of the event types: ["+sI.RAW+", "+sI.BASE64+", "+sI.BASE64URL+", "+sI.DATA_URL+"]."}}var aI=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function cI(t,e){switch(t){case sI.RAW:return new aI(hI(e));case sI.BASE64:case sI.BASE64URL:return new aI(dI(t,e));case sI.DATA_URL:return new aI((n=new pI(e)).base64?dI(sI.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw lI(sI.DATA_URL,"Malformed data URL.")}return hI(e)}(n.rest),new pI(e).contentType)}var n;throw XS()}function hI(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,l=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&l)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function dI(t,e){switch(t){case sI.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw lI(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case sI.BASE64URL:var i=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(i||l)throw lI(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(a){throw lI(t,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var pI=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw lI(sI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),fI={STATE_CHANGED:"state_changed"},gI={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},mI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vI(t){switch(t){case gI.RUNNING:case gI.PAUSING:case gI.CANCELING:return mI.RUNNING;case gI.PAUSED:return mI.PAUSED;case gI.SUCCESS:return mI.SUCCESS;case gI.CANCELED:return mI.CANCELED;case gI.ERROR:default:return mI.ERROR}}function yI(t){return null!=t}function _I(t){return void 0!==t}function bI(t){return"function"==typeof t}function wI(t){return"object"==typeof t}function kI(t){return wI(t)&&null!==t}function CI(t){return"string"==typeof t||t instanceof String}function EI(t){return TI(t)&&Number.isInteger(t)}function TI(t){return"number"==typeof t||t instanceof Number}function SI(t){return II()&&t instanceof Blob}function II(){return"undefined"!=typeof Blob}var xI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),AI=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=xI.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=xI.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=xI.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw oI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),yI(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return yI(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw oI("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw oI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw oI("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){yI(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){yI(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),NI=function(){function t(){}return t.prototype.createXhrIo=function(){return new AI},t}();function PI(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function OI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=PI();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(II())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var DI=function(){function t(t,e){var n=0,r="";SI(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(SI(this.data_)){var r=(l=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(l,o):i.mozSlice?i.mozSlice(l,o):i.slice?i.slice(l,o):null);return null===r?null:new t(r)}var i,l,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(II()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(OI.apply(null,r))}var i=e.map((function(t){return CI(t)?cI(sI.RAW,t).data:t.data_})),l=0;i.forEach((function(t){l+=t.byteLength}));var o=new Uint8Array(l),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)o[s++]=t[e]})),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),RI=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new YS(ZS.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),i=WS.replace(/[.]/g,"\\."),l=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],o=0;o<l.length;o++){var s=l[o],u=s.regex.exec(e);if(u){var a=u[s.indices.path];a||(a=""),n=new t(u[s.indices.bucket],a),s.postModify(n);break}}if(null==n)throw function(t){return new YS(ZS.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function MI(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return wI(n=e)&&!Array.isArray(n)?e:null}function LI(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function FI(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function jI(t){return"https://"+WS+"/v0"+t}function UI(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function VI(t,e){return e}var qI=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||VI}}(),zI=null;function HI(t,e,n){var r=MI(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,l=0;l<i;l++){var o=n[l];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new RI(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function BI(t,e){for(var n={},r=e.length,i=0;i<r;i++){var l=e[i];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}function WI(t){if(!wI(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!wI(n))throw"Expected object for 'customMetadata' mapping."}else if(kI(n))throw"Mapping for '"+e+"' cannot be an object."}}var GI="maxResults",KI=1e3,$I="pageToken",QI="prefixes",YI="items";function ZI(t){if(!wI(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===GI){if(!EI(t[GI])||t[GI]<=0)throw"Expected maxResults to be a positive number.";if(t[GI]>1e3)throw"Expected maxResults to be less than or equal to "+KI+"."}else{if(e!==$I)throw"Unknown option: "+e;if(t[$I]&&!CI(t[$I]))throw"Expected pageToken to be string."}}var JI=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function XI(t){if(!t)throw XS()}function tx(t,e){return function(n,r){var i=HI(t,r,e);return XI(null!==i),i}}function ex(t){return function(e,n){var r;return(r=401===e.getStatus()?new YS(ZS.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new YS(ZS.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new YS(ZS.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function nx(t){var e=ex(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new YS(ZS.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function rx(t,e,n){var r=jI(e.fullServerUrl()),i=t.maxOperationRetryTime(),l=new JI(r,"GET",tx(t,n),i);return l.errorHandler=nx(e),l}function ix(t,e,n,r,i){var l={};l.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(l.delimiter=n),r&&(l.pageToken=r),i&&(l.maxResults=i);var o=jI(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime(),u=new JI(o,"GET",function(t){return function(e,n){var r=function(t,e){var n=MI(e);return null===n?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new YS(ZS.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GS+"' property when initializing the app?");if(e[QI])for(var i=0,l=e[QI];i<l.length;i++){var o=l[i].replace(/\/$/,""),s=t.makeStorageReference(new RI(r,o));n.prefixes.push(s)}if(e[YI])for(var u=0,a=e[YI];u<a.length;u++)s=t.makeStorageReference(new RI(r,a[u].name)),n.items.push(s);return n}(t,n)}(t,n);return XI(null!==r),r}}(t),s);return u.urlParams=l,u.errorHandler=ex(e),u}function lx(t,e,n){var r=jI(e.fullServerUrl()),i=t.maxOperationRetryTime(),l=new JI(r,"GET",function(t,e){return function(n,r){var i=HI(t,r,e);return XI(null!==i),function(t,e){var n=MI(e);if(null===n)return null;if(!CI(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return jI("/b/"+i(t.bucket)+"/o/"+i(n))+UI({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return l.errorHandler=nx(e),l}function ox(t,e,n,r){var i=jI(e.fullServerUrl()),l=BI(n,r),o=t.maxOperationRetryTime(),s=new JI(i,"PATCH",tx(t,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=l,s.errorHandler=nx(e),s}function sx(t,e){var n=jI(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new JI(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=nx(e),i}function ux(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var ax=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function cx(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){XI(!1)}return XI(!!n&&-1!==(e||["active"]).indexOf(n)),n}var hx=function(){return function(t,e,n){if(bI(t)||yI(e)||yI(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),dx=function(){return function(t,e,n,r,i,l){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=l}}();function px(t,e,n){for(var r=e.length,i=e.length,l=0;l<e.length;l++)if(e[l].optional){r=l;break}if(!(r<=n.length&&n.length<=i))throw(o=r)===(s=i)?(u=o,a=1===o?"argument":"arguments"):(u="between "+o+" and "+s,a="arguments"),new YS(ZS.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+u+" "+a+", received "+n.length+".");var o,s,u,a;for(l=0;l<n.length;l++)try{e[l].validator(n[l])}catch(c){throw c instanceof Error?rI(l,t,c.message):rI(l,t,c)}}var fx=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!_I(e)||t(e)},this.optional=!!e}}();function gx(t,e){function n(t){if(!CI(t))throw"Expected string."}var r,i,l;return t?(i=n,l=t,r=function(t){i(t),l(t)}):r=n,new fx(r,e)}function mx(){return new fx((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||II()&&t instanceof Blob))throw"Expected Blob or File."}))}function vx(t){return new fx(WI,t)}function yx(t){return new fx(ZI,t)}function _x(){return new fx((function(t){if(!(TI(t)&&t>=0))throw"Expected a number 0 or greater."}))}function bx(t,e){return new fx((function(e){if(!(null===e||yI(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function wx(t){return new fx((function(t){if(null!==t&&!bI(t))throw"Expected a Function."}),t)}function kx(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Cx=function(){function t(t,e,n,r,i,l){var o=this;void 0===l&&(l=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=l,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=gI.RUNNING,this.errorHandler_=function(t){o.request_=null,o.chunkMultiplier_=1,t.codeEquals(ZS.CANCELED)?(o.needToFetchStatus_=!0,o.completeTransitions_()):(o.error_=t,o.transition_(gI.ERROR))},this.metadataErrorHandler_=function(t){o.request_=null,t.codeEquals(ZS.CANCELED)?o.completeTransitions_():(o.error_=t,o.transition_(gI.ERROR))},this.promise_=new Promise((function(t,e){o.resolve_=t,o.reject_=e,o.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===gI.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case gI.RUNNING:t(n);break;case gI.CANCELING:e.transition_(gI.CANCELED);break;case gI.PAUSING:e.transition_(gI.PAUSED)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var l=e.bucketOnlyServerUrl(),o=ux(e,r,i),s={name:o.fullPath},u=jI(l),a={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=BI(o,n),h=t.maxUploadRetryTime(),d=new JI(u,"POST",(function(t){var e;cx(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){XI(!1)}return XI(CI(e)),e}),h);return d.urlParams=s,d.headers=a,d.body=c,d.errorHandler=ex(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),l=new JI(n,"POST",(function(t){var e=cx(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(l){XI(!1)}n||XI(!1);var i=Number(n);return XI(!isNaN(i)),new ax(i,r.size(),"final"===e)}),i);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=ex(e),l}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new ax(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var l;try{l=function(t,e,n,r,i,l,o,s){var u=new ax(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new YS(ZS.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var a=u.total-u.current,c=a;i>0&&(c=Math.min(c,i));var h=u.current,d={"X-Goog-Upload-Command":c===a?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,h+c);if(null===p)throw eI();var f=e.maxUploadRetryTime(),g=new JI(n,"POST",(function(t,n){var i,o=cx(t,["active","final"]),s=u.current+c,a=r.size();return i="final"===o?tx(e,l)(t,n):null,new ax(s,a,"final"===o,i)}),f);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=ex(t),g}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_(gI.ERROR)}var o=t.authWrapper_.makeRequest(l,i);t.request_=o,o.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(gI.SUCCESS)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=rx(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(gI.SUCCESS)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var l=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+s;var u=ux(e,r,i),a=BI(u,n),c=DI.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+a+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===c)throw eI();var h={name:u.fullPath},d=jI(l),p=t.maxUploadRetryTime(),f=new JI(d,"POST",tx(t,n),p);return f.urlParams=h,f.headers=o,f.body=c.uploadData(),f.errorHandler=ex(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(gI.SUCCESS)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case gI.CANCELING:case gI.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case gI.RUNNING:var e=this.state_===gI.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case gI.PAUSED:this.state_=t,this.notifyObservers_();break;case gI.CANCELED:this.error_=tI(),this.state_=t,this.notifyObservers_();break;case gI.ERROR:case gI.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case gI.PAUSING:this.transition_(gI.PAUSED);break;case gI.CANCELING:this.transition_(gI.CANCELED);break;case gI.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=vI(this.state_);return new dx(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==fI.STATE_CHANGED)throw"Expected one of the event types: ["+fI.STATE_CHANGED+"]."}var l="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=wx(!0).validator,s=bx(null,!0).validator;function u(t){try{return void o(t)}catch(e){}try{if(s(t),!(_I(t.next)||_I(t.error)||_I(t.complete)))throw"";return}catch(e){throw l}}var a=[gx(i),bx(u,!0),wx(!0),wx(!0)];px("on",a,arguments);var c=this;function h(t){return function(e,n,i){null!==t&&px("on",t,arguments);var l=new hx(e,n,r);return c.addObserver_(l),function(){c.removeObserver_(l)}}}function d(t){if(null===t)throw l;u(t)}var p=[bx(d),wx(!0),wx(!0)],f=!(_I(e)||_I(n)||_I(r));return f?h(p):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(vI(this.state_)){case mI.SUCCESS:kx(this.resolve_.bind(null,this.snapshot))();break;case mI.CANCELED:case mI.ERROR:kx(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(vI(this.state_)){case mI.RUNNING:case mI.PAUSED:t.next&&kx(t.next.bind(t,this.snapshot))();break;case mI.SUCCESS:t.complete&&kx(t.complete.bind(t))();break;case mI.CANCELED:case mI.ERROR:t.error&&kx(t.error.bind(t,this.error_))();break;default:t.error&&kx(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){px("resume",[],arguments);var t=this.state_===gI.PAUSED||this.state_===gI.PAUSING;return t&&this.transition_(gI.RUNNING),t},t.prototype.pause=function(){px("pause",[],arguments);var t=this.state_===gI.RUNNING;return t&&this.transition_(gI.PAUSING),t},t.prototype.cancel=function(){px("cancel",[],arguments);var t=this.state_===gI.RUNNING||this.state_===gI.PAUSING;return t&&this.transition_(gI.CANCELING),t},t}(),Ex=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof RI?e:RI.makeFromUrl(e)}return t.prototype.toString=function(){return px("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(zI)return zI;var t=[];t.push(new qI("bucket")),t.push(new qI("generation")),t.push(new qI("metageneration")),t.push(new qI("name","fullPath",!0));var e=new qI("name");e.xform=function(t,e){return function(t){return!CI(t)||t.length<2?t:FI(t)}(e)},t.push(e);var n=new qI("size");return n.xform=function(t,e){return yI(e)?Number(e):e},t.push(n),t.push(new qI("timeCreated")),t.push(new qI("updated")),t.push(new qI("md5Hash",null,!0)),t.push(new qI("cacheControl",null,!0)),t.push(new qI("contentDisposition",null,!0)),t.push(new qI("contentEncoding",null,!0)),t.push(new qI("contentLanguage",null,!0)),t.push(new qI("contentType",null,!0)),t.push(new qI("metadata","customMetadata",!0)),zI=t}()},t.prototype.child=function(t){px("child",[gx()],arguments);var e=LI(this.location.path,t),n=new RI(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new RI(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new RI(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return FI(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),px("put",[mx(),vx(!0)],arguments),this.throwIfRoot_("put"),new Cx(this,this.authWrapper,this.location,this.mappings(),new DI(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=sI.RAW),px("putString",[gx(),gx(uI,!0),vx(!0)],arguments),this.throwIfRoot_("putString");var r=cI(e,t),i=Object.assign({},n);return!yI(i.contentType)&&yI(r.contentType)&&(i.contentType=r.contentType),new Cx(this,this.authWrapper,this.location,this.mappings(),new DI(r.data,!0),i)},t.prototype.delete=function(){var t=this;return px("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=sx(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){px("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(As.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(As.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=l.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){px("list",[yx(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=ix(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return px("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=rx(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return px("updateMetadata",[vx()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=ox(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return px("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=lx(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw nI();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new YS(ZS.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Tx=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Sx=function(){function t(){this.map=new Map,this.id=QS}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),Ix=function(){function t(e,n,r,i,l,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var s=this.app_.options;yI(s)&&(this.bucket_=t.extractBucket_(s))}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=o,this.service_=l,this.maxOperationRetryTime_=KS,this.maxUploadRetryTime_=$S,this.requestMap_=new Sx}return t.extractBucket_=function(t){var e=t[GS]||null;return null==e?null:RI.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw iI();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Tx(iI());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),xx=function(){function t(t,e,n,r,i,l,o,s,u,a,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=l.slice(),this.callback_=o,this.errorCallback_=s,this.progressCallback_=a,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,l=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(o,o.getResponseText());_I(s)?i(s):i()}catch(u){l(u)}else null!==o?((r=XS()).setServerResponseProp(o.getResponseText()),l(t.errorCallback_?t.errorCallback_(o,r):r)):l(r=n.canceled?t.appDelete_?iI():tI():new YS(ZS.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Ax(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,l=!1,o=0;function s(){return 2===o}var u=!1;function a(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function c(e){i=setTimeout((function(){i=null,t(h,s())}),e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?a.call.apply(a,Object(As.__spreadArrays)([null,t],n)):s()||l?a.call.apply(a,Object(As.__spreadArrays)([null,t],n)):(r<64&&(r*=2),1===o?(o=2,e=0):e=1e3*(r+Math.random()),c(e)))}var d=!1;function p(t){d||(d=!0,u||(null!==i?(t||(o=2),clearTimeout(i),c(0)):t||(o=1)))}return c(0),setTimeout((function(){l=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new Ax(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===xI.NO_ERROR,l=n.getStatus();if(r&&!t.isRetryStatusCode_(l)){var o=-1!==t.successCodes_.indexOf(l);e(!0,new Ax(o,n))}else{var s=n.getErrorCode()===xI.ABORT;e(!1,new Ax(!1,null,s))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Ax=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Nx(t,e,n){var r=UI(t.urlParams),i=t.url+r,l=Object.assign({},t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==HS.a?HS.a.SDK_VERSION:"AppManager")}(l),new xx(i,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var Px,Ox,Dx=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new Ix(t,e,(function(t,e){return new Ex(t,e)}),Nx,this,n),this.app_=t,null!=r)this.bucket_=RI.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new RI(i,""))}this.internals_=new Rx(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(px("ref",[gx(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Ex(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{RI.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return px("refFromURL",[gx(e,!1)],arguments),new Ex(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){px("setMaxUploadRetryTime",[_x()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){px("setMaxOperationRetryTime",[_x()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Rx=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();Ox={TaskState:mI,TaskEvent:fI,StringFormat:sI,Storage:Dx,Reference:Ex},(Px=HS.a).INTERNAL.registerComponent(new BS.Component("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Dx(n,r,new NI,e)}),"PUBLIC").setServiceProps(Ox).setMultipleInstances(!0)),Px.registerVersion("@firebase/storage","0.3.28");let Mx=class{};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var l=0;l<t.length-1;l++){var o=t[l];o in i||(i[o]={}),i=i[o]}(r=r(l=i[t=t[t.length-1]]))!=l&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function l(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=n.setTimeout;r.prototype.c=function(t){o(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.o=function(t){var e=this.f();t.La(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){l(n)}}:e}var i,l,o=new e((function(t,e){i=t,l=e}));return this.La(r(t,i),r(n,l)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.La=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=l,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),o=r.next();!o.done;o=r.next())l(o.value).La(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?l([]):new e((function(t,e){function i(e){return function(n){o[e]=n,0==--s&&t(o)}}var o=[],s=0;do{o.push(void 0),s++,l(r.value).La(i(o.length-1),e),r=n.next()}while(!r.done)}))},e}));var l=l||{},o=this||self;function s(t){return"string"==typeof t}function u(t){return"boolean"==typeof t}var a=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function f(t){return"array"==d(t)}function g(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),_=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function k(t,e,n){return(k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function I(t){if(Error.captureStackTrace)Error.captureStackTrace(this,I);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");I.call(this,n+t[r])}function A(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function N(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function O(){this.b=this.a=null}T(I,Error),I.prototype.name="CustomError",T(x,I),x.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var D=new N((function(){return new M}),(function(t){t.reset()}));function R(){var t=qt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function M(){this.next=this.b=this.a=null}function L(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||o).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var l=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){l="<object could not be stringified>"}else l=void 0===t?"undefined":null===t?"null":typeof t;A("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,l)}}O.prototype.add=function(t,e){var n=D.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,l=0;l<r;l++)l in i&&e.call(n,i[l],l,t)},U=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=s(t)?t.split(""):t,l=0;l<n;l++)l in i&&(r[l]=e.call(void 0,i[l],l,t));return r},V=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=F(t,e)}function z(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function H(t,e){!function(t,e){for(var n=s(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function B(t){return Array.prototype.concat.apply([],arguments)}function W(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function G(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function K(t){for(var e in t)return!1;return!0}function $(t){var e,n={};for(e in t)n[e]=t[e];return n}var Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var l=0;l<Q.length;l++)n=Q[l],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Z(t,e){this.a=t===tt&&e||"",this.b=X}function J(t){return t instanceof Z&&t.constructor===Z&&t.b===X?t.a:(A("expected object of type Const, got '"+t+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var X={},tt={},et=new Z(tt,"");function nt(){this.a="",this.b=st}function rt(t){return t instanceof nt&&t.constructor===nt&&t.b===st?t.a:(A("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function it(t,e){var n=J(t);if(!ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ut(t=n.replace(lt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof Z?J(t):encodeURIComponent(String(t))})))}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a.toString()},nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var lt=/%{(\w+)}/g,ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,st={};function ut(t){var e=new nt;return e.a=t,e}var at=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ct=/&/g,ht=/</g,dt=/>/g,pt=/"/g,ft=/'/g,gt=/\x00/g,mt=/[\x00&<>"']/;function vt(t,e){return-1!=t.indexOf(e)}function yt(t,e){return t<e?-1:t>e?1:0}function _t(){this.a="",this.b=Et}function bt(t){return t instanceof _t&&t.constructor===_t&&t.b===Et?t.a:(A("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}_t.prototype.qa=!0,_t.prototype.pa=function(){return this.a.toString()},_t.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var wt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function kt(t){return t instanceof _t?t:(t="object"==typeof t&&t.qa?t.pa():String(t),wt.test(t)||(t="about:invalid#zClosurez"),Tt(t))}var Ct,Et={};function Tt(t){var e=new _t;return e.a=t,e}Tt("about:blank");t:{var St=o.navigator;if(St){var It=St.userAgent;if(It){Ct=It;break t}}Ct=""}function xt(t){return vt(Ct,t)}function At(){this.a="",this.b=Pt}function Nt(t){return t instanceof At&&t.constructor===At&&t.b===Pt?t.a:(A("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}At.prototype.qa=!0,At.prototype.pa=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pt={};function Ot(t){var e=new At;return e.a=t,e}Ot("<!DOCTYPE html>");var Dt,Rt,Mt=Ot("");function Lt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ft(t){return mt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ct,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ht,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(dt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(pt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ft,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(gt,"&#0;"))),t}function jt(t){o.setTimeout((function(){throw t}),0)}function Ut(t,e){Rt||function(){if(o.Promise&&o.Promise.resolve){var t=o.Promise.resolve(void 0);Rt=function(){t.then(zt)}}else Rt=function(){var t=zt;!m(o.setImmediate)||o.Window&&o.Window.prototype&&!xt("Edge")&&o.Window.prototype.setImmediate==o.setImmediate?(Dt||(Dt=function(){var t=o.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!xt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=ut(J(et));L(t,"HTMLIFrameElement"),t.src=rt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Nt(Mt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=k((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!xt("Trident")&&!xt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){o.setTimeout(t,0)}}()),Dt(t)):o.setImmediate(t)}}(),Vt||(Rt(),Vt=!0),qt.add(t,e)}Ot("<br>");var Vt=!1,qt=new O;function zt(){for(var t;t=R();){try{t.a.call(t.b)}catch(e){jt(e)}P(D,t)}Vt=!1}function Ht(t,e){if(this.a=Bt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){ne(n,Wt,t)}),(function(t){if(!(t instanceof ae))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ne(n,Gt,t)}))}catch(r){ne(this,Gt,r)}}var Bt=0,Wt=2,Gt=3;function Kt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Kt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var $t=new N((function(){return new Kt}),(function(t){t.reset()}));function Qt(t,e,n){var r=$t.get();return r.g=t,r.b=e,r.f=n,r}function Yt(t){if(t instanceof Ht)return t;var e=new Ht(h);return ne(e,Wt,t),e}function Zt(t){return new Ht((function(e,n){n(t)}))}function Jt(t,e,n){re(t,e,n,null)||Ut(C(e,t))}function Xt(t){return new Ht((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,l){n--,r[t]=i?{Gb:!0,value:l}:{Gb:!1,reason:l},0==n&&e(r)},l=0;l<t.length;l++)Jt(t[l],C(i,l,!0),C(i,l,!1));else e(r)}))}function te(t,e){t.b||t.a!=Wt&&t.a!=Gt||ie(t),t.f?t.f.next=e:t.b=e,t.f=e}function ee(t,e,n,r){var i=Qt(null,null,null);return i.a=new Ht((function(t,l){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(o){l(o)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ae?l(e):t(i)}catch(o){l(o)}}:l})),i.a.c=t,te(t,i),i.a}function ne(t,e,n){t.a==Bt&&(t===n&&(e=Gt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,re(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,ie(t),e!=Gt||n instanceof ae||function(t,e){t.g=!0,Ut((function(){t.g&&ue.call(null,e)}))}(t,n)))}function re(t,e,n,r){if(t instanceof Ht)return te(t,Qt(e||h,n||null,r)),!0;if(S(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function l(t){o||(o=!0,r.call(i,t))}var o=!1;try{e.call(t,(function(t){o||(o=!0,n.call(i,t))}),l)}catch(s){l(s)}}(t,i,e,n,r),!0}catch(l){return n.call(r,l),!0}return!1}function ie(t){t.h||(t.h=!0,Ut(t.Zb,t))}function le(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function oe(t,e,n,r){if(n==Gt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,se(e,n,r);else try{e.c?e.g.call(e.f):se(e,n,r)}catch(i){ue.call(null,i)}P($t,e)}function se(t,e,n){e==Wt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ht.prototype.then=function(t,e,n){return ee(this,m(t)?t:null,m(e)?e:null,n)},Ht.prototype.$goog_Thenable=!0,(t=Ht.prototype).ka=function(t,e){return(t=Qt(t,t,e)).c=!0,te(this,t),this},t.s=function(t,e){return ee(this,null,t,e)},t.cancel=function(t){this.a==Bt&&Ut((function(){!function t(e,n){if(e.a==Bt)if(e.c){var r=e.c;if(r.b){for(var i=0,l=null,o=null,s=r.b;s&&(s.c||(i++,s.a==e&&(l=s),!(l&&1<i)));s=s.next)l||(o=s);l&&(r.a==Bt&&1==i?t(r,n):(o?((i=o).next==r.f&&(r.f=i),i.next=i.next.next):le(r),oe(r,l,Gt,n)))}e.c=null}else ne(e,Gt,n)}(this,new ae(t))}),this)},t.Oc=function(t){this.a=Bt,ne(this,Wt,t)},t.Pc=function(t){this.a=Bt,ne(this,Gt,t)},t.Zb=function(){for(var t;t=le(this);)oe(this,t,this.a,this.i);this.h=!1};var ue=jt;function ae(t){I.call(this,t)}function ce(){0!=he&&(de[this[y]||(this[y]=++_)]=this),this.va=this.va,this.la=this.la}T(ae,I),ae.prototype.name="cancel";var he=0,de={};function pe(t){if(!t.va&&(t.va=!0,t.za(),0!=he)){var e=t[y]||(t[y]=++_);if(0!=he&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete de[e]}}function fe(t){return fe[" "](t),t}ce.prototype.va=!1,ce.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},fe[" "]=h;var ge,me,ve=xt("Opera"),ye=xt("Trident")||xt("MSIE"),_e=xt("Edge"),be=_e||ye,we=xt("Gecko")&&!(vt(Ct.toLowerCase(),"webkit")&&!xt("Edge"))&&!(xt("Trident")||xt("MSIE"))&&!xt("Edge"),ke=vt(Ct.toLowerCase(),"webkit")&&!xt("Edge");function Ce(){var t=o.document;return t?t.documentMode:void 0}t:{var Ee="",Te=(me=Ct,we?/rv:([^\);]+)(\)|;)/.exec(me):_e?/Edge\/([\d\.]+)/.exec(me):ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(me):ke?/WebKit\/(\S+)/.exec(me):ve?/(?:Version)[ \/]?(\S+)/.exec(me):void 0);if(Te&&(Ee=Te?Te[1]:""),ye){var Se=Ce();if(null!=Se&&Se>parseFloat(Ee)){ge=String(Se);break t}}ge=Ee}var Ie,xe={};function Ae(t){return function(t,e){var n=xe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=at(String(ge)).split("."),r=at(String(t)).split("."),i=Math.max(n.length,r.length),l=0;0==e&&l<i;l++){var o=n[l]||"",s=r[l]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=yt(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||yt(0==o[2].length,0==s[2].length)||yt(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}))}Ie=o.document&&ye?Ce():void 0;var Ne=Object.freeze||function(t){return t},Pe=!ye||9<=Number(Ie),Oe=ye&&!Ae("9"),De=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",h,e),o.removeEventListener("test",h,e)}catch(n){}return t}();function Re(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Me(t,e){if(Re.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(we){t:{try{fe(e.nodeName);var i=!0;break t}catch(l){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:Le[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Re.prototype.preventDefault=function(){this.Mb=!1},T(Me,Re);var Le=Ne({2:"touch",3:"pen",4:"mouse"});Me.prototype.preventDefault=function(){Me.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Me.prototype.f=function(){return this.a};var Fe="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Pa=i,this.key=++je,this.ta=this.Ka=!1}function Ve(t){t.ta=!0,t.listener=null,t.proxy=null,t.src=null,t.Pa=null}function qe(t){this.src=t,this.a={},this.b=0}function ze(t,e){var n=e.type;n in t.a&&z(t.a[n],e)&&(Ve(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function He(t,e,n,r){for(var i=0;i<t.length;++i){var l=t[i];if(!l.ta&&l.listener==e&&l.capture==!!n&&l.Pa==r)return i}return-1}qe.prototype.add=function(t,e,n,r,i){var l=t.toString();(t=this.a[l])||(t=this.a[l]=[],this.b++);var o=He(t,e,r,i);return-1<o?(e=t[o],n||(e.Ka=!1)):((e=new Ue(e,this.src,l,!!r,i)).Ka=n,t.push(e)),e};var Be="closure_lm_"+(1e6*Math.random()|0),We={};function Ge(t,e,n,r,i){if(r&&r.once)$e(t,e,n,r,i);else if(f(e))for(var l=0;l<e.length;l++)Ge(t,e[l],n,r,i);else n=rn(n),t&&t[Fe]?on(t,e,n,v(r)?!!r.capture:!!r,i):Ke(t,e,n,!1,r,i)}function Ke(t,e,n,r,i,l){if(!e)throw Error("Invalid event type");var o=v(i)?!!i.capture:!!i,s=en(t);if(s||(t[Be]=s=new qe(t)),!(n=s.add(e,n,r,o,l)).proxy)if(r=function(){var t=tn,e=Pe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)De||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ze(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function $e(t,e,n,r,i){if(f(e))for(var l=0;l<e.length;l++)$e(t,e[l],n,r,i);else n=rn(n),t&&t[Fe]?sn(t,e,n,v(r)?!!r.capture:!!r,i):Ke(t,e,n,!0,r,i)}function Qe(t,e,n,r,i){if(f(e))for(var l=0;l<e.length;l++)Qe(t,e[l],n,r,i);else r=v(r)?!!r.capture:!!r,n=rn(n),t&&t[Fe]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=He(l=t.a[e],n,r,i))&&(Ve(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete t.a[e],t.b--))):t&&(t=en(t))&&(e=t.a[e.toString()],t=-1,e&&(t=He(e,n,r,i)),(n=-1<t?e[t]:null)&&Ye(n))}function Ye(t){if("number"!=typeof t&&t&&!t.ta){var e=t.src;if(e&&e[Fe])ze(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ze(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=en(e))?(ze(n,t),0==n.b&&(n.src=null,e[Be]=null)):Ve(t)}}}function Ze(t){return t in We?We[t]:We[t]="on"+t}function Je(t,e,n,r){var i=!0;if((t=en(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var l=e[t];l&&l.capture==n&&!l.ta&&(l=Xe(l,r),i=i&&!1!==l)}return i}function Xe(t,e){var n=t.listener,r=t.Pa||t.src;return t.Ka&&Ye(t),n.call(r,e)}function tn(t,e){if(t.ta)return!0;if(!Pe){if(!e)t:{e=["window","event"];for(var n=o,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Me(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var l=Je(r[i],t,!0,e);n=n&&l}for(i=0;i<r.length;i++)e.b=r[i],l=Je(r[i],t,!1,e),n=n&&l}return n}return Xe(t,new Me(e,this))}function en(t){return(t=t[Be])instanceof qe?t:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(t){return m(t)?t:(t[nn]||(t[nn]=function(e){return t.handleEvent(e)}),t[nn])}function ln(){ce.call(this),this.u=new qe(this),this.Sb=this,this.Xa=null}function on(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function sn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function un(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var o=e[l];if(o&&!o.ta&&o.capture==n){var s=o.listener,u=o.Pa||o.src;o.Ka&&ze(t.u,o),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function an(t,e,n){if(m(t))n&&(t=k(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=k(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function cn(t){var e=null;return new Ht((function(n,r){-1==(e=an((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw o.clearTimeout(e),t}))}function hn(t){if(t.U&&"function"==typeof t.U)return t.U();if(s(t))return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function dn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(g(t)||s(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof pn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function fn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];gn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)gn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(ln,ce),ln.prototype[Fe]=!0,ln.prototype.addEventListener=function(t,e,n,r){Ge(this,t,e,n,r)},ln.prototype.removeEventListener=function(t,e,n,r){Qe(this,t,e,n,r)},ln.prototype.dispatchEvent=function(t){var e,n=this.Xa;if(n)for(e=[];n;n=n.Xa)e.push(n);n=this.Sb;var r=t.type||t;if(s(t))t=new Re(t,n);else if(t instanceof Re)t.target=t.target||n;else{var i=t;Y(t=new Re(r,n),i)}if(i=!0,e)for(var l=e.length-1;0<=l;l--){var o=t.b=e[l];i=un(o,r,!0,t)&&i}if(i=un(o=t.b=n,r,!0,t)&&i,i=un(o,r,!1,t)&&i,e)for(l=0;l<e.length;l++)i=un(o=t.b=e[l],r,!1,t)&&i;return i},ln.prototype.za=function(){if(ln.qb.za.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ve(n[r]);delete e.a[t],e.b--}}this.Xa=null},(t=pn.prototype).U=function(){fn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return fn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return gn(this.b,t)?this.b[t]:e},t.set=function(t,e){gn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],l=this.get(i);t.call(e,l,i,this)}};var mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof vn?(this.h=void 0!==e?e:t.h,yn(this,t.f),this.i=t.i,this.b=t.b,_n(this,t.l),this.c=t.c,bn(this,Un(t.a)),this.g=t.g):t&&(n=String(t).match(mn))?(this.h=!!e,yn(this,n[1]||"",!0),this.i=Tn(n[2]||""),this.b=Tn(n[3]||"",!0),_n(this,n[4]),this.c=Tn(n[5]||"",!0),bn(this,n[6]||"",!0),this.g=Tn(n[7]||"")):(this.h=!!e,this.a=new Dn(null,this.h))}function yn(t,e,n){t.f=n?Tn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function _n(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function bn(t,e,n){e instanceof Dn?(t.a=e,function(t,e){e&&!t.f&&(Rn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ln(this,e),jn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Sn(e,Pn)),t.a=new Dn(e,t.h))}function wn(t,e,n){t.a.set(e,n)}function kn(t,e){return t.a.get(e)}function Cn(t){return t instanceof vn?new vn(t):new vn(t,void 0)}function En(t,e){var n=new vn(null,void 0);return yn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Tn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sn(t,e,n){return s(t)?(t=encodeURI(t).replace(e,In),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function In(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Sn(e,xn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Sn(e,xn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Sn(n,"/"==n.charAt(0)?Nn:An,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Sn(n,On)),t.join("")},vn.prototype.resolve=function(t){var e=new vn(this),n=!!t.f;n?yn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)_n(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(vt(i,"./")||vt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var l=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&l.push(""):".."==s?((1<l.length||1==l.length&&""!=l[0])&&l.pop(),r&&o==i.length&&l.push("")):(l.push(s),r=!0)}r=l.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?bn(e,Un(t.a)):n=!!t.g,n&&(e.g=t.g),e};var xn=/[#\/\?@]/g,An=/[#\?:]/g,Nn=/[#\?]/g,Pn=/[#\?@]/g,On=/#/g;function Dn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rn(t){t.a||(t.a=new pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var l=t[n].substring(0,r);i=t[n].substring(r+1)}else l=t[n];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Mn(t){var e=dn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Dn(null,void 0);t=hn(t);for(var r=0;r<e.length;r++){var i=e[r],l=t[r];f(l)?jn(n,i,l):n.add(i,l)}return n}function Ln(t,e){Rn(t),e=Vn(t,e),gn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,gn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&fn(t)))}function Fn(t,e){return Rn(t),e=Vn(t,e),gn(t.a.b,e)}function jn(t,e,n){Ln(t,e),0<n.length&&(t.c=null,t.a.set(Vn(t,e),W(n)),t.b+=n.length)}function Un(t){var e=new Dn;return e.c=t.c,t.a&&(e.a=new pn(t.a),e.b=t.b),e}function Vn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Dn.prototype).add=function(t,e){Rn(this),this.c=null,t=Vn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Rn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Rn(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],l=0;l<i.length;l++)n.push(e[r]);return n},t.U=function(t){Rn(this);var e=[];if(s(t))Fn(this,t)&&(e=B(e,this.a.get(Vn(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e},t.set=function(t,e){return Rn(this),this.c=null,Fn(this,t=Vn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var l=0;l<r.length;l++){var o=i;""!==r[l]&&(o+="="+encodeURIComponent(String(r[l]))),t.push(o)}}return this.c=t.join("&")};var qn=!ye||9<=Number(Ie);function zn(t){var e=document;return s(t)?e.getElementById(t):t}function Hn(t,e){G(e,(function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Bn.hasOwnProperty(n)?t.setAttribute(Bn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var Bn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Wn(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(m(t))return"function"==typeof t.item}return!1}function Gn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(f(n)){var i=n;n=i.length,r.push("[");for(var l="",o=0;o<n;o++)r.push(l),t(e,i[o],r),l=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),l="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(o=n[i])&&(r.push(l),Yn(i,r),r.push(":"),t(e,o,r),l=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Yn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Kn,t,e),e.join("")}function Kn(){}var $n={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Qn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Yn(t,e){e.push('"',t.replace(Qn,(function(t){var e=$n[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),$n[t]=e),e})),'"')}function Zn(){var t=mr();return ye&&!!Ie&&11==Ie||/Edge\/\d+/.test(t)}function Jn(){return o.window&&o.window.location.href||self&&self.location&&self.location.href||""}function Xn(t,e){e=e||o.window;var n="about:blank";t&&(n=bt(kt(t)).toString()),e.location.href=n}function tr(t){return!!((t=(t||mr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function er(t){t=t||o.window;try{t.close()}catch(e){}}function nr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,l=(window.screen.availWidth-e)/2;for(o in e={width:e,height:n,top:0<i?i:0,left:0<l?l:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=mr().toLowerCase(),r&&(e.target=r,vt(n,"crios/")&&(e.target="_blank")),pr(mr())==hr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof _t?n:kt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+t[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(t[o]?1:0))}var o=i.join(",");if((xt("iPhone")&&!xt("iPod")&&!xt("iPad")||xt("iPad")||xt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(L(o=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof _t||e instanceof _t||(e="object"==typeof e&&e.qa?e.pa():String(e),wt.test(e)||(e="about:invalid#zClosurez"),e=Tt(e)),o.href=bt(e),o.setAttribute("target",n),t.noreferrer&&o.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),o.dispatchEvent(t),o={}):t.noreferrer?(o=r.open("",n,o),t=bt(e).toString(),o&&(be&&vt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),o.opener=null,t=Ot('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ft(t)+'">'),o.document.write(Nt(t)),o.document.close())):(o=r.open(bt(e).toString(),n,o))&&t.noopener&&(o.opener=null),o)try{o.focus()}catch(s){}return o}var rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^[^@]+@[^@]+$/;function lr(){var t=null;return new Ht((function(e){"complete"==o.document.readyState?e():(t=function(){e()},$e(window,"load",t))})).s((function(e){throw Qe(window,"load",t),e}))}function or(t){return t=t||mr(),!("file:"!==wr()&&"ionic:"!==wr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function sr(){var t=o.window;try{return!(!t||t==t.top)}catch(e){return!1}}function ur(){return void 0!==o.WorkerGlobalScope&&"function"==typeof o.importScripts}function ar(){return HS.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":HS.a.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function cr(){var t=ar();return"ReactNative"===t||"Node"===t}var hr="Firefox",dr="Chrome";function pr(t){var e=t.toLowerCase();return vt(e,"opera/")||vt(e,"opr/")||vt(e,"opios/")?"Opera":vt(e,"iemobile")?"IEMobile":vt(e,"msie")||vt(e,"trident/")?"IE":vt(e,"edge/")?"Edge":vt(e,"firefox/")?hr:vt(e,"silk/")?"Silk":vt(e,"blackberry")?"Blackberry":vt(e,"webos")?"Webos":!vt(e,"safari/")||vt(e,"chrome/")||vt(e,"crios/")||vt(e,"android")?!vt(e,"chrome/")&&!vt(e,"crios/")||vt(e,"edge/")?vt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":dr:"Safari"}var fr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function gr(t,e){e=e||[];var n,r=[],i={};for(n in fr)i[fr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=ar())?r=pr(i=mr()):"Worker"===r&&(r=pr(i=mr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function mr(){return o.navigator&&o.navigator.userAgent||""}function vr(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function yr(){try{var t=o.localStorage,e=Sr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Zn()||!!o.indexedDB}catch(n){return ur()&&!!o.indexedDB}return!1}function _r(){return(br()||"chrome-extension:"===wr()||or())&&!cr()&&yr()&&!ur()}function br(){return"http:"===wr()||"https:"===wr()}function wr(){return o.location&&o.location.protocol||null}function kr(t){return!tr(t=t||mr())&&pr(t)!=hr}function Cr(t){return void 0===t?null:Gn(t)}function Er(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Tr(t){if(null!==t)return JSON.parse(t)}function Sr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ir(t){return"Safari"!=pr(t=t||mr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function xr(){var t=o.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ar(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=mr(),e=ar(),this.b=tr(t)||"ReactNative"===e}function Nr(){var t=o.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Pr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Or(){return!(!vr("fireauth.oauthhelper",o)&&!vr("fireauth.iframe",o))}Ar.prototype.get=function(){var t=o.navigator;return!t||"boolean"!=typeof t.onLine||!br()&&"chrome-extension:"!==wr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Dr,Rr={};function Mr(t){Rr[t]||(Rr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Lr={};Object.defineProperty(Lr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Lr,"abcd",{configurable:!0,enumerable:!0,value:2}),Dr=2==Lr.abcd}catch(me){Dr=!1}function Fr(t,e,n){Dr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function jr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Fr(t,n,e[n])}function Ur(t){var e={};return jr(e,t),e}function Vr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Fr(e,n,Vr(t[n]));return e}function qr(t){var e={},n=t[Hr],r=t[Br];if(!(t=t[Wr])||t!=zr&&!n)throw Error("Invalid provider user info!");e[Kr]=r||null,e[Gr]=n||null,Fr(this,Qr,t),Fr(this,$r,Vr(e))}var zr="EMAIL_SIGNIN",Hr="email",Br="newEmail",Wr="requestType",Gr="email",Kr="fromEmail",$r="data",Qr="operation";function Yr(t,e){this.code=Jr+t,this.message=e||Xr[t]||""}function Zr(t){var e=t&&t.code;return e?new Yr(e.substring(Jr.length),t.message):null}T(Yr,Error),Yr.prototype.A=function(){return{code:this.code,message:this.message}},Yr.prototype.toJSON=function(){return this.A()};var Jr="auth/",Xr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ti(t){var e=kn(t=Cn(t),ei)||null,n=kn(t,ni)||null,r=kn(t,li)||null;if(r=r&&si[r]||null,!e||!n||!r)throw new Yr("argument-error",ei+", "+ni+"and "+li+" are required in a valid action code URL.");jr(this,{apiKey:e,operation:r,code:n,continueUrl:kn(t,ri)||null,languageCode:kn(t,ii)||null,tenantId:kn(t,oi)||null})}var ei="apiKey",ni="oobCode",ri="continueUrl",ii="languageCode",li="mode",oi="tenantId",si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:zr,verifyEmail:"VERIFY_EMAIL"};function ui(t){try{return new ti(t)}catch(e){return null}}function ai(t){var e=t[fi];if(void 0===e)throw new Yr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Yr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ci];if(n&&"object"==typeof n){e=n[vi];var r=n[gi];if(n=n[mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Yr("argument-error",gi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Yr("argument-error",mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Yr("argument-error",vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Yr("missing-android-pkg-name")}}else if(void 0!==n)throw new Yr("argument-error",ci+" property must be a non null object when specified.");if(this.f=null,(e=t[pi])&&"object"==typeof e){if("string"==typeof(e=e[yi])&&e.length)this.f=e;else if(void 0!==e)throw new Yr("argument-error",yi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Yr("argument-error",pi+" property must be a non null object when specified.");if(void 0!==(e=t[di])&&"boolean"!=typeof e)throw new Yr("argument-error",di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[hi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Yr("argument-error",hi+" property must be a non empty string when specified.");this.i=t||null}var ci="android",hi="dynamicLinkDomain",di="handleCodeInApp",pi="iOS",fi="url",gi="installApp",mi="minimumVersion",vi="packageName",yi="bundleId";function _i(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var bi=null,wi=null;function ki(t){this.f=t.sub,E(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Ci(t){return(t=Ei(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ki(t):null}function Ei(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=wi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!bi){bi={},wi={};for(var t=0;65>t;t++)bi[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),wi[bi[t]]=t,62<=t&&(wi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),l=n(0),o=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|l>>4),64!=o&&(e(l<<4&240|o>>2),64!=s&&e(o<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}ki.prototype.R=function(){return this.c},ki.prototype.g=function(){return this.b};var Ti,Si={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ii(t){for(var e in Si)if(Si[e].id===t)return{firebaseEndpoint:(t=Si[e]).cb,secureTokenEndpoint:t.ib};return null}Ti=Ii("__EID__")?"__EID__":void 0;var xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ai=["client_id","response_type","scope","redirect_uri","state"],Ni={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Ai},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Ai},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Ai},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:xi},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Pi(t){for(var e in Ni)if(Ni[e].Fa==t)return Ni[e];return null}function Oi(t){var e={};e["facebook.com"]=Fi,e["google.com"]=Ui,e["github.com"]=ji,e["twitter.com"]=Vi;var n=t&&t[Ri];try{if(n)return e[n]?new e[n](t):new Li(t);if(void 0!==t[Di])return new Mi(t)}catch(r){}return null}var Di="idToken",Ri="providerId";function Mi(t){var e=t[Ri];if(!e&&t[Di]){var n=Ci(t[Di]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Fr(this,"providerId",e),Fr(this,"isNewUser",n)}function Li(t){Mi.call(this,t),Fr(this,"profile",Vr((t=Tr(t.rawUserInfo||"{}"))||{}))}function Fi(t){if(Li.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ji(t){if(Li.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Fr(this,"username",this.profile&&this.profile.login||null)}function Ui(t){if(Li.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Vi(t){if(Li.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Fr(this,"username",t.screenName||null)}function qi(t){var e=Cn(t),n=kn(e,"link"),r=kn(Cn(n),"link");return e=kn(e,"deep_link_id"),kn(Cn(e),"link")||e||r||n||t}function zi(){}function Hi(t,e){return t.then((function(t){if(t[Ao]){var n=Ci(t[Ao]);if(!n||e!=n.f)throw new Yr("user-mismatch");return t}throw new Yr("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==Jr+"user-not-found"?new Yr("user-mismatch"):t}))}function Bi(t,e){if(!e)throw new Yr("internal-error","failed to construct a credential");this.a=e,Fr(this,"providerId",t),Fr(this,"signInMethod",t)}function Wi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Gi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Bi(t.providerId,t.pendingToken)}catch(e){}return null}function Ki(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Fr(this,"idToken",e.idToken),e.accessToken&&Fr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Fr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Yr("internal-error","failed to construct a credential");Fr(this,"accessToken",e.oauthToken),Fr(this,"secret",e.oauthTokenSecret)}Fr(this,"providerId",t),Fr(this,"signInMethod",n)}function $i(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Mn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Qi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Ki(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Yi(t,e){this.Fc=e||[],jr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(Pi(t)||{}).Ea||null,this.bb=null}function Zi(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Yr("argument-error",'SAML provider IDs must be prefixed with "saml."');Yi.call(this,t,[])}function Ji(t){Yi.call(this,t,Ai),this.a=[]}function Xi(){Ji.call(this,"facebook.com")}function tl(t){if(!t)throw new Yr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Xi).credential({accessToken:e})}function el(){Ji.call(this,"github.com")}function nl(t){if(!t)throw new Yr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new el).credential({accessToken:e})}function rl(){Ji.call(this,"google.com"),this.ya("profile")}function il(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new rl).credential({idToken:n,accessToken:e})}function ll(){Yi.call(this,"twitter.com",xi)}function ol(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Yr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ki("twitter.com",n,"twitter.com")}function sl(t,e,n){this.a=t,this.c=e,Fr(this,"providerId","password"),Fr(this,"signInMethod",n===al.EMAIL_LINK_SIGN_IN_METHOD?al.EMAIL_LINK_SIGN_IN_METHOD:al.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ul(t){return t&&t.email&&t.password?new sl(t.email,t.password,t.signInMethod):null}function al(){jr(this,{providerId:"password",isOAuthProvider:!1})}function cl(t,e){if(!(e=hl(e)))throw new Yr("argument-error","Invalid email link!");return new sl(t,e.code,al.EMAIL_LINK_SIGN_IN_METHOD)}function hl(t){return(t=ui(t=qi(t)))&&t.operation===zr?t:null}function dl(t){if(!(t.Va&&t.Ua||t.Ha&&t.ba))throw new Yr("internal-error");this.a=t,Fr(this,"providerId","phone"),Fr(this,"signInMethod","phone")}function pl(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new dl(e)}return null}function fl(t){return t.a.Ha&&t.a.ba?{temporaryProof:t.a.Ha,phoneNumber:t.a.ba}:{sessionInfo:t.a.Va,code:t.a.Ua}}function gl(t){try{this.a=t||HS.a.auth()}catch(e){throw new Yr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}jr(this,{providerId:"phone",isOAuthProvider:!1})}function ml(t,e){if(!t)throw new Yr("missing-verification-id");if(!e)throw new Yr("missing-verification-code");return new dl({Va:t,Ua:e})}function vl(t){if(t.temporaryProof&&t.phoneNumber)return new dl({Ha:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,l=t&&t.oauthIdToken,o=t&&t.pendingToken;try{switch(e){case"google.com":return il(l,n);case"facebook.com":return tl(n);case"github.com":return nl(n);case"twitter.com":return ol(n,r);default:return n||r||l||o?o?0==e.indexOf("saml.")?new Bi(e,o):new Ki(e,{pendingToken:o,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ji(e).credential({idToken:l,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function yl(t){if(!t.isOAuthProvider)throw new Yr("invalid-oauth-provider")}function _l(t,e,n,r,i,l,o){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=l||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Yr("invalid-auth-event");if(this.g&&this.a)throw new Yr("invalid-auth-event");if(this.g&&!this.f)throw new Yr("invalid-auth-event")}function bl(t){return(t=t||{}).type?new _l(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Zr(t.error),t.postBody,t.tenantId):null}function wl(){this.b=null,this.a=[]}T(Li,Mi),T(Fi,Li),T(ji,Li),T(Ui,Li),T(Vi,Li),Bi.prototype.na=function(t){return Ko(t,Wi(this))},Bi.prototype.b=function(t,e){var n=Wi(this);return n.idToken=e,$o(t,n)},Bi.prototype.f=function(t,e){return Hi(Qo(t,Wi(this)),e)},Bi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ki.prototype.na=function(t){return Ko(t,$i(this))},Ki.prototype.b=function(t,e){var n=$i(this);return n.idToken=e,$o(t,n)},Ki.prototype.f=function(t,e){return Hi(Qo(t,$i(this)),e)},Ki.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Yi.prototype.Ga=function(t){return this.zb=$(t),this},T(Zi,Yi),T(Ji,Yi),Ji.prototype.ya=function(t){return q(this.a,t)||this.a.push(t),this},Ji.prototype.Hb=function(){return W(this.a)},Ji.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Yr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ki(this.providerId,n,this.providerId)},T(Xi,Ji),Fr(Xi,"PROVIDER_ID","facebook.com"),Fr(Xi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(el,Ji),Fr(el,"PROVIDER_ID","github.com"),Fr(el,"GITHUB_SIGN_IN_METHOD","github.com"),T(rl,Ji),Fr(rl,"PROVIDER_ID","google.com"),Fr(rl,"GOOGLE_SIGN_IN_METHOD","google.com"),T(ll,Yi),Fr(ll,"PROVIDER_ID","twitter.com"),Fr(ll,"TWITTER_SIGN_IN_METHOD","twitter.com"),sl.prototype.na=function(t){return this.signInMethod==al.EMAIL_LINK_SIGN_IN_METHOD?Es(t,rs,{email:this.a,oobCode:this.c}):Es(t,bs,{email:this.a,password:this.c})},sl.prototype.b=function(t,e){return this.signInMethod==al.EMAIL_LINK_SIGN_IN_METHOD?Es(t,is,{idToken:e,email:this.a,oobCode:this.c}):Es(t,fs,{idToken:e,email:this.a,password:this.c})},sl.prototype.f=function(t,e){return Hi(this.na(t),e)},sl.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},jr(al,{PROVIDER_ID:"password"}),jr(al,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),jr(al,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),dl.prototype.na=function(t){return t.Wa(fl(this))},dl.prototype.b=function(t,e){var n=fl(this);return n.idToken=e,Es(t,ks,n)},dl.prototype.f=function(t,e){var n=fl(this);return n.operation="REAUTH",Hi(t=Es(t,Cs,n),e)},dl.prototype.A=function(){var t={providerId:"phone"};return this.a.Va&&(t.verificationId=this.a.Va),this.a.Ua&&(t.verificationCode=this.a.Ua),this.a.Ha&&(t.temporaryProof=this.a.Ha),this.a.ba&&(t.phoneNumber=this.a.ba),t},gl.prototype.Wa=function(t,e){var n=this.a.b;return Yt(e.verify()).then((function(r){if(!s(r))throw new Yr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Es(t,ds,e)}(n,{phoneNumber:t,recaptchaToken:r}).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new Yr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},jr(gl,{PROVIDER_ID:"phone"}),jr(gl,{PHONE_SIGN_IN_METHOD:"phone"}),_l.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},_l.prototype.R=function(){return this.h},_l.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var kl,Cl=null;function El(t){var e="unauthorized-domain",n=void 0,r=Cn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Lt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Lt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Yr.call(this,e,n)}function Tl(t,e,n){Yr.call(this,t,n),(t=e||{}).Ab&&Fr(this,"email",t.Ab),t.ba&&Fr(this,"phoneNumber",t.ba),t.credential&&Fr(this,"credential",t.credential),t.Qb&&Fr(this,"tenantId",t.Qb)}function Sl(t){if(t.code){var e=t.code||"";0==e.indexOf(Jr)&&(e=e.substring(Jr.length));var n={credential:vl(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Yr(e,t.message||void 0);return new Tl(e,n,t.message)}return null}function Il(){}function xl(){}function Al(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Nl(){}function Pl(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=k(this.fc,this),this.a.onerror=k(this.Ib,this),this.a.onprogress=k(this.gc,this),this.a.ontimeout=k(this.kc,this)}function Ol(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Dl(t,e,n){this.reset(t,e,n,void 0,void 0)}function Rl(t){this.f=t,this.b=this.c=this.a=null}function Ml(t,e){this.name=t,this.value=e}T(El,Yr),T(Tl,Yr),Tl.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&Y(t,e),t},Tl.prototype.toJSON=function(){return this.A()},Il.prototype.c=null,T(xl,Il),xl.prototype.a=function(){var t=Al(this);return t?new ActiveXObject(t):new XMLHttpRequest},xl.prototype.b=function(){var t={};return Al(this)&&(t[0]=!0,t[1]=!0),t},kl=new xl,T(Nl,Il),Nl.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Pl;throw Error("Unsupported browser")},Nl.prototype.b=function(){return{}},(t=Pl.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ol(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Ol(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Ol(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Dl.prototype.a=null,Dl.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},Ml.prototype.toString=function(){return this.name};var Ll=new Ml("SEVERE",1e3),Fl=new Ml("WARNING",900),jl=new Ml("CONFIG",700),Ul=new Ml("FINE",500);Rl.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(A("Root logger has no level set."),null)}(this).value)for(m(e)&&(e=e()),t=new Dl(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Vl={},ql=null;function zl(t){var e;if(ql||(ql=new Rl(""),Vl[""]=ql,ql.c=jl),!(e=Vl[t])){e=new Rl(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=zl(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Vl[t]=e}return e}function Hl(t,e){t&&t.log(Ul,e,void 0)}function Bl(t){this.f=t}function Wl(t){ln.call(this),this.o=t,this.readyState=Gl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=zl("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Bl,Il),Bl.prototype.a=function(){return new Wl(this.f)},Bl.prototype.b=function(t){return function(){return t}}({}),T(Wl,ln);var Gl=0;function Kl(t){t.c.read().then(t.ec.bind(t)).catch(t.Oa.bind(t))}function $l(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Ql(t)}function Ql(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Yl(t){ln.call(this),this.headers=new pn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Zl,this.v=this.P=!1}(t=Wl.prototype).open=function(t,e){if(this.readyState!=Gl)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Ql(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Oa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,$l(this,!1)),this.readyState=Gl},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Ql(this)),this.a&&(this.readyState=3,Ql(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==o.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Kl(this)):t.text().then(this.ic.bind(this),this.Oa.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?$l(this,!0):Ql(this),3==this.readyState&&Kl(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,$l(this,!0))},t.hc=function(t){this.a&&(this.response=t,$l(this,!0))},t.Oa=function(t){var e=this.h;e&&e.log(Fl,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&$l(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Fl,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Fl,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T(Yl,ln);var Zl="";Yl.prototype.b=zl("goog.net.XhrIo");var Jl=/^https?$/i,Xl=["POST","PUT"];function to(t){return"content-type"==t.toLowerCase()}function eo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,no(t),io(t)}function no(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ro(t){if(t.c&&void 0!==l)if(t.w[1]&&4==oo(t)&&2==so(t))Hl(t.b,uo(t,"Local request error detected and ignored"));else if(t.i&&4==oo(t))an(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==oo(t)){Hl(t.b,uo(t,"Request complete")),t.c=!1;try{var e,n=so(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(mn)[1]||null;if(!s&&o.self&&o.self.location){var u=o.self.location.protocol;s=u.substr(0,u.length-1)}i=!Jl.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<oo(t)?t.a.statusText:""}catch(c){Hl(t.b,"Can not get status: "+c.message),a=""}t.h=a+" ["+so(t)+"]",no(t)}}finally{io(t)}}}function io(t,e){if(t.a){lo(t);var n=t.a,r=t.w[0]?h:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Ll,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function lo(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(o.clearTimeout(t.o),t.o=null)}function oo(t){return t.a?t.a.readyState:0}function so(t){try{return 2<oo(t)?t.a.status:-1}catch(e){return-1}}function uo(t,e){return e+" ["+t.O+" "+t.l+" "+so(t)+"]"}function ao(t){var e=wo;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function co(t,e,n){t.a=!0,t.c=n,t.f=!e,go(t)}function ho(t){if(t.a){if(!t.u)throw new mo(t);t.u=!1}}function po(t,e,n,r){t.g.push([e,n,r]),t.a&&go(t)}function fo(t){return V(t.g,(function(t){return m(t[1])}))}function go(t){if(t.h&&t.a&&fo(t)){var e=t.h,n=_o[e];n&&(o.clearTimeout(n.a),delete _o[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),l=i[0],s=i[1];if(i=i[2],l=t.f?s:l)try{var u=l.call(i||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(S(e)||"function"==typeof o.Promise&&e instanceof o.Promise)&&(r=!0,t.i=!0)}catch(a){e=a,t.f=!0,fo(t)||(n=!0)}}t.c=e,r&&(u=k(t.m,t,!0),r=k(t.m,t,!1),e instanceof ao?(po(e,u,r),e.w=!0):e.then(u,r)),n&&(e=new yo(e),_o[e.a]=e,t.h=e.a)}function mo(){I.call(this)}function vo(){I.call(this)}function yo(t){this.a=o.setTimeout(k(this.c,this),0),this.b=t}(t=Yl.prototype).Ia=function(){void 0!==l&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Hl(this.b,uo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Hl(this.b,uo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),io(this))},t.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),io(this,!0)),Yl.qb.za.call(this)},t.Lb=function(){this.va||(this.J||this.i||this.f?ro(this):this.yc())},t.yc=function(){ro(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Zl:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Ll,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Hl(this.b,"Can not get response: "+e.message),null}},ao.prototype.cancel=function(t){if(this.a)this.c instanceof ao&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new vo(this),ho(this),co(this,!1,t))}},ao.prototype.m=function(t,e){this.i=!1,co(this,t,e)},ao.prototype.then=function(t,e,n){var r,i,l=new Ht((function(t,e){r=t,i=e}));return po(this,r,(function(t){t instanceof vo?l.cancel():i(t)})),l.then(t,e,n)},ao.prototype.$goog_Thenable=!0,T(mo,I),mo.prototype.message="Deferred has already fired",mo.prototype.name="AlreadyCalledError",T(vo,I),vo.prototype.message="Deferred was canceled",vo.prototype.name="CanceledError",yo.prototype.c=function(){throw delete _o[this.a],this.b};var _o={};function bo(t){var e={},n=e.document||document,r=rt(t).toString(),i=document.createElement("SCRIPT"),l={Nb:i,Ia:void 0},s=new ao(l),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){ko(i,!0);var t=new To(Eo,"Timeout reached for loading script "+r);ho(s),co(s,!1,t)}),h),l.Ia=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ko(i,e.gd||!1,u),ho(s),co(s,!0,null))},i.onerror=function(){ko(i,!0,u);var t=new To(Co,"Error while loading script "+r);ho(s),co(s,!1,t)},Y(l=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Hn(i,l),function(t,e){L(t,"HTMLScriptElement"),t.src=rt(e),null===c&&(c=(e=(e=o.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function wo(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&ko(t,!0,this.Ia)}}function ko(t,e,n){null!=n&&o.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Co=0,Eo=1;function To(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),I.call(this,n),this.code=t}function So(t){this.f=t}function Io(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||No,this.g=$(t.secureTokenHeaders||Po),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||Oo,this.a=$(t.firebaseHeaders||Do),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==ar(),!(n=o.XMLHttpRequest||n&&HS.a.INTERNAL.node&&HS.a.INTERNAL.node.XMLHttpRequest)&&!ur())throw new Yr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ur()?new Bl(self):cr()?new So(n):new Nl,this.b=null}T(To,I),T(So,Il),So.prototype.a=function(){return new this.f},So.prototype.b=function(){return{}};var xo,Ao="idToken",No=new Ar(3e4,6e4),Po={"Content-Type":"application/x-www-form-urlencoded"},Oo=new Ar(3e4,6e4),Do={"Content-Type":"application/json"};function Ro(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Mo(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Lo(t,e,n,r,i,l,s){(function(){var t=mr();return!((t=pr(t)!=dr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||ye&&Ie&&!(9<Ie))})()||ur()?t=k(t.o,t):(xo||(xo=new Ht((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(o[jo]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){po(t,null,e,void 0)}(bo(it(Fo,{onload:jo})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=k(t.m,t)),t(e,n,r,i,l,s)}Io.prototype.R=function(){return this.b},Io.prototype.o=function(t,e,n,r,i,l){if(ur()&&(void 0===o.fetch||void 0===o.Headers||void 0===o.Request))throw new Yr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new Yl(this.f);if(l){u.g=Math.max(0,l);var a=setTimeout((function(){u.dispatchEvent("timeout")}),l)}on(u,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Hl(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),sn(u,"ready",(function(){a&&clearTimeout(a),pe(this)})),sn(u,"timeout",(function(){a&&clearTimeout(a),pe(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():kl.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.B?t.B:kl),t.a.onreadystatechange=k(t.Lb,t);try{Hl(t.b,uo(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(u){return Hl(t.b,uo(t,"Error opening Xhr: "+u.message)),void eo(t,u)}e=r||"";var l=new pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||s(t))j(t,e,void 0);else for(var n=dn(t),r=hn(t),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],n&&n[l],t)}(i,(function(t,e){l.set(e,t)})),i=function(t){t:{for(var e=to,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(l.X()),r=o.FormData&&e instanceof o.FormData,!q(Xl,n)||i||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{lo(t),0<t.g&&(t.v=function(t){return ye&&Ae(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Hl(t.b,uo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=k(t.Ia,t)):t.o=an(t.Ia,t.g,t)),Hl(t.b,uo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(u){Hl(t.b,uo(t,"Send error: "+u.message)),eo(t,u)}}(u,t,n,r,i)};var Fo=new Z(tt,"https://apis.google.com/js/client.js?onload=%{onload}"),jo="__fcb"+Math.floor(1e6*Math.random()).toString();function Uo(t){if(!s(t=t.email)||!ir.test(t))throw new Yr("invalid-email")}function Vo(t){"email"in t&&Uo(t)}function qo(t){if(!t[Ao])throw new Yr("internal-error")}function zo(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Yr("internal-error")}else{if(!t.sessionInfo)throw new Yr("missing-verification-id");if(!t.code)throw new Yr("missing-verification-code")}}Io.prototype.m=function(t,e,n,r,i){var l=this;xo.then((function(){window.gapi.client.setApiKey(l.c);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(o),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Io.prototype.ob=function(){return Es(this,gs,{})},Io.prototype.rb=function(t,e){return Es(this,ps,{idToken:t,email:e})},Io.prototype.sb=function(t,e){return Es(this,fs,{idToken:t,password:e})};var Ho={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Bo(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Yr("internal-error")}function Wo(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Fn(t=new Dn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Go(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Sl(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Sl(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Sl(t)):t.errorMessage&&(e=Ts(t.errorMessage)),e)throw e;if(!t[Ao])throw new Yr("internal-error")}function Ko(t,e){return e.returnIdpCredential=!0,Es(t,ms,e)}function $o(t,e){return e.returnIdpCredential=!0,Es(t,ys,e)}function Qo(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Es(t,vs,e)}function Yo(t){if(!t.oobCode)throw new Yr("invalid-action-code")}(t=Io.prototype).tb=function(t,e){var n={idToken:t},r=[];return G(Ho,(function(t,i){var l=e[i];null===l?r.push(t):i in e&&(n[i]=l)})),r.length&&(n.deleteAttribute=r),Es(this,ps,n)},t.kb=function(t,e){return Y(t={requestType:"PASSWORD_RESET",email:t},e),Es(this,us,t)},t.lb=function(t,e){return Y(t={requestType:"EMAIL_SIGNIN",email:t},e),Es(this,os,t)},t.jb=function(t,e){return Y(t={requestType:"VERIFY_EMAIL",idToken:t},e),Es(this,ss,t)},t.Wa=function(t){return Es(this,ws,t)},t.ab=function(t,e){return Es(this,hs,{oobCode:t,newPassword:e})},t.Ma=function(t){return Es(this,Jo,{oobCode:t})},t.Ya=function(t){return Es(this,Zo,{oobCode:t})};var Zo={endpoint:"setAccountInfo",D:Yo,fa:"email",F:!0},Jo={endpoint:"resetPassword",D:Yo,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Yr("internal-error")},F:!0},Xo={endpoint:"signupNewUser",D:function(t){if(Uo(t),!t.password)throw new Yr("weak-password")},K:qo,T:!0,F:!0},ts={endpoint:"createAuthUri",F:!0},es={endpoint:"deleteAccount",V:["idToken"]},ns={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!f(t.deleteProvider))throw new Yr("internal-error")}},rs={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Uo,K:qo,T:!0,F:!0},is={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Uo,K:qo,T:!0},ls={endpoint:"getAccountInfo"},os={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Yr("internal-error");Uo(t)},fa:"email",F:!0},ss={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Yr("internal-error")},fa:"email",F:!0},us={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Yr("internal-error");Uo(t)},fa:"email",F:!0},as={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},cs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Yr("internal-error")}},hs={endpoint:"resetPassword",D:Yo,fa:"email",F:!0},ds={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ps={endpoint:"setAccountInfo",V:["idToken"],D:Vo,T:!0},fs={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Vo(t),!t.password)throw new Yr("weak-password")},K:qo,T:!0},gs={endpoint:"signupNewUser",K:qo,T:!0,F:!0},ms={endpoint:"verifyAssertion",D:Bo,Ra:Wo,K:Go,T:!0,F:!0},vs={endpoint:"verifyAssertion",D:Bo,Ra:Wo,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Yr("user-not-found");if(t.errorMessage)throw Ts(t.errorMessage);if(!t[Ao])throw new Yr("internal-error")},T:!0,F:!0},ys={endpoint:"verifyAssertion",D:function(t){if(Bo(t),!t.idToken)throw new Yr("internal-error")},Ra:Wo,K:Go,T:!0},_s={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Yr("invalid-custom-token")},K:qo,T:!0,F:!0},bs={endpoint:"verifyPassword",D:function(t){if(Uo(t),!t.password)throw new Yr("wrong-password")},K:qo,T:!0,F:!0},ws={endpoint:"verifyPhoneNumber",D:zo,K:qo,F:!0},ks={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Yr("internal-error");zo(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Sl(t);qo(t)}},Cs={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:zo,K:qo,F:!0};function Es(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.V))return Zt(new Yr("internal-error"));var r,i=e.Kb||"POST";return Yt(n).then(e.D).then((function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,l){var o=Cn(t.h+e);wn(o,"key",t.c),l&&wn(o,"cb",E().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&wn(o,u,r[u]);return new Ht((function(e,l){Lo(t,o.toString(),(function(t){t?t.error?l(Ss(t,i||{})):e(t):l(new Yr("network-request-failed"))}),n,s?void 0:Gn(Er(r)),t.a,t.i.get())}))}(t,e.endpoint,i,n,e.Yb,e.wb||!1)})).then((function(t){return r=t,e.Ra?e.Ra(n,r):r})).then(e.K).then((function(){if(!e.fa)return r;if(!(e.fa in r))throw new Yr("internal-error");return r[e.fa]}))}function Ts(t){return Ss({error:{errors:[{message:t}],code:400,message:t}})}function Ss(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Yr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",Y(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Yr(r[i],e);return!e&&t&&(e=Cr(t)),new Yr("internal-error",e)}function Is(t){this.b=t,this.a=null,this.gb=function(t){return(Ps||(Ps=new Ht((function(t,e){function n(){xr(),vr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){xr(),e(Error("Network Error"))},timeout:As.get()})}if(vr("gapi.iframes.Iframe"))t();else if(vr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();o[r]=function(){vr("gapi.load")?n():e(Error("Network Error"))},Yt(bo(r=it(xs,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw Ps=null,t})))).then((function(){return new Ht((function(e,n){vr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(l),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var l=setTimeout((function(){n(Error("Network Error"))}),Ns.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var xs=new Z(tt,"https://apis.google.com/js/api.js?onload=%{onload}"),As=new Ar(3e4,6e4),Ns=new Ar(5e3,15e3),Ps=null;function Os(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=En(this.i,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function Ds(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Rs(t){try{return HS.a.app(t).auth().Ca()}catch(e){return[]}}function Ms(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ls(t){var e=Jn();return function(t){return Es(t,as,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Cn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var l=t[i],o=n,s=r;if(0==l.indexOf("chrome-extension://")?o=Cn(l).b==o&&"chrome-extension"==s:"http"!=s&&"https"!=s?o=!1:rr.test(l)?o=o==l:(l=l.split(".").join("\\."),o=new RegExp("^(.+\\."+l+"|"+l+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new El(Jn())}))}function Fs(t){return t.l?t.l:(t.l=lr().then((function(){if(!t.o){var e=t.c,n=t.h,r=Rs(t.b),i=new Os(t.u,t.f,t.b);i.f=e,i.b=n,i.c=W(r||[]),t.o=i.toString()}t.i=new Is(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then((function(){t.a.register("authEvent",e,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=bl(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Yt(n)}return n.status="ERROR",Yt(n)}))}(t)})),t.l)}function js(t){return t.m||(t.v=t.c?gr(t.c,Rs(t.b)):null,t.m=new Io(t.f,Ii(t.h),t.v)),t.m}function Us(t,e,n,r,i,l,o,s,u,a,c){return(t=new Ds(t,e,n,r,i)).l=l,t.g=o,t.i=s,t.b=$(u||null),t.f=a,t.nb(c).toString()}function Vs(t){if(this.a=t||HS.a.INTERNAL.reactNative&&HS.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Yr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function qs(t){this.b=t,this.a={},this.f=k(this.c,this)}Os.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Ln(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Ln(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Ln(this.a.a,"fw"),this.a.toString()},Ds.prototype.nb=function(t){return this.h=t,this},Ds.prototype.toString=function(){var t=En(this.o,"/__/auth/handler");if(wn(t,"apiKey",this.m),wn(t,"appName",this.c),wn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=HS.a.app(this.c).auth().ha()}catch(s){n=null}for(var r in e.bb=n,wn(t,"providerId",this.a.providerId),n=Er((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=$(n);for(var i=0;i<r.length;i++){var l=r[i];l in n&&delete n[l]}e.eb&&e.bb&&!n[e.eb]&&(n[e.eb]=e.bb),K(n)||wn(t,"customParameters",Cr(n))}if("function"==typeof this.a.Hb&&(e=this.a.Hb()).length&&wn(t,"scopes",e.join(",")),this.l?wn(t,"redirectUrl",this.l):Ln(t.a,"redirectUrl"),this.g?wn(t,"eventId",this.g):Ln(t.a,"eventId"),this.i?wn(t,"v",this.i):Ln(t.a,"v"),this.b)for(var o in this.b)this.b.hasOwnProperty(o)&&!kn(t,o)&&wn(t,o,this.b[o]);return this.h?wn(t,"tid",this.h):Ln(t.a,"tid"),this.f?wn(t,"eid",this.f):Ln(t.a,"eid"),(o=Rs(this.c)).length&&wn(t,"fw",o.join(",")),t.toString()},(t=Ms.prototype).Fb=function(t,e,n){var r=new Yr("popup-closed-by-user"),i=new Yr("web-storage-unsupported"),l=this,o=!1;return this.ia().then((function(){(function(t){var e={type:"webStorageSupport"};return Fs(t).then((function(){return function(t,e){return t.gb.then((function(){return new Ht((function(n){t.a.send(e.type,e,n,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(l).then((function(n){n||(t&&er(t),e(i),o=!0)}))})).s((function(){})).then((function(){if(!o)return function(t){return new Ht((function(e){return function n(){cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!o)return cn(n).then((function(){e(r)}))}))},t.Ob=function(){var t=mr();return!kr(t)&&!Ir(t)},t.Jb=function(){return!1},t.Db=function(t,e,n,r,i,l,o,s){if(!t)return Zt(new Yr("popup-blocked"));if(o&&!kr())return this.ia().s((function(e){er(t),i(e)})),r(),Yt();this.a||(this.a=Ls(js(this)));var u=this;return this.a.then((function(){var e=u.ia().s((function(e){throw er(t),i(e),e}));return r(),e})).then((function(){yl(n),o||Xn(Us(u.u,u.f,u.b,e,n,null,l,u.c,void 0,u.h,s),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Eb=function(t,e,n,r){this.a||(this.a=Ls(js(this)));var i=this;return this.a.then((function(){yl(e),Xn(Us(i.u,i.f,i.b,t,e,Jn(),n,i.c,void 0,i.h,r))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ia=function(){var t=this;return Fs(this).then((function(){return t.i.gb})).s((function(){throw t.a=null,new Yr("network-request-failed")}))},t.Rb=function(){return!0},t.Aa=function(t){this.g.push(t)},t.Na=function(t){H(this.g,(function(e){return e==t}))},(t=Vs.prototype).get=function(t){return Yt(this.a.getItem(t)).then((function(t){return t&&Tr(t)}))},t.set=function(t,e){return Yt(this.a.setItem(t,Cr(e)))},t.S=function(t){return Yt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var zs,Hs=[];function Bs(t,e,n){K(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ws(t){this.a=t}function Gs(t){this.c=t,this.b=!1,this.a=[]}function Ks(t,e,n,r){var i,l,o,s,u=n||{},a=null;if(t.b)return Zt(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ht((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),o=setTimeout((function(){r(Error("unsupported_event"))}),c),t.a.push(a={messageChannel:h,onMessage:l=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(o),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(o),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",l),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return $s(t,a),e})).s((function(e){throw $s(t,a),e}))}function $s(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),H(t.a,(function(t){return t==e}))}}function Qs(){if(!Zs())throw new Yr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=o.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;ur()&&self?(this.l=function(){var t=ur()?self:null;if(j(Hs,(function(n){n.b==t&&(e=n)})),!e){var e=new qs(t);Hs.push(e)}return e}(),Bs(this.l,"keyChanged",(function(e,n){return nu(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:q(e,n.key)}}))})),Bs(this.l,"ping",(function(){return Yt(["keyChanged"])}))):function(){var t=o.navigator;return t&&t.serviceWorker?Yt().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Yt(null)}().then((function(e){(t.h=e)&&(t.g=new Gs(new Ws(e)),Ks(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Ys(t){return t.m||(t.m=function t(e){return new Ht((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new Ht((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.m}function Zs(){try{return!!o.indexedDB}catch(me){return!1}}function Js(t){return t.objectStore("firebaseLocalStorage")}function Xs(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function tu(t){return new Ht((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function eu(t,e){return t.g&&t.h&&function(){var t=o.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ks(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Yt()}function nu(t){return Ys(t).then((function(t){var e=Js(Xs(t,!1));return e.getAll?tu(e.getAll()):new Ht((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ru(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function iu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Yt().then((function(){if(Zs()){var t=Sr(),r="__sak"+t;return zs||(zs=new Qs),(n=zs).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.$((function(t){j(e.a,(function(e){e(t)}))})),t}))}function lu(){this.a={},this.type="inMemory"}function ou(){if(!function(){var t="Node"==ar();if(!(t=su()||t&&HS.a.INTERNAL.node&&HS.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ar())throw new Yr("internal-error","The LocalStorage compatibility library was not found.");throw new Yr("web-storage-unsupported")}this.a=su()||HS.a.INTERNAL.node.localStorage,this.type="localStorage"}function su(){try{var t=o.localStorage,e=Sr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function uu(){this.type="nullStorage"}function au(){if(!function(){var t="Node"==ar();if(!(t=cu()||t&&HS.a.INTERNAL.node&&HS.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ar())throw new Yr("internal-error","The SessionStorage compatibility library was not found.");throw new Yr("web-storage-unsupported")}this.a=cu()||HS.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function cu(){try{var t=o.sessionStorage,e=Sr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function hu(){var t={};t.Browser=fu,t.Node=gu,t.ReactNative=mu,t.Worker=vu,this.a=t[ar()]}qs.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(Yt().then((function(){return e(t.origin,t.data.data)})))})),Xt(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Ws.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Gs.prototype.close=function(){for(;0<this.a.length;)$s(this,this.a[0]);this.b=!0},(t=Qs.prototype).set=function(t,e){var n,r=!1,i=this;return Ys(this).then((function(e){return tu((e=Js(Xs(n=e,!0))).get(t))})).then((function(l){var o=Js(Xs(n,!0));return l?(l.value=e,tu(o.put(l))):(i.b++,r=!0,(l={}).fbase_key=t,l.value=e,tu(o.add(l)))})).then((function(){return i.c[t]=e,eu(i,t)})).ka((function(){r&&i.b--}))},t.get=function(t){return Ys(this).then((function(e){return tu(Js(Xs(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.S=function(t){var e=!1,n=this;return Ys(this).then((function(r){return e=!0,n.b++,tu(Js(Xs(r,!0)).delete(t))})).then((function(){return delete n.c[t],eu(n,t)})).ka((function(){e&&n.b--}))},t.$=function(t){0==this.a.length&&function(t){ru(t),function e(){t.f=setTimeout((function(){t.i=nu(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ea=function(t){H(this.a,(function(e){return e==t})),0==this.a.length&&ru(this)},(t=iu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.S=function(t){return this.b.then((function(e){return e.S(t)}))},t.$=function(t){this.a.push(t)},t.ea=function(t){H(this.a,(function(e){return e==t}))},(t=lu.prototype).get=function(t){return Yt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Yt()},t.S=function(t){return delete this.a[t],Yt()},t.$=function(){},t.ea=function(){},(t=ou.prototype).get=function(t){var e=this;return Yt().then((function(){return Tr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Yt().then((function(){var r=Cr(e);null===r?n.S(t):n.a.setItem(t,r)}))},t.S=function(t){var e=this;return Yt().then((function(){e.a.removeItem(t)}))},t.$=function(t){o.window&&Ge(o.window,"storage",t)},t.ea=function(t){o.window&&Qe(o.window,"storage",t)},(t=uu.prototype).get=function(){return Yt(null)},t.set=function(){return Yt()},t.S=function(){return Yt()},t.$=function(){},t.ea=function(){},(t=au.prototype).get=function(t){var e=this;return Yt().then((function(){return Tr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Yt().then((function(){var r=Cr(e);null===r?n.S(t):n.a.setItem(t,r)}))},t.S=function(t){var e=this;return Yt().then((function(){e.a.removeItem(t)}))},t.$=function(){},t.ea=function(){};var du,pu,fu={C:ou,Ta:au},gu={C:ou,Ta:au},mu={C:Vs,Ta:uu},vu={C:ou,Ta:uu},yu={ad:"local",NONE:"none",cd:"session"};function _u(){var t=!(Ir(mr())||!sr()),e=kr(),n=yr();this.m=t,this.h=e,this.l=n,this.a={},du||(du=new hu),t=du;try{this.g=!Zn()&&Or()||!o.indexedDB?new t.a.C:new iu(ur()?new lu:new t.a.C)}catch(r){this.g=new lu,this.h=!0}try{this.i=new t.a.Ta}catch(r){this.i=new lu}this.u=new lu,this.f=k(this.Pb,this),this.b={}}function bu(){return pu||(pu=new _u),pu}function wu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function ku(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Cu(t,e,n){return n=ku(e,n),"local"==e.C&&(t.b[n]=null),wu(t,e.C).S(n)}function Eu(t){t.c&&(clearInterval(t.c),t.c=null)}function Tu(t){this.a=t,this.b=bu()}(t=_u.prototype).get=function(t,e){return wu(this,t.C).get(ku(t,e))},t.set=function(t,e,n){var r=ku(t,n),i=this,l=wu(this,t.C);return l.set(r,e).then((function(){return l.get(r)})).then((function(e){"local"==t.C&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ku(t,e),this.l&&(this.b[t]=o.localStorage.getItem(t)),K(this.a)&&(wu(this,"local").$(this.f),this.h||(Zn()||!Or())&&o.indexedDB||!this.l||function(t){Eu(t),t.c=setInterval((function(){for(var e in t.a){var n=o.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Me({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ku(t,e),this.a[t]&&(H(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),K(this.a)&&(wu(this,"local").ea(this.f),Eu(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=o.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.$a(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?wu(this,"local").ea(this.f):Eu(this),this.m)if(n=o.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?o.localStorage.setItem(e,r):o.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var l=this;n=function(){void 0===t.a.a&&l.b[e]===o.localStorage.getItem(e)||(l.b[e]=o.localStorage.getItem(e),l.$a(e))},ye&&Ie&&10==Ie&&o.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,k(this.$a,this))},t.$a=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var Su,Iu={name:"authEvent",C:"local"};function xu(){this.a=bu()}function Au(t,e){this.b=Nu,this.f=o.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=o.Int32Array?new Int32Array(64):Array(64),void 0!==Su||(Su=o.Int32Array?new Int32Array(Fu):Fu),this.reset()}T(Au,(function(){this.b=-1}));for(var Nu=64,Pu=Nu-1,Ou=[],Du=0;Du<Pu;Du++)Ou[Du]=0;var Ru=B(128,Ou);function Mu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var l=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,o=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=l+o|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],a=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(l=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;o=(l=l+((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))|0)+((o=(o=a&c^~a&h)+(0|Su[e])|0)+(0|n[e])|0)|0,l=h,h=c,c=a,a=u+o|0,u=s,s=i,i=r,r=o+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+a|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+l|0}function Lu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(s(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Mu(t),i=0);else{if(!g(e))throw Error("message must be string or array");for(;r<n;){var l=e[r++];if(!("number"==typeof l&&0<=l&&255>=l&&l==(0|l)))throw Error("message must be a byte array");t.f[i++]=l,i==t.b&&(Mu(t),i=0)}}t.c=i,t.g+=n}Au.prototype.reset=function(){this.g=this.c=0,this.a=o.Int32Array?new Int32Array(this.h):W(this.h)};var Fu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ju(){Au.call(this,8,Uu)}T(ju,Au);var Uu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Vu(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new xu,this.g=new Tu(this.h),this.f=null,this.b=[],this.a=this.c=null}function qu(t){return new Yr("invalid-cordova-configuration",t)}function zu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Hu(t){return t.f||(t.f=t.ia().then((function(){return new Ht((function(e){t.Aa((function n(r){return e(r),t.Na(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Bu(t).then((function(r){var i=n;if(r&&e&&e.url){var l=null;-1!=(i=qi(e.url)).indexOf("/__/auth/callback")&&(l=(l="object"==typeof(l=Tr(kn(l=Cn(i),"firebaseError")||null))?Zr(l):null)?new _l(r.c,r.b,null,null,l,null,r.R()):new _l(r.c,r.b,i,r.f,null,null,r.R())),i=l||n}zu(t,i)}))}var n=new _l("unknown",null,null,null,new Yr("no-auth-event")),r=!1,i=cn(500).then((function(){return Bu(t).then((function(){r||zu(t,n)}))})),l=o.handleOpenURL;o.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(vr("BuildInfo.packageName",o).toLowerCase()+"://")&&e({url:t}),"function"==typeof l)try{l(t)}catch(n){console.error(n)}},Cl||(Cl=new wl),function(t){var e=Cl;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=vr("universalLinks.subscribe",o))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Bu(t){var e=null;return function(t){return t.b.get(Iu,t.a).then((function(t){return bl(t)}))}(t.g).then((function(n){return e=n,Cu((n=t.g).b,Iu,n.a)})).then((function(){return e}))}function Wu(t){this.a=t,this.b=bu()}(t=Vu.prototype).ia=function(){return this.Da?this.Da:this.Da=(or(void 0)?lr().then((function(){return new Ht((function(t,e){var n=o.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Zt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof vr("universalLinks.subscribe",o))throw qu("cordova-universal-links-plugin-fix is not installed");if(void 0===vr("BuildInfo.packageName",o))throw qu("cordova-plugin-buildinfo is not installed");if("function"!=typeof vr("cordova.plugins.browsertab.openUrl",o))throw qu("cordova-plugin-browsertab is not installed");if("function"!=typeof vr("cordova.InAppBrowser.open",o))throw qu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Yr("cordova-not-ready")}))},t.Fb=function(t,e){return e(new Yr("operation-not-supported-in-this-environment")),Yt()},t.Db=function(){return Zt(new Yr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,r){if(this.c)return Zt(new Yr("redirect-operation-pending"));var i=this,l=o.document,s=null,u=null,a=null,c=null;return this.c=Yt().then((function(){return yl(e),Hu(i)})).then((function(){return function(t,e,n,r,i){var l=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new _l(e,r,null,l,new Yr("no-auth-event"),null,i),u=vr("BuildInfo.packageName",o);if("string"!=typeof u)throw new Yr("invalid-cordova-configuration");var a=vr("BuildInfo.displayName",o),c={};if(mr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!mr().toLowerCase().match(/android/))return Zt(new Yr("operation-not-supported-in-this-environment"));c.apn=u}a&&(c.appDisplayName=a),l=function(t){var e=new ju;Lu(e,t),t=[];var n=8*e.g;Lu(e,Ru,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Mu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return U(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(l),c.sessionId=l;var h=Us(t.u,t.i,t.l,e,n,null,r,t.m,c,t.o,i);return t.ia().then((function(){var e=t.h;return t.v.a.set(Iu,s.A(),e)})).then((function(){var e=vr("cordova.plugins.browsertab.isAvailable",o);if("function"!=typeof e)throw new Yr("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=vr("cordova.plugins.browsertab.openUrl",o)))throw new Yr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=vr("cordova.InAppBrowser.open",o)))throw new Yr("invalid-cordova-configuration");e=mr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ht((function(t,e){u=function(){var e=vr("cordova.plugins.browsertab.close",o);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Aa(u),c=function(){Nr()&&a()},l.addEventListener("resume",a=function(){s||(s=cn(2e3).then((function(){e(new Yr("redirect-cancelled-by-user"))})))},!1),mr().toLowerCase().match(/android/)||l.addEventListener("visibilitychange",c,!1)})).s((function(t){return Bu(i).then((function(){throw t}))}))})).ka((function(){a&&l.removeEventListener("resume",a,!1),c&&l.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),u&&i.Na(u),i.c=null}))},t.Aa=function(t){this.b.push(t),Hu(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new _l("unknown",null,null,null,new Yr("no-auth-event")),t(e))}))},t.Na=function(t){H(this.b,(function(e){return e==t}))};var Gu={name:"pendingRedirect",C:"session"};function Ku(t){return Cu(t.b,Gu,t.a)}function $u(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=k(this.o,this),this.b=new ua,this.w=new pa,this.g=new Wu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Qu(this.B,this.u,this.m,Ti)}function Qu(t,e,n,r){var i=HS.a.SDK_VERSION||null;return or()?new Vu(t,e,n,i,r):new Ms(t,e,n,i,r)}function Yu(t){t.f||(t.f=!0,t.a.Aa(t.l));var e=t.a;return t.a.ia().s((function(n){throw t.a==e&&t.reset(),n}))}function Zu(t){t.a.Ob()&&Yu(t).s((function(e){var n=new _l("unknown",null,null,null,new Yr("operation-not-supported-in-this-environment"));ra(e)&&t.o(n)})),t.a.Jb()||aa(t.b)}function Ju(t,e){q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Gu,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Ku(t.g).then((function(){Yu(t).s((function(e){var n=new _l("unknown",null,null,null,new Yr("operation-not-supported-in-this-environment"));ra(e)&&t.o(n)}))})):Zu(t)})).s((function(){Zu(t)}))}function Xu(t,e){H(t.h,(function(t){return t==e}))}$u.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=Qu(this.B,this.u,this.m),this.i={}},$u.prototype.o=function(t){if(!t)throw new Yr("invalid-auth-event");if(6e5<=E()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=E())),e=!0;break}}return aa(this.b),e};var ta=new Ar(2e3,1e4),ea=new Ar(3e4,6e4);function na(t,e,n,r,i,l,o){return t.a.Db(e,n,r,(function(){t.f||(t.f=!0,t.a.Aa(t.l))}),(function(){t.reset()}),i,l,o)}function ra(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function ia(t,e,n,r,i){var l;return function(t){return t.b.set(Gu,"pending",t.a)}(t.g).then((function(){return t.a.Eb(e,n,r,i).s((function(e){if(ra(e))throw new Yr("operation-not-supported-in-this-environment");return l=e,Ku(t.g).then((function(){throw l}))})).then((function(){return t.a.Rb()?new Ht((function(){})):Ku(t.g).then((function(){return t.oa()})).then((function(){})).s((function(){}))}))}))}function la(t,e,n,r,i){return t.a.Fb(r,(function(t){e.ja(n,null,t,i)}),ta.get())}$u.prototype.oa=function(){return this.b.oa()};var oa={};function sa(t,e,n){var r=e+":"+n;return oa[r]||(oa[r]=new $u(t,e,n)),oa[r]}function ua(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function aa(t){t.g||(t.g=!0,da(t,!1,null,null))}function ca(t){t.g&&!t.i&&da(t,!1,null,null)}function ha(t,e){if(t.b=function(){return Yt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function da(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Zt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):ha(t,n):ha(t,{user:null}),t.f=[],t.c=[]}function pa(){}function fa(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function ga(t,e){this.a=e,Fr(this,"verificationId",t)}function ma(t,e,n,r){return new gl(t).Wa(e,n).then((function(t){return new ga(t,r)}))}function va(t){var e=Ei(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Yr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");jr(this,{token:t,expirationTime:Pr(1e3*e.exp),authTime:Pr(1e3*e.auth_time),issuedAtTime:Pr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function ya(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _a(t){this.f=t,this.b=this.a=null,this.c=0}function ba(t,e){var n=e[Ao],r=e.refreshToken;e=wa(e.expiresIn),t.b=n,t.c=e,t.a=r}function wa(t){return E()+1e3*parseInt(t,10)}function ka(t,e){this.a=t||null,this.b=e||null,jr(this,{lastSignInTime:Pr(e||null),creationTime:Pr(t||null)})}function Ca(t,e,n,r,i,l){jr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:l||null,providerId:e})}function Ea(t,e){for(var n in Re.call(this,t),e)this[n]=e[n]}function Ta(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=HS.a.SDK_VERSION?gr(HS.a.SDK_VERSION):null,this.a=new Io(this.l,Ii(Ti),t),this.b=new _a(this.a),Oa(this,e[Ao]),ba(this.b,e),Fr(this,"refreshToken",this.b.a),Ma(this,n||{}),ln.call(this),this.J=!1,this.o&&_r()&&(this.i=sa(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new ya((function(){return t.G(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-E()-3e5;return 0<e?e:0}))}(this),this.W=k(this.Ja,this);var r=this;this.ga=null,this.xa=function(t){r.ua(t.g)},this.Z=null,this.P=[],this.wa=function(t){Ia(r,t.c)},this.Y=null}function Sa(t,e){t.Z&&Qe(t.Z,"languageCodeChanged",t.xa),(t.Z=e)&&Ge(e,"languageCodeChanged",t.xa)}function Ia(t,e){t.P=e,Mo(t.a,HS.a.SDK_VERSION?gr(HS.a.SDK_VERSION,t.P):null)}function xa(t,e){t.Y&&Qe(t.Y,"frameworkChanged",t.wa),(t.Y=e)&&Ge(e,"frameworkChanged",t.wa)}function Aa(t){try{return HS.a.app(t.m).auth()}catch(e){throw new Yr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Na(t){t.B||t.w.b||(t.w.start(),Qe(t,"tokenChanged",t.W),Ge(t,"tokenChanged",t.W))}function Pa(t){Qe(t,"tokenChanged",t.W),t.w.stop()}function Oa(t,e){t.ma=e,Fr(t,"_lat",e)}function Da(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return Xt(e).then((function(){return t}))}function Ra(t){t.i&&!t.J&&(t.J=!0,Ju(t.i,t))}function Ma(t,e){jr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ka(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function La(){}function Fa(t){return Yt().then((function(){if(t.B)throw new Yr("app-deleted")}))}function ja(t){return U(t.providerData,(function(t){return t.providerId}))}function Ua(t,e){e&&(Va(t,e.providerId),t.providerData.push(e))}function Va(t,e){H(t.providerData,(function(t){return t.providerId==e}))}function qa(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Fr(t,e,n)}function za(t,e){t!=e&&(jr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Fr(t,"metadata",e.metadata?function(t){return new ka(t.a,t.b)}(e.metadata):new ka),j(e.providerData,(function(e){Ua(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Fr(t,"refreshToken",t.b.a))}function Ha(t){return t.G().then((function(e){var n=t.isAnonymous;return function(t,e){return Es(t.a,ls,{idToken:e}).then(k(t.zc,t))}(t,e).then((function(){return n||qa(t,"isAnonymous",!1),e}))}))}function Ba(t,e){e[Ao]&&t.ma!=e[Ao]&&(ba(t.b,e),t.dispatchEvent(new Ea("tokenChanged")),Oa(t,e[Ao]),qa(t,"refreshToken",t.b.a))}function Wa(t,e){return Ha(t).then((function(){if(q(ja(t),e))return Da(t).then((function(){throw new Yr("provider-already-linked")}))}))}function Ga(t,e,n){return Ur({user:t,credential:vl(e),additionalUserInfo:e=Oi(e),operationType:n})}function Ka(t,e){return Ba(t,e),t.reload().then((function(){return t}))}function $a(t,e,n,r,i){if(!_r())return Zt(new Yr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Zt(t.h);var l=Pi(n.providerId),o=Sr(t.uid+":::"),s=null;(!kr()||sr())&&t.o&&n.isOAuthProvider&&(s=Us(t.o,t.l,t.m,e,n,null,o,HS.a.SDK_VERSION||null,null,null,t.tenantId));var u=nr(s,l&&l.sa,l&&l.ra);return r=r().then((function(){if(Ya(t),!i)return t.G().then((function(){}))})).then((function(){return na(t.i,u,e,n,o,!!s,t.tenantId)})).then((function(){return new Ht((function(n,r){t.ja(e,null,new Yr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=o,t.c=la(t.i,t,e,u,o)}))})).then((function(t){return u&&er(u),t?Ur(t):null})).s((function(t){throw u&&er(u),t})),Za(t,r,i)}function Qa(t,e,n,r,i){if(!_r())return Zt(new Yr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Zt(t.h);var l=null,o=Sr(t.uid+":::");return r=r().then((function(){if(Ya(t),!i)return t.G().then((function(){}))})).then((function(){return t.ca=o,Da(t)})).then((function(e){return t.da&&(e=(e=t.da).b.set(tc,t.A(),e.a)),e})).then((function(){return ia(t.i,e,n,o,t.tenantId)})).s((function(e){if(l=e,t.da)return ec(t.da);throw l})).then((function(){if(l)throw l})),Za(t,r,i)}function Ya(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Yr("internal-error");throw new Yr("auth-domain-config-required")}}function Za(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Zt(t.h)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Ea("userInvalidated")),t.h=e),e}))}(t,e,n);return t.I.push(r),r.ka((function(){z(t.I,r)})),r}function Ja(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Ao]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-E())/1e3;var r=new Ta(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&Ua(r,Ur(t))})),t.redirectEventId&&(r.ca=t.redirectEventId),r}function Xa(t){this.a=t,this.b=bu()}ua.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ua.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,l=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!l),"unknown"!=n||i||l?t.a?(da(this,!0,null,t.a),Yt()):e.Ba(n,r)?function(t,e,n){n=n.Ba(e.c,e.b);var r=e.g,i=e.f,l=e.i,o=e.R(),s=!!e.c.match(/Redirect$/);n(r,i,o,l).then((function(e){da(t,s,e,null)})).s((function(e){da(t,s,null,e)}))}(this,t,e):Zt(new Yr("invalid-auth-event")):(da(this,!1,null,null),Yt())}else Zt(new Yr("invalid-auth-event"))},ua.prototype.oa=function(){var t=this;return new Ht((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Yr("timeout");t.a&&t.a.cancel(),t.a=cn(ea.get()).then((function(){t.b||(t.g=!0,da(t,!0,null,e))}))}(t))}))},pa.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Yt()):e.Ba(n,r)?function(t,e){var n=t.b,r=t.c;e.Ba(r,n)(t.g,t.f,t.R(),t.i).then((function(t){e.ja(r,t,null,n)})).s((function(t){e.ja(r,null,t,n)}))}(t,e):Zt(new Yr("invalid-auth-event"))}else Zt(new Yr("invalid-auth-event"))},ga.prototype.confirm=function(t){return t=ml(this.verificationId,t),this.a(t)},ya.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=o.document,e=null;return Nr()||!t?Yt():new Ht((function(n){e=function(){Nr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},ya.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_a.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},_a.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Zt(new Yr("user-token-expired")):t||!this.b||E()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Ht((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Lo(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ss(t)):t.access_token&&t.refresh_token?n(t):r(new Yr("internal-error")):r(new Yr("network-request-failed"))}),"POST",Mn(e).toString(),t.g,t.u.get()):r(new Yr("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=wa(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Yt(null):Yt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ka.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Ea,Re),T(Ta,ln),Ta.prototype.ua=function(t){this.ga=t,Ro(this.a,t)},Ta.prototype.ha=function(){return this.ga},Ta.prototype.Ca=function(){return W(this.P)},Ta.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Fr(Ta.prototype,"providerId","firebase"),(t=Ta.prototype).reload=function(){var t=this;return Za(this,Fa(this).then((function(){return Ha(t).then((function(){return Da(t)})).then(La)})))},t.dc=function(t){return this.G(t).then((function(t){return new va(t)}))},t.G=function(t){var e=this;return Za(this,Fa(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new Yr("internal-error");return t.accessToken!=e.ma&&(Oa(e,t.accessToken),e.dispatchEvent(new Ea("tokenChanged"))),qa(e,"refreshToken",t.refreshToken),t.accessToken})))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Yr("internal-error");Ma(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?U(t,(function(t){return new Ca(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ua(this,e[n]);qa(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return Mr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(t)},t.hb=function(t){var e=this,n=null;return Za(this,t.f(this.a,this.uid).then((function(t){return Ba(e,t),n=Ga(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.rc=function(t){return Mr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(t)},t.fb=function(t){var e=this,n=null;return Za(this,Wa(this,t.providerId).then((function(){return e.G()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ga(e,t,"link"),Ka(e,t)})).then((function(){return n})))},t.sc=function(t,e){var n=this;return Za(this,Wa(this,"phone").then((function(){return ma(Aa(n),t,e,k(n.fb,n))})))},t.Bc=function(t,e){var n=this;return Za(this,Yt().then((function(){return ma(Aa(n),t,e,k(n.hb,n))})),!0)},t.rb=function(t){var e=this;return Za(this,this.G().then((function(n){return e.a.rb(n,t)})).then((function(t){return Ba(e,t),e.reload()})))},t.Sc=function(t){var e=this;return Za(this,this.G().then((function(n){return t.b(e.a,n)})).then((function(t){return Ba(e,t),e.reload()})))},t.sb=function(t){var e=this;return Za(this,this.G().then((function(n){return e.a.sb(n,t)})).then((function(t){return Ba(e,t),e.reload()})))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Fa(this);var e=this;return Za(this,this.G().then((function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ba(e,t),qa(e,"displayName",t.displayName||null),qa(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(Fr(t,"displayName",e.displayName),Fr(t,"photoURL",e.photoURL))})),Da(e)})).then(La))},t.Qc=function(t){var e=this;return Za(this,Ha(this).then((function(n){return q(ja(e),t)?function(t,e,n){return Es(t,ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(ja(e),(function(t){n[t]||Va(e,t)})),n[gl.PROVIDER_ID]||Fr(e,"phoneNumber",null),Da(e)})):Da(e).then((function(){throw new Yr("no-such-provider")}))})))},t.delete=function(){var t=this;return Za(this,this.G().then((function(e){return Es(t.a,es,{idToken:e})})).then((function(){t.dispatchEvent(new Ea("userDeleted"))}))).then((function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Sa(t,null),xa(t,null),t.I=[],t.B=!0,Pa(t),Fr(t,"refreshToken",null),t.i&&Xu(t.i,t)}))},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?k(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?k(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?k(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?k(this.Cb,this):null},t.tc=function(t){var e=this;return $a(this,"linkViaPopup",t,(function(){return Wa(e,t.providerId).then((function(){return Da(e)}))}),!1)},t.Cc=function(t){return $a(this,"reauthViaPopup",t,(function(){return Yt()}),!0)},t.uc=function(t){var e=this;return Qa(this,"linkViaRedirect",t,(function(){return Wa(e,t.providerId)}),!1)},t.Dc=function(t){return Qa(this,"reauthViaRedirect",t,(function(){return Yt()}),!0)},t.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var l=null;return Za(this,this.G().then((function(n){return $o(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return l=Ga(i,t,"link"),Ka(i,t)})).then((function(){return l})))},t.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var l=null;return Za(this,Yt().then((function(){return Hi(Qo(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return l=Ga(i,t,"reauthenticate"),Ba(i,t),i.h=null,i.reload()})).then((function(){return l})),!0)},t.jb=function(t){var e=this,n=null;return Za(this,this.G().then((function(e){return n=e,void 0===t||K(t)?{}:_i(new ai(t))})).then((function(t){return e.a.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&Y(t,this.metadata.A()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var tc={name:"redirectUser",C:"session"};function ec(t){return Cu(t.b,tc,t.a)}function nc(t){this.a=t,this.b=bu(),this.c=null,this.f=function(t){var e=lc("local"),n=lc("session"),r=lc("none");return function(t,e,n){var r=ku(e,n),i=wu(t,e.C);return t.get(e,n).then((function(l){var s=null;try{s=Tr(o.localStorage.getItem(r))}catch(u){}if(s&&!l)return o.localStorage.removeItem(r),t.set(e,s,n);s&&l&&"localStorage"!=i.type&&o.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ic,t.a).then((function(t){return t?lc(t):e}))}))}))})).then((function(e){return t.c=e,rc(t,e.C)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(lc("local"),this.a,k(this.g,this))}function rc(t,e){var n,r=[];for(n in yu)yu[n]!==e&&r.push(Cu(t.b,lc(yu[n]),t.a));return r.push(Cu(t.b,ic,t.a)),function(t){return new Ht((function(e,n){var r=t.length,i=[];if(r)for(var l=function(t,n){r--,i[t]=n,0==r&&e(i)},o=function(t){n(t)},s=0;s<t.length;s++)Jt(t[s],C(l,s),o);else e(i)}))}(r)}nc.prototype.g=function(){var t=this,e=lc("local");ac(this,(function(){return Yt().then((function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null})).then((function(n){if(n)return rc(t,"local").then((function(){t.c=e}))}))}))};var ic={name:"persistence",C:"session"};function lc(t){return{name:"authUser",C:t}}function oc(t,e){return ac(t,(function(){return t.b.set(t.c,e.A(),t.a)}))}function sc(t){return ac(t,(function(){return Cu(t.b,t.c,t.a)}))}function uc(t,e){return ac(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ja(t||{})}))}))}function ac(t,e){return t.f=t.f.then(e,e),t.f}function cc(t){if(this.l=!1,Fr(this,"settings",new fa),Fr(this,"app",t),!yc(this).options||!yc(this).options.apiKey)throw new Yr("invalid-api-key");t=HS.a.SDK_VERSION?gr(HS.a.SDK_VERSION):null,this.b=new Io(yc(this).options&&yc(this).options.apiKey,Ii(Ti),t),this.O=[],this.m=[],this.J=[],this.Ub=HS.a.INTERNAL.createSubscribe(k(this.oc,this)),this.W=void 0,this.Vb=HS.a.INTERNAL.createSubscribe(k(this.pc,this)),mc(this,null),this.h=new nc(yc(this).options.apiKey+":"+yc(this).name),this.w=new Xa(yc(this).options.apiKey+":"+yc(this).name),this.Y=kc(this,function(t){var e=yc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(tc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ja(t||{})}))}(t.w,yc(t).options.authDomain).then((function(e){return(t.B=e)&&(e.da=t.w),ec(t.w)}));return kc(t,e)}(t).then((function(){return uc(t.h,e)})).then((function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return oc(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:sc(t.h)}))):null})).then((function(e){mc(t,e||null)}));return kc(t,n)}(this)),this.i=kc(this,function(t){return t.Y.then((function(){return fc(t)})).s((function(){})).then((function(){if(!t.l)return t.ma()})).s((function(){})).then((function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(lc("local"),e.a,t.ma)}}))}(this)),this.ga=!1,this.ma=k(this.Nc,this),this.ub=k(this.aa,this),this.wa=k(this.bc,this),this.xa=k(this.mc,this),this.Ja=k(this.nc,this),this.a=null,function(t){var e=yc(t).options.authDomain,n=yc(t).options.apiKey;e&&_r()&&(t.Tb=t.Y.then((function(){if(!t.l){if(t.a=sa(e,n,yc(t).name),Ju(t.a,t),_c(t)&&Ra(_c(t)),t.B){Ra(t.B);var r=t.B;r.ua(t.ha()),Sa(r,t),Ia(r=t.B,t.I),xa(r,t),t.B=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=k(this.delete,this),this.INTERNAL.logFramework=k(this.vc,this),this.o=0,ln.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.ua(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function hc(t){Re.call(this,"languageCodeChanged"),this.g=t}function dc(t){Re.call(this,"frameworkChanged"),this.c=t}function pc(t){return t.Tb||Zt(new Yr("auth-domain-config-required"))}function fc(t){if(!_r())return Zt(new Yr("operation-not-supported-in-this-environment"));var e=pc(t).then((function(){return t.a.oa()})).then((function(t){return t?Ur(t):null}));return kc(t,e)}function gc(t,e){var n={};return n.apiKey=yc(t).options.apiKey,n.authDomain=yc(t).options.authDomain,n.appName=yc(t).name,t.Y.then((function(){return function(t,e,n,r){var i=new Ta(t,e);return n&&(i.da=n),r&&Ia(i,r),i.reload().then((function(){return i}))}(n,e,t.w,t.Ca())})).then((function(e){return _c(t)&&e.uid==_c(t).uid?(za(_c(t),e),t.aa(e)):(mc(t,e),Ra(e),t.aa(e))})).then((function(){wc(t)}))}function mc(t,e){_c(t)&&(function(t,e){H(t.O,(function(t){return t==e}))}(_c(t),t.ub),Qe(_c(t),"tokenChanged",t.wa),Qe(_c(t),"userDeleted",t.xa),Qe(_c(t),"userInvalidated",t.Ja),Pa(_c(t))),e&&(e.O.push(t.ub),Ge(e,"tokenChanged",t.wa),Ge(e,"userDeleted",t.xa),Ge(e,"userInvalidated",t.Ja),0<t.o&&Na(e)),Fr(t,"currentUser",e),e&&(e.ua(t.ha()),Sa(e,t),Ia(e,t.I),xa(e,t))}function vc(t,e){var n=null,r=null;return kc(t,e.then((function(e){return n=vl(e),r=Oi(e),gc(t,e)})).then((function(){return Ur({user:_c(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function yc(t){return t.app}function _c(t){return t.currentUser}function bc(t){return _c(t)&&_c(t)._lat||null}function wc(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](bc(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](bc(t))}}function kc(t,e){return t.O.push(e),e.ka((function(){z(t.O,e)})),e}function Cc(){}function Ec(){this.a={},this.b=1e12}nc.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Yr("invalid-persistence-type"),n=new Yr("unsupported-persistence-type");t:{for(r in yu)if(yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(ar()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!yr()&&"none"!==t)throw n}}(t),ac(this,(function(){return t!=n.c.C?n.b.get(n.c,n.a).then((function(r){return e=r,rc(n,t)})).then((function(){if(n.c=lc(t),e)return n.b.set(n.c,e,n.a)})):Yt()}))},T(cc,ln),T(hc,Re),T(dc,Re),(t=cc.prototype).mb=function(t){return kc(this,t=this.h.mb(t))},t.ua=function(t){this.Z===t||this.l||(this.Z=t,Ro(this.b,this.Z),this.dispatchEvent(new hc(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=o.navigator;this.ua(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),Mo(this.b,HS.a.SDK_VERSION?gr(HS.a.SDK_VERSION,this.I):null),this.dispatchEvent(new dc(this.I))},t.Ca=function(){return W(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:yc(this).options.apiKey,authDomain:yc(this).options.authDomain,appName:yc(this).name,currentUser:_c(this)&&_c(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?k(this.ac,this):null},t.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var l=null,o=null,s=Ko(i.b,t).then((function(t){return l=vl(t),o=Oi(t),t}));return kc(this,t=i.Y.then((function(){return s})).then((function(t){return gc(i,t)})).then((function(){return Ur({user:_c(i),credential:l,additionalUserInfo:o,operationType:"signIn"})})))},t.Lc=function(t){if(!_r())return Zt(new Yr("operation-not-supported-in-this-environment"));var e=this,n=Pi(t.providerId),r=Sr(),i=null;(!kr()||sr())&&yc(this).options.authDomain&&t.isOAuthProvider&&(i=Us(yc(this).options.authDomain,yc(this).options.apiKey,yc(this).name,"signInViaPopup",t,null,r,HS.a.SDK_VERSION||null,null,null,this.R()));var l=nr(i,n&&n.sa,n&&n.ra);return kc(this,n=pc(this).then((function(n){return na(n,l,"signInViaPopup",t,r,!!i,e.R())})).then((function(){return new Ht((function(t,n){e.ja("signInViaPopup",null,new Yr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=la(e.a,e,"signInViaPopup",l,r)}))})).then((function(t){return l&&er(l),t?Ur(t):null})).s((function(t){throw l&&er(l),t})))},t.Mc=function(t){if(!_r())return Zt(new Yr("operation-not-supported-in-this-environment"));var e=this;return kc(this,pc(this).then((function(){return function(t){return ac(t,(function(){return t.b.set(ic,t.c.C,t.a)}))}(e.h)})).then((function(){return ia(e.a,"signInViaRedirect",t,void 0,e.R())})))},t.oa=function(){var t=this;return fc(this).then((function(e){return t.a&&ca(t.a.b),e})).s((function(e){throw t.a&&ca(t.a.b),e}))},t.Rc=function(t){if(!t)return Zt(new Yr("null-user"));if(this.P!=t.tenantId)return Zt(new Yr("tenant-id-mismatch"));var e=this,n={};n.apiKey=yc(this).options.apiKey,n.authDomain=yc(this).options.authDomain,n.appName=yc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,l={};return l[Ao]=i.b,l.refreshToken=i.a,l.expiresIn=(i.c-E())/1e3,e=new Ta(e,l),n&&(e.da=n),r&&Ia(e,r),za(e,t),e}(t,n,e.w,e.Ca());return kc(this,this.i.then((function(){if(yc(e).options.apiKey!=t.l)return r.reload()})).then((function(){return _c(e)&&t.uid==_c(e).uid?(za(_c(e),t),e.aa(t)):(mc(e,r),Ra(r),e.aa(r))})).then((function(){wc(e)})))},t.pb=function(){var t=this;return kc(this,this.i.then((function(){return t.a&&ca(t.a.b),_c(t)?(mc(t,null),sc(t.h).then((function(){wc(t)}))):Yt()})))},t.Nc=function(){var t=this;return uc(this.h,yc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=_c(t)&&e){n=_c(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return za(_c(t),e),_c(t).G();(_c(t)||e)&&(mc(t,e),e&&(Ra(e),e.da=t.w),t.a&&Ju(t.a,t),wc(t))}}))},t.aa=function(t){return oc(this.h,t)},t.bc=function(){wc(this),this.aa(_c(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(_c(e))}))},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),kc(t,t.i.then((function(){!t.l&&q(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(bc(t)))})))}(this,(function(){t.next(_c(e))}))},t.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){m(t)?t(_c(r)):m(t.next)&&t.next(_c(r))})),this.Ub(t,e,n)},t.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),m(t)?t(_c(r)):m(t.next)&&t.next(_c(r))})),this.Vb(t,e,n)},t.cc=function(t){var e=this;return kc(this,this.i.then((function(){return _c(e)?_c(e).G(t).then((function(t){return{accessToken:t}})):null})))},t.Hc=function(t){var e=this;return this.i.then((function(){return vc(e,Es(e.b,_s,{token:t}))})).then((function(t){var n=t.user;return qa(n,"isAnonymous",!1),e.aa(n),t}))},t.Ic=function(t,e){var n=this;return this.i.then((function(){return vc(n,Es(n.b,bs,{email:t,password:e}))}))},t.Xb=function(t,e){var n=this;return this.i.then((function(){return vc(n,Es(n.b,Xo,{email:t,password:e}))}))},t.Sa=function(t){var e=this;return this.i.then((function(){return vc(e,t.na(e.b))}))},t.Gc=function(t){return Mr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(t)},t.ob=function(){var t=this;return this.i.then((function(){var e=_c(t);if(e&&e.isAnonymous){var n=Ur({providerId:null,isNewUser:!1});return Ur({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vc(t,t.b.ob()).then((function(e){var n=e.user;return qa(n,"isAnonymous",!0),t.aa(n),e}))}))},t.getUid=function(){return _c(this)&&_c(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&_c(this)&&Na(_c(this))},t.Ec=function(t){var e=this;j(this.m,(function(n){n==t&&e.o--})),0>this.o&&(this.o=0),0==this.o&&_c(this)&&Pa(_c(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),kc(this,this.i.then((function(){e.l||q(e.m,t)&&t(bc(e))})))},t.removeAuthTokenListener=function(t){H(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(lc("local"),t.a,this.ma),this.a&&(Xu(this.a,this),ca(this.a.b)),Promise.resolve()},t.$b=function(t){return kc(this,function(t,e){return Es(t,ts,{identifier:e,continueUri:br()?Jn():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.qc=function(t){return!!hl(t)},t.lb=function(t,e){var n=this;return kc(this,Yt().then((function(){var t=new ai(e);if(!t.c)throw new Yr("argument-error",di+" must be true when sending sign in link to email");return _i(t)})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},t.Uc=function(t){return this.Ma(t).then((function(t){return t.data.email}))},t.ab=function(t,e){return kc(this,this.b.ab(t,e).then((function(){})))},t.Ma=function(t){return kc(this,this.b.Ma(t).then((function(t){return new qr(t)})))},t.Ya=function(t){return kc(this,this.b.Ya(t).then((function(){})))},t.kb=function(t,e){var n=this;return kc(this,Yt().then((function(){return void 0===e||K(e)?{}:_i(new ai(e))})).then((function(e){return n.b.kb(t,e)})).then((function(){})))},t.Kc=function(t,e){return kc(this,ma(this,t,e,k(this.Sa,this)))},t.Jc=function(t,e){var n=this;return kc(this,Yt().then((function(){var r=e||Jn(),i=cl(t,r);if(!(r=hl(r)))throw new Yr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Yr("tenant-id-mismatch");return n.Sa(i)})))},Cc.prototype.render=function(){},Cc.prototype.reset=function(){},Cc.prototype.getResponse=function(){},Cc.prototype.execute=function(){};var Tc=null;function Sc(t,e){return(e=Ic(e))&&t.a[e]||null}function Ic(t){return(t=void 0===t?1e12:t)?t.toString():null}function xc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=zn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ge(this.f,"click",this.i)}function Ac(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Nc(){}Ec.prototype.render=function(t,e){return this.a[this.b.toString()]=new xc(t,e),this.b++},Ec.prototype.reset=function(t){var e=Sc(this,t);t=Ic(t),e&&t&&(e.delete(),delete this.a[t])},Ec.prototype.getResponse=function(t){return(t=Sc(this,t))?t.getResponse():null},Ec.prototype.execute=function(t){(t=Sc(this,t))&&t.execute()},xc.prototype.getResponse=function(){return Ac(this),this.b},xc.prototype.execute=function(){Ac(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},xc.prototype.delete=function(){Ac(this),this.g=!0,clearTimeout(this.a),this.a=null,Qe(this.f,"click",this.i)},Nc.prototype.g=function(){return Tc||(Tc=new Ec),Yt(Tc)},Nc.prototype.c=function(){};var Pc=null;function Oc(){this.b=o.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dc=new Z(tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rc=new Ar(3e4,6e4);Oc.prototype.g=function(t){var e=this;return new Ht((function(n,r){var i=setTimeout((function(){r(new Yr("network-request-failed"))}),Rc.get());!o.grecaptcha||t!==e.f&&!e.b?(o[e.a]=function(){if(o.grecaptcha){e.f=t;var l=o.grecaptcha.render;o.grecaptcha.render=function(t,n){return t=l(t,n),e.b++,t},clearTimeout(i),n(o.grecaptcha)}else clearTimeout(i),r(new Yr("internal-error"));delete o[e.a]},Yt(bo(it(Dc,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new Yr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(o.grecaptcha))}))},Oc.prototype.c=function(){this.b--};var Mc=null;function Lc(t,e,n,r,i,l,s){if(Fr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,s?(Pc||(Pc=new Nc),s=Pc):(Mc||(Mc=new Oc),s=Mc),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Uc])throw new Yr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Vc],!o.document)throw new Yr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!zn(e)||!this.i&&zn(e).hasChildNodes())throw new Yr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Io(t,l||null,i||null),this.v=r||function(){return null};var u=this;this.l=[];var a=this.a[Fc];this.a[Fc]=function(t){if(qc(u,t),"function"==typeof a)a(t);else if("string"==typeof a){var e=vr(a,o);"function"==typeof e&&e(t)}};var c=this.a[jc];this.a[jc]=function(){if(qc(u,null),"function"==typeof c)c();else if("string"==typeof c){var t=vr(c,o);"function"==typeof t&&t()}}}var Fc="callback",jc="expired-callback",Uc="sitekey",Vc="size";function qc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function zc(t,e){return t.h.push(e),e.ka((function(){z(t.h,e)})),e}function Hc(t){if(t.B)throw new Yr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bc(t,e,n){var r=!1;try{this.b=n||HS.a.app()}catch(o){throw new Yr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Yr("invalid-api-key");n=this.b.options.apiKey;var i=this,l=null;try{l=this.b.auth().Ca()}catch(o){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(o){}l=HS.a.SDK_VERSION?gr(HS.a.SDK_VERSION,l):null,Lc.call(this,n,t,e,(function(){try{var t=i.b.auth().ha()}catch(e){t=null}return t}),l,Ii(Ti),r)}function Wc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,l=!1,o=0;o<e.length;o++)if(e[o].optional)l=!0;else{if(l)throw new Yr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(l=e.length,n.length<i||l<n.length)r="Expected "+(i==l?1==i?"1 argument":i+" arguments":i+"-"+l+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(l=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!l){if(e=e[i],0>i||i>=Gc.length)throw new Yr("internal-error","Argument validator received an unsupported number of arguments.");n=Gc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Yr("argument-error",t+" failed: "+r)}(t=Lc.prototype).Da=function(){var t=this;return this.f?this.f:this.f=zc(this,Yt().then((function(){if(br()&&!ur())return lr();throw new Yr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,Es(t.o,cs,{})})).then((function(e){t.a[Uc]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Hc(this);var t=this;return zc(this,this.Da().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=zn(e);e=function(t,e,n){var r=arguments,i=document,l=String(r[0]),o=r[1];if(!qn&&o&&(o.name||o.type)){if(l=["<",l],o.name&&l.push(' name="',Ft(o.name),'"'),o.type){l.push(' type="',Ft(o.type),'"');var u={};Y(u,o),delete u.type,o=u}l.push(">"),l=l.join("")}return l=i.createElement(l),o&&(s(o)?l.className=o:f(o)?l.className=o.join(" "):Hn(l,o)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(s(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var l=n[i];!g(l)||v(l)&&0<l.nodeType?r(l):j(Wn(l)?W(l):l,r)}}(i,l,r),l}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Hc(this);var t=this;return zc(this,this.render().then((function(e){return new Ht((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){H(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Hc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Hc(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=zn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Bc,Lc);var Gc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Kc(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:s}}function $c(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:u}}function Qc(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:v}}function Yc(t,e){return{name:t||"",M:"a function",optional:!!e,N:m}}function Zc(t,e){return{name:t||"",M:"null",optional:!!e,N:p}}function Jc(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){return!!e&&!(!e.na||t&&e.providerId!==t)}}}function Xc(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&s(t.type)&&m(t.verify))}}}function th(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function eh(t,e){for(var n in e){var r=e[n].name;t[r]=ih(r,t[n],e[n].j)}}function nh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:C((function(t){return this[t]}),n),set:C((function(t,e,n,r){Wc(t,[n],[r],!0),this[e]=r}),r,n,e[n].Za),enumerable:!0})}}function rh(t,e,n,r){t[e]=ih(e,n,r)}function ih(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Wc(l,n,t),e.apply(this,t)}if(!n)return e;var i,l=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}eh(cc.prototype,{Ya:{name:"applyActionCode",j:[Kc("code")]},Ma:{name:"checkActionCode",j:[Kc("code")]},ab:{name:"confirmPasswordReset",j:[Kc("code"),Kc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Kc("email"),Kc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Kc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Kc("emailLink")]},wc:{name:"onAuthStateChanged",j:[th(Qc(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[th(Qc(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Kc("email"),th(Qc("opt_actionCodeSettings",!0),Zc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Kc("email"),Qc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Kc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Jc()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[Jc()]},Hc:{name:"signInWithCustomToken",j:[Kc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Kc("email"),Kc("password")]},Jc:{name:"signInWithEmailLink",j:[Kc("email"),Kc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Kc("phoneNumber"),Xc()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[th({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Ta)}},Zc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Kc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Kc("code")]}}),nh(cc.prototype,{lc:{name:"languageCode",Za:th(Kc(),Zc(),"languageCode")},ti:{name:"tenantId",Za:th(Kc(),Zc(),"tenantId")}}),(cc.Persistence=yu).LOCAL="local",cc.Persistence.SESSION="session",cc.Persistence.NONE="none",eh(Ta.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[$c("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[$c("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Jc()]},fb:{name:"linkWithCredential",j:[Jc()]},sc:{name:"linkWithPhoneNumber",j:[Kc("phoneNumber"),Xc()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jc()]},hb:{name:"reauthenticateWithCredential",j:[Jc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Kc("phoneNumber"),Xc()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[th(Qc("opt_actionCodeSettings",!0),Zc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Kc(null,!0)]},Qc:{name:"unlink",j:[Kc("provider")]},rb:{name:"updateEmail",j:[Kc("email")]},sb:{name:"updatePassword",j:[Kc("password")]},Sc:{name:"updatePhoneNumber",j:[Jc("phone")]},tb:{name:"updateProfile",j:[Qc("profile")]}}),eh(Ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(Cc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(Ht.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nh(fa.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:$c("appVerificationDisabledForTesting")}}),eh(ga.prototype,{confirm:{name:"confirm",j:[Kc("verificationCode")]}}),rh(zi,"fromJSON",(function(t){t=s(t)?JSON.parse(t):t;for(var e,n=[Qi,ul,pl,Gi],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[th(Kc(),Qc(),"json")]),rh(al,"credential",(function(t,e){return new sl(t,e)}),[Kc("email"),Kc("password")]),eh(sl.prototype,{A:{name:"toJSON",j:[Kc(null,!0)]}}),eh(Xi.prototype,{ya:{name:"addScope",j:[Kc("scope")]},Ga:{name:"setCustomParameters",j:[Qc("customOAuthParameters")]}}),rh(Xi,"credential",tl,[th(Kc(),Qc(),"token")]),rh(al,"credentialWithLink",cl,[Kc("email"),Kc("emailLink")]),eh(el.prototype,{ya:{name:"addScope",j:[Kc("scope")]},Ga:{name:"setCustomParameters",j:[Qc("customOAuthParameters")]}}),rh(el,"credential",nl,[th(Kc(),Qc(),"token")]),eh(rl.prototype,{ya:{name:"addScope",j:[Kc("scope")]},Ga:{name:"setCustomParameters",j:[Qc("customOAuthParameters")]}}),rh(rl,"credential",il,[th(Kc(),th(Qc(),Zc()),"idToken"),th(Kc(),Zc(),"accessToken",!0)]),eh(ll.prototype,{Ga:{name:"setCustomParameters",j:[Qc("customOAuthParameters")]}}),rh(ll,"credential",ol,[th(Kc(),Qc(),"token"),Kc("secret",!0)]),eh(Ji.prototype,{ya:{name:"addScope",j:[Kc("scope")]},credential:{name:"credential",j:[th(Kc(),th(Qc(),Zc()),"optionsOrIdToken"),th(Kc(),Zc(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[Qc("customOAuthParameters")]}}),eh(Ki.prototype,{A:{name:"toJSON",j:[Kc(null,!0)]}}),eh(Bi.prototype,{A:{name:"toJSON",j:[Kc(null,!0)]}}),rh(gl,"credential",ml,[Kc("verificationId"),Kc("verificationCode")]),eh(gl.prototype,{Wa:{name:"verifyPhoneNumber",j:[Kc("phoneNumber"),Xc()]}}),eh(dl.prototype,{A:{name:"toJSON",j:[Kc(null,!0)]}}),eh(Yr.prototype,{toJSON:{name:"toJSON",j:[Kc(null,!0)]}}),eh(Tl.prototype,{toJSON:{name:"toJSON",j:[Kc(null,!0)]}}),eh(El.prototype,{toJSON:{name:"toJSON",j:[Kc(null,!0)]}}),eh(Bc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rh(ti,"parseLink",ui,[Kc("link")]),function(){if(void 0===HS.a||!HS.a.INTERNAL||!HS.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cc,AuthCredential:zi,Error:Yr};rh(t,"EmailAuthProvider",al,[]),rh(t,"FacebookAuthProvider",Xi,[]),rh(t,"GithubAuthProvider",el,[]),rh(t,"GoogleAuthProvider",rl,[]),rh(t,"TwitterAuthProvider",ll,[]),rh(t,"OAuthProvider",Ji,[Kc("providerId")]),rh(t,"SAMLAuthProvider",Zi,[Kc("providerId")]),rh(t,"PhoneAuthProvider",gl,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof cc)}}]),rh(t,"RecaptchaVerifier",Bc,[th(Kc(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Qc("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof HS.a.app.App)}}]),rh(t,"ActionCodeURL",ti,[]),HS.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new cc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),HS.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:k((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:k(t.cc,t),addAuthTokenListener:k(t.Wb,t),removeAuthTokenListener:k(t.Ec,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),HS.a.registerVersion("@firebase/auth","0.13.6"),HS.a.INTERNAL.extendNamespace({User:Ta})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let Lx=class{};function Fx(t){return null==t}function jx(t){return"function"==typeof t.set}function Ux(t,e){return jx(e)?e:t.ref(e)}function Vx(t,e){if("string"==typeof t)return e.stringCase();if(jx(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function qx(t,e,n="on",r=Ms){return new b(i=>{let l=null;return l=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"==n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"==n?{unsubscribe(){null!=l&&t.off(e,l)}}:{unsubscribe(){}}}).pipe(F(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),it())}function zx(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Hx(t,e){const{payload:n,prevKey:r,key:i}=e,l=zx(t,i),o=function(t,e){if(Fx(e))return 0;{const n=zx(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(l>-1){const i=t[l-1];(i&&i.key||null)!=r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(o,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(l>-1){const e=t.splice(l,1)[0];return(t=t.slice()).splice(o,0,e),t}return t;default:return t}}function Bx(t){return(Fx(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Wx(t,e,n){return function(t,e,n){return qx(t,"value","once",n).pipe(Dc(r=>{const i=[Ns(r)];return e.forEach(e=>i.push(qx(t,e,"on",n))),$(...i).pipe(Ys(Hx,[]))}),Ow())}(t,e=Bx(e),n)}function Gx(t,e,n){return $(...(e=Bx(e)).map(e=>qx(t,e,"on",n)))}class Kx{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new $x(t,this.observables,this.project))}}class $x extends L{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(M(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const l=this.toRespond;if(l.length>0){const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Qx{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Yx(t,this.predicate))}}class Yx extends f{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function Zx(t,e){return function(n,r){return Vx(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function Jx(t,e){return function(){return qx(t,"value","on",e)}}let Xx=class{constructor(t,e,n,r,i){this.schedulers=new Fa(i),this.keepUnstableUntilFirst=ja(this.schedulers,r),this.database=i.runOutsideAngular(()=>$a(t,i,e).database(n||void 0))}list(t,e){const n=Ux(this.database,t);let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular;return{query:t,update:Zx(t.ref,"update"),set:Zx(t.ref,"set"),push:e=>t.ref.push(e),remove:(r=t.ref,function(t){return t?Vx(t,{stringCase:()=>r.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):r.remove()}),snapshotChanges:r=>Wx(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>Gx(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>(function(t,e,n){return function(t,e,n){return function(t,e){return qx(t,"value","on",e).pipe(F(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Kx(t,n))}}(e),F(([t,e])=>{let n=t.lastKeyToLoad;const r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new Qx(r))),F(t=>t.actions));var r}(t,Gx(t,e).pipe(Ys((t,e)=>[...t,e],[])),n)})(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:r=>Wx(t,r,n).pipe(e.keepUnstableUntilFirst,F(t=>t.map(t=>t.payload.val())))};var r}(r,this)}object(t){const e=Ux(this.database,t);return r=this,{query:n=e,snapshotChanges:()=>Jx(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Jx(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,F(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.database.ref().push().key}};n("NSPt");let tA=class{};class eA extends ig{constructor(){super(...arguments),this.hiragana={a:[{hits:0,misses:0,hiragana:"\u3042\u304a\u3044",german:"blau"},{hits:0,misses:0,hiragana:"\u3046\u3048",german:"oben"},{hits:0,misses:0,hiragana:"\u3042\u3046",german:"jmd. treffen"},{hits:0,misses:0,hiragana:"\u3044\u3044\u3048",german:"h\xf6fliches nein"},{hits:0,misses:0,hiragana:"\u304a\u3046",german:"K\xf6nig"},{hits:0,misses:0,hiragana:"\u3048\u3048",german:"ja (unter Freunden)"},{hits:0,misses:0,hiragana:"\u3044\u3044",german:"gut"},{hits:0,misses:0,hiragana:"\u3042\u3044",german:"Liebe"},{hits:0,misses:0,hiragana:"\u304a\u304a\u3044",german:"viel"},{hits:0,misses:0,hiragana:"\u3044\u3048",german:"Haus"}],ka:[{hits:0,misses:0,hiragana:"\u3044\u304f",german:"gehen"},{hits:0,misses:0,hiragana:"\u3053\u3048",german:"Stimme"},{hits:0,misses:0,hiragana:"\u3042\u304d",german:"Herbst"},{hits:0,misses:0,hiragana:"\u3048\u304d",german:"Bahnhof"},{hits:0,misses:0,hiragana:"\u3044\u3051",german:"Teich"},{hits:0,misses:0,hiragana:"\u304b\u3052",german:"Schatten"},{hits:0,misses:0,hiragana:"\u304b\u304f",german:"schreiben"},{hits:0,misses:0,hiragana:"\u3042\u304b\u3044",german:"rot (adjektiv)"},{hits:0,misses:0,hiragana:"\u304d\u304b\u3044",german:"Gelegenheit, Maschine"},{hits:0,misses:0,hiragana:"\u304c\u3044\u3053\u304f",german:"Ausland"}],sa:[{hits:0,misses:0,hiragana:"\u3051\u3055",german:"heute morgen"},{hits:0,misses:0,hiragana:"\u3055\u3051",german:"Alkohol, jap. Reiswein"},{hits:0,misses:0,hiragana:"\u3044\u3057",german:"Stein"},{hits:0,misses:0,hiragana:"\u3042\u3055",german:"der Morgen"},{hits:0,misses:0,hiragana:"\u3059\u3044\u304b",german:"Wassermelone"},{hits:0,misses:0,hiragana:"\u3044\u3059",german:"Sessel"},{hits:0,misses:0,hiragana:"\u3059\u3057",german:"Sushi"},{hits:0,misses:0,hiragana:"\u304b\u305b",german:"Wind, Erk\xe4ltung"},{hits:0,misses:0,hiragana:"\u3042\u305d\u3053",german:"dort dr\xfcben"},{hits:0,misses:0,hiragana:"\u304b\u305d\u304f",german:"Familie"}],ta:[{hits:0,misses:0,hiragana:"\u3042\u3064\u3044",german:"hei\xdf"},{hits:0,misses:0,hiragana:"\u3061\u3061",german:"mein Vater"},{hits:0,misses:0,hiragana:"\u3064\u304f\u3048",german:"Tisch"},{hits:0,misses:0,hiragana:"\u3068\u304d",german:"Zeit"},{hits:0,misses:0,hiragana:"\u3068\u304d\u3069\u304d",german:"manchmal"},{hits:0,misses:0,hiragana:"\u3068\u3051\u3044",german:"Uhr"},{hits:0,misses:0,hiragana:"\u304a\u3068\u3046\u3068",german:"mein j\xfcngerer Bruder"},{hits:0,misses:0,hiragana:"\u3066\u3064\u3060\u3046",german:"helfen"},{hits:0,misses:0,hiragana:"\u3055\u3068\u3046",german:"Zucker"},{hits:0,misses:0,hiragana:"\u304f\u3061",german:"Mund"}],na:[{hits:0,misses:0,hiragana:"\u3042\u306d",german:"meine \xe4ltere Schwester"},{hits:0,misses:0,hiragana:"\u306d\u3053",german:"Katze"},{hits:0,misses:0,hiragana:"\u3044\u306c",german:"Hund"},{hits:0,misses:0,hiragana:"\u306a\u3064",german:"Sommer"},{hits:0,misses:0,hiragana:"\u3042\u306b",german:"mein \xe4lterer Bruder"},{hits:0,misses:0,hiragana:"\u304d\u306e\u3046",german:"gestern"},{hits:0,misses:0,hiragana:"\u305f\u306d",german:"Samen"},{hits:0,misses:0,hiragana:"\u304d\u306e\u3053",german:"Pilz"},{hits:0,misses:0,hiragana:"\u306b\u304f",german:"Fleisch"},{hits:0,misses:0,hiragana:"\u304f\u306b",german:"Land"}],ha:[{hits:0,misses:0,hiragana:"\u307c\u304f",german:"Ich (relativ h\xf6flich, verwendet von M\xe4nnern)"},{hits:0,misses:0,hiragana:"\u3075\u306d",german:"Boot"},{hits:0,misses:0,hiragana:"\u3078\u3073",german:"Schlange"},{hits:0,misses:0,hiragana:"\u306f\u306f",german:"meine Mutter"},{hits:0,misses:0,hiragana:"\u307b\u3057",german:"Stern"},{hits:0,misses:0,hiragana:"\u3072\u304f\u3044",german:"niedrig"},{hits:0,misses:0,hiragana:"\u3072\u3068",german:"Mensch, Person"},{hits:0,misses:0,hiragana:"\u3072\u3053\u3046\u304d",german:"Flugzeug"},{hits:0,misses:0,hiragana:"\u306f\u3057",german:"St\xe4bchen (zum Essen)"},{hits:0,misses:0,hiragana:"\u3075\u304f",german:"Kleidung"}],ma:[{hits:0,misses:0,hiragana:"\u3081\u304c\u306d",german:"Brille"},{hits:0,misses:0,hiragana:"\u306f\u3055\u307f",german:"Schere"},{hits:0,misses:0,hiragana:"\u3082\u3082",german:"Pfirsich"},{hits:0,misses:0,hiragana:"\u3080\u3059\u3053",german:"Sohn"},{hits:0,misses:0,hiragana:"\u3067\u3082",german:"aber"},{hits:0,misses:0,hiragana:"\u3066\u304c\u307f",german:"Brief"},{hits:0,misses:0,hiragana:"\u3055\u3080\u3044",german:"kalt (Luft)"},{hits:0,misses:0,hiragana:"\u307f\u307f",german:"Ohr"},{hits:0,misses:0,hiragana:"\u307e\u3069",german:"Fenster"},{hits:0,misses:0,hiragana:"\u3069\u3046\u3082",german:"Danke"}],ya:[{hits:0,misses:0,hiragana:"\u3084\u307e",german:"Berg"},{hits:0,misses:0,hiragana:"\u3088\u3080",german:"Lesen"},{hits:0,misses:0,hiragana:"\u304a\u306f\u3088\u3046",german:"guten Morgen (kurform, unter Freunden)"},{hits:0,misses:0,hiragana:"\u3086\u3081",german:"Traum"},{hits:0,misses:0,hiragana:"\u3086\u304d",german:"Schnee"},{hits:0,misses:0,hiragana:"\u3075\u3086",german:"Winter"},{hits:0,misses:0,hiragana:"\u3088\u3084\u304f",german:"Reservierung"},{hits:0,misses:0,hiragana:"\u3086\u304b\u305f",german:"Yukata"},{hits:0,misses:0,hiragana:"\u3084\u3059\u3044",german:"billig"},{hits:0,misses:0,hiragana:"\u304a\u3084\u3059\u307f",german:"gute Nacht (unter Freunden)"}],ra:[{hits:0,misses:0,hiragana:"\u308c\u3044",german:"Null, Beispiel"},{hits:0,misses:0,hiragana:"\u3070\u3089",german:"Rose"},{hits:0,misses:0,hiragana:"\u3044\u308d",german:"Farbe"},{hits:0,misses:0,hiragana:"\u3082\u308a",german:"Wald"},{hits:0,misses:0,hiragana:"\u306f\u308b",german:"Fr\xfchling"},{hits:0,misses:0,hiragana:"\u3057\u308d\u3044",german:"wei\xdf"},{hits:0,misses:0,hiragana:"\u304f\u308d\u3044",german:"schwarz"},{hits:0,misses:0,hiragana:"\u3057\u308d",german:"Schloss"},{hits:0,misses:0,hiragana:"\u3046\u308b\u3055\u3044",german:"laut, l\xe4stig"},{hits:0,misses:0,hiragana:"\u304f\u3089\u3044",german:"dunkel"}],wa:[{hits:0,misses:0,hiragana:"\u308f\u308b\u3044",german:"schlecht"},{hits:0,misses:0,hiragana:"\u308f\u304b\u3044",german:"jung"},{hits:0,misses:0,hiragana:"\u304b\u308f\u3044\u3044",german:"niedlich"},{hits:0,misses:0,hiragana:"\u304b\u308f",german:"Fluss"},{hits:0,misses:0,hiragana:"\u308f\u305f\u3057",german:"Ich, (h\xf6flich, beide Geschlechter)"},{hits:0,misses:0,hiragana:"\u308f\u306b",german:"Krokodil"},{hits:0,misses:0,hiragana:"\u306b\u308f",german:"Garten"},{hits:0,misses:0,hiragana:"\u308f\u3089\u3046",german:"lachen"},{hits:0,misses:0,hiragana:"\u308f\u304c\u3057",german:"jap. traditionelle S\xfc\xdfigkeiten"},{hits:0,misses:0,hiragana:"\u308f\u3057",german:"jap. Papier"}],n:[{hits:0,misses:0,hiragana:"\u304b\u3093\u3071\u3044",german:"Prost"},{hits:0,misses:0,hiragana:"\u305b\u3093\u305b\u3044",german:"Lehrer"},{hits:0,misses:0,hiragana:"\u3055\u3093",german:"drei, Herr, Frau, chin. Lesung von Berg"},{hits:0,misses:0,hiragana:"\u306b\u307b\u3093",german:"Japan"},{hits:0,misses:0,hiragana:"\u304d\u3093",german:"Gold"},{hits:0,misses:0,hiragana:"\u3066\u3093\u306e\u3046",german:"jap. Kaiser"},{hits:0,misses:0,hiragana:"\u3055\u3093\u307d",german:"Spaziergang"},{hits:0,misses:0,hiragana:"\u307b\u3093",german:"Buch"},{hits:0,misses:0,hiragana:"\u3082\u3093\u3060\u3044",german:"Frage, Problem"},{hits:0,misses:0,hiragana:"\u3066\u3093\u3077\u3089",german:"Tempura"}],combinations:[{hits:0,misses:0,hiragana:"\u3068\u3046\u304d\u3087\u3046",german:"Tokio"},{hits:0,misses:0,hiragana:"\u3073\u3087\u3046\u304d",german:"krank"},{hits:0,misses:0,hiragana:"\u3057\u3085\u304f\u3060\u3044",german:"Hausaufgabe"},{hits:0,misses:0,hiragana:"\u3058\u3085\u304e\u3087\u3046",german:"Unterricht"},{hits:0,misses:0,hiragana:"\u304b\u3044\u3057\u3083",german:"Firma"},{hits:0,misses:0,hiragana:"\u304a\u3061\u3083",german:"Tee"},{hits:0,misses:0,hiragana:"\u3057\u3085\u307f",german:"Hobby"},{hits:0,misses:0,hiragana:"\u304d\u3087\u3046",german:"heute"},{hits:0,misses:0,hiragana:"\u3067\u3093\u3057\u3083",german:"Zug"},{hits:0,misses:0,hiragana:"\u3058\u3057\u3087",german:"W\xf6rterbuch"}],tsu:[{hits:0,misses:0,hiragana:"\u304d\u3063\u3077",german:"Fahrkarte"},{hits:0,misses:0,hiragana:"\u3056\u3063\u3057",german:"Magazin, Zeitschrift"},{hits:0,misses:0,hiragana:"\u3086\u3063\u304f\u308a",german:"langsam und gem\xe4chlich (ohne Stress)"},{hits:0,misses:0,hiragana:"\u304c\u3063\u3053\u3046",german:"Schule"},{hits:0,misses:0,hiragana:"\u3061\u3087\u3063\u3068",german:"ein bisschen"},{hits:0,misses:0,hiragana:"\u3044\u3063\u3071\u3044",german:"viel, voll"},{hits:0,misses:0,hiragana:"\u3051\u3063\u3053\u3093",german:"Hochzeit, Heirat"},{hits:0,misses:0,hiragana:"\u306b\u3063\u304d",german:"Tagebuch"}]},this.katakana={a:[{hits:0,misses:0,katakana:"\u30a2\u30b8\u30a2",german:"Asien"},{hits:0,misses:0,katakana:"\u30b1\u30fc\u30ad",german:"Kuchen"},{hits:0,misses:0,katakana:"\u30b1\u30fc\u30b9",german:"Koffer, Beh\xe4lter"},{hits:0,misses:0,katakana:"\u30b9\u30a4\u30b9",german:"Schweiz"},{hits:0,misses:0,katakana:"\u30bd\u30fc\u30bb\u30fc\u30b8",german:"W\xfcrstchen"},{hits:0,misses:0,katakana:"\u30b9\u30ad\u30fc",german:"Ski"}],ta:[{hits:0,misses:0,katakana:"\u30b9\u30ab\u30fc\u30c8",german:"Rock (skirt)"},{hits:0,misses:0,katakana:"\u30b9\u30b1\u30fc\u30c8",german:"Skate"},{hits:0,misses:0,katakana:"\u30b5\u30c3\u30ab\u30fc",german:"Fu\xdfball (soccer)"},{hits:0,misses:0,katakana:"\u30bf\u30af\u30b7\u30fc",german:"Taxi"},{hits:0,misses:0,katakana:"\u30b9\u30fc\u30c4",german:"Anzug (suit)"},{hits:0,misses:0,katakana:"\u30bf\u30a4",german:"Thailand, Krawatte (tie)"},{hits:0,misses:0,katakana:"\u30ae\u30bf\u30fc",german:"Gitarre"},{hits:0,misses:0,katakana:"\u30b3\u30fc\u30c8",german:"Mantel (coat)"},{hits:0,misses:0,katakana:"\u30bb\u30fc\u30bf\u30fc",german:"Sweater"},{hits:0,misses:0,katakana:"\u30c6\u30b9\u30c8",german:"Test, Pr\xfcfung"},{hits:0,misses:0,katakana:"\u30c9\u30a2",german:"T\xfcr (door)"},{hits:0,misses:0,katakana:"\u30c9\u30a4\u30c4",german:"Deutsch(land)"},{hits:0,misses:0,katakana:"\u30c1\u30fc\u30ba",german:"K\xe4se (cheese)"}],na:[{hits:0,misses:0,katakana:"\u30cd\u30af\u30bf\u30a4",german:"Krawatte (lange Version)"},{hits:0,misses:0,katakana:"\u30ca\u30a4\u30d5",german:"Messer (knife)"},{hits:0,misses:0,katakana:"\u30ce\u30fc\u30c8",german:"Notiz(block)"},{hits:0,misses:0,katakana:"\u30d0\u30b9",german:"Bus"},{hits:0,misses:0,katakana:"\u30ab\u30ca\u30c0",german:"Kanada"},{hits:0,misses:0,katakana:"\u30c6\u30cb\u30b9",german:"Tennis"},{hits:0,misses:0,katakana:"\u30d0\u30fc",german:"Bar"},{hits:0,misses:0,katakana:"\u30b3\u30fc\u30d2\u30fc",german:"Kaffee"},{hits:0,misses:0,katakana:"\u30b9\u30fc\u30d7",german:"Suppe"},{hits:0,misses:0,katakana:"\u30dd\u30b9\u30c8",german:"Post, Postkasten"},{hits:0,misses:0,katakana:"\u30b9\u30fc\u30d1\u30fc",german:"Supermarkt"},{hits:0,misses:0,katakana:"\u30a2\u30d1\u30fc\u30c8",german:"Apartment, Wohnung"},{hits:0,misses:0,katakana:"\u30b3\u30c3\u30d7",german:"Tasse (cup)"},{hits:0,misses:0,katakana:"\u30da\u30fc\u30b8",german:"Seite (page)"},{hits:0,misses:0,katakana:"\u30d3\u30c7\u30aa",german:"Video"},{hits:0,misses:0,katakana:"\u30d4\u30b6",german:"Pizza"},{hits:0,misses:0,katakana:"\u30c6\u30fc\u30d7",german:"Kassette (tape)"},{hits:0,misses:0,katakana:"\u30c7\u30d1\u30fc\u30c8",german:"Kaufhaus (department store)"},{hits:0,misses:0,katakana:"\u30d4\u30a2\u30ce",german:"Klavier (Piano)"}],ma:[{hits:0,misses:0,katakana:"\u30c0\u30f3\u30b9",german:"Tanz"},{hits:0,misses:0,katakana:"\u30d1\u30bd\u30b3\u30f3",german:"PC (personal computer - Abk.)"},{hits:0,misses:0,katakana:"\u30a2\u30e1\u30ea\u30ab",german:"Amerika"},{hits:0,misses:0,katakana:"\u30aa\u30fc\u30b9\u30c8\u30ea\u30a2",german:"\xd6sterreich"},{hits:0,misses:0,katakana:"\u30ef\u30f3",german:"Wuff, wau (Hundelaut, Onomatopoesie)"},{hits:0,misses:0,katakana:"\u30d1\u30c1\u30f3\u30b3",german:"Pachinko"},{hits:0,misses:0,katakana:"\u30b3\u30fc\u30e9",german:"Cola"},{hits:0,misses:0,katakana:"\u30c6\u30ec\u30d3",german:"TV (Television)"},{hits:0,misses:0,katakana:"\u30af\u30e9\u30b9",german:"Klasse"},{hits:0,misses:0,katakana:"\u30c8\u30a4\u30ec",german:"Toilette"},{hits:0,misses:0,katakana:"\u30ec\u30b9\u30c8\u30e9\u30f3",german:"Restaurant (westliches)"},{hits:0,misses:0,katakana:"\u30e8\u30fc\u30ed\u30c3\u30d1",german:"Europa"},{hits:0,misses:0,katakana:"\u30d3\u30fc\u30eb",german:"Bier"},{hits:0,misses:0,katakana:"\u30ef\u30a4\u30f3",german:"Wein"},{hits:0,misses:0,katakana:"\u30ed\u30b7\u30a2",german:"Russland"},{hits:0,misses:0,katakana:"\u30ab\u30e1\u30e9",german:"Kamera"},{hits:0,misses:0,katakana:"\u30ab\u30f3",german:"Dose (can)"},{hits:0,misses:0,katakana:"\u30bc\u30df",german:"Seminar"}],ya:[{hits:0,misses:0,katakana:"\u30b8\u30e7\u30ae\u30f3\u30b0",german:"Jogging"},{hits:0,misses:0,katakana:"\u30cb\u30e5\u30fc\u30b9",german:"Nachrichten, Neuigkeiten (news)"},{hits:0,misses:0,katakana:"\u30e1\u30cb\u30e5\u30fc",german:"Speisekarte (menu)"},{hits:0,misses:0,katakana:"\u30d0\u30c3\u30af",german:"Tasche (Handtasche)"},{hits:0,misses:0,katakana:"\u30b8\u30e5\u30fc\u30b9",german:"Saft (juice)"},{hits:0,misses:0,katakana:"\u30b7\u30e3\u30ef\u30fc",german:"Dusche (shower)"},{hits:0,misses:0,katakana:"\u30ef\u30a4\u30b7\u30e3\u30c4",german:"Businesshemd (von white shirt)"}],aieo:[{hits:0,misses:0,katakana:"\u30a6\u30a4\u30fc\u30f3",german:"Wien"},{hits:0,misses:0,katakana:"\u30c7\u30a3\u30b9\u30b3",german:"Disko"},{hits:0,misses:0,katakana:"\u30d5\u30a9\u30fc\u30af",german:"Gabel (fork)"},{hits:0,misses:0,katakana:"\u30c1\u30a7\u30b9",german:"Schach (chess)"},{hits:0,misses:0,katakana:"\u30e2\u30fc\u30c4\u30a1\u30eb\u30c8",german:"Mozart"},{hits:0,misses:0,katakana:"\u30b8\u30a7\u30fc\u30e0\u30b9",german:"James (engl. Name)"},{hits:0,misses:0,katakana:"\u30b7\u30e5\u30cb\u30c3\u30c4\u30a7\u30eb",german:"Schnitzel"}]}}getAll(){return this.getAllHiragana().concat(this.getAllKatakana())}getAllHiragana(){return this.getForRows(["a","ka","sa","ta","na","ha","ma","ya","ra","wa","n","combinations","tsu"],this.hiragana)}getAllKatakana(){return this.getForRows(["a","ta","na","ma","ya","aieo"],this.katakana)}getHiraganaForRows(t){let e=[];return t.forEach(t=>{e=e.concat(this.hiragana[t])}),e}getKatakanaForRows(t){let e=[];return t.forEach(t=>{e=e.concat(this.katakana[t])}),e}getForRows(t,e){let n=[];return t.forEach(t=>{n=n.concat(e[t])}),n}}class nA{}let rA=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return this.auth.user.pipe(Ic(1),F(t=>!!t),ka(t=>{t||(console.log("access denied"),this.router.navigate(["/"]))}))}}return t.ngInjectableDef=pt({factory:function(){return new t(jt(ng),jt(kf))},token:t,providedIn:"root"}),t})();var iA=Ss(xs,[ic],(function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const l=t[i];l.token===Oe&&!0===l.value&&(r=!0),1073741824&l.flags&&n.push(l.token),l.index=i,e[Zn(l.token)]=l}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([Rr(512,on,sn,[[8,[tg,mg,Dm,Vm,Tv,Wv,Ny,Fy,yv,zy,Ky,n_,u_,g_,Ob,qb,Kb,ow,xw,_k,hC,LC]],[3,on],qt]),Rr(5120,Qi,Zl,[[3,Qi]]),Rr(4608,Bu,Wu,[Qi,[2,Hu]]),Rr(4608,bm,bm,[]),Rr(4608,Fg,Fg,[]),Rr(5120,xi,Jl,[pl]),Rr(5120,zi,Hi,[]),Rr(5120,An,Ql,[]),Rr(5120,Nn,Yl,[]),Rr(4608,Wh,Gh,[da]),Rr(6144,Te,null,[Wh]),Rr(4608,jh,Vh,[]),Rr(5120,oh,(function(t,e,n,r,i,l,o,s){return[new Lh(t,e,n),new Bh(r),new qh(i,l,o,s)]}),[da,pl,Gi,da,da,jh,$i,[2,Uh]]),Rr(4608,sh,sh,[oh,pl]),Rr(135680,ch,ch,[da]),Rr(4608,vh,vh,[sh,ch,zi]),Rr(5120,dE,PS,[]),Rr(5120,pT,OS,[]),Rr(4608,QT,NS,[da,dE,pT]),Rr(5120,pn,DS,[vh,QT,pl]),Rr(6144,ah,null,[ch]),Rr(4608,bl,bl,[pl]),Rr(4608,FC,wS,[pn,da]),Rr(5120,TC,PC,[xC,Gi]),Rr(4608,SC,SC,[TC]),Rr(4608,IC,IC,[TC]),Rr(5120,Ga,$a,[za,pl,[2,Ha]]),Rr(4608,nc,nc,[za,[2,Ha],[2,Ya],[2,Ja],Gi,pl,[2,Za]]),Rr(4608,qS,qS,[za,[2,Ha],[2,VS],Gi,pl]),Rr(4608,eg,eg,[za,[2,Ha],Gi,pl]),Rr(4608,Xx,Xx,[za,[2,Ha],[2,Da],Gi,pl]),Rr(5120,cp,Gf,[kf]),Rr(4608,Df,Df,[]),Rr(6144,Pf,null,[Df]),Rr(135680,Rf,Rf,[kf,Ml,nl,Re,Pf]),Rr(4608,Of,Of,[]),Rr(5120,Mf,qf,[kf,va,Lf]),Rr(5120,Yf,Qf,[Kf]),Rr(5120,Ki,(function(t){return[t]}),[Yf]),Rr(4608,eA,eA,[]),Rr(4608,ig,ig,[]),Rr(1073742336,ha,ha,[]),Rr(1073742336,_m,_m,[]),Rr(1073742336,wm,wm,[]),Rr(1073742336,nA,nA,[]),Rr(1024,Xt,td,[]),Rr(1024,xl,(function(){return[Uf()]}),[]),Rr(512,Kf,Kf,[Re]),Rr(256,AC,"ngsw-worker.js",[]),Rr(256,xC,{enabled:!0},[]),Rr(1024,Vi,(function(t,e,n,r,i,l){return[(o=t,rh("probe",lh),rh("coreTokens",Object.assign({},ih,(o||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>lh),$f(e),NC(n,r,i,l)];var o}),[[2,xl],Kf,Re,AC,xC,Gi]),Rr(512,qi,qi,[[2,Vi]]),Rr(131584,Dl,Dl,[pl,$i,Re,Xt,on,qi]),Rr(1073742336,Xl,Xl,[Dl]),Rr(1073742336,ed,ed,[[3,ed]]),Rr(1073742336,MS,MS,[]),Rr(1024,Ff,Hf,[[3,kf]]),Rr(512,zd,Hd,[]),Rr(512,xf,xf,[]),Rr(256,Lf,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled"},[]),Rr(1024,su,zf,[lu,[2,uu],Lf]),Rr(512,au,au,[su,lu]),Rr(512,nl,nl,[]),Rr(512,Ml,Vl,[nl,[2,jl]]),Rr(1024,gf,(function(){return[[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",pathMatch:"full",component:og},{path:"quiz",component:Sm},{path:"learn",component:Rm},{path:"dictionary",component:_v,outlet:"modal"},{path:"syllables/overview",component:Sv},{path:"word-quiz",redirectTo:"word-quiz/hiragana"},{path:"word-quiz/:type",component:Qv},{path:"word-grid/:type",component:Py},{path:"word-list",component:Qm},{path:"about",component:jy},{path:"numbers",component:Hy,canActivate:[rA]},{path:"user",component:$y},{path:"user/decks",component:r_},{path:"user/decks/new",component:a_,canActivate:[rA]},{path:"user/decks/edit/:uid",component:a_,canActivate:[rA]},{path:"user/decks/:uid",pathMatch:"full",redirectTo:"/user/decks/:uid/list"},{path:"user/decks/:uid/:mode",component:gb,canActivate:[rA]},{path:"user/decks/:deck_uid/cards/:card_uid/edit",component:Db,canActivate:[rA]},{path:"decks",component:zb},{path:"decks/new",component:tw,canActivate:[rA]},{path:"decks/edit/:uid",component:tw,canActivate:[rA]},{path:"decks/:uid",redirectTo:"decks/:uid/list"},{path:"decks/:uid/:mode",component:sw},{path:"cards/new",component:Mw,outlet:"modal"},{path:"cards/new/:deckuid",component:Mw,outlet:"modal"},{path:"cards/edit/:uid",component:Mw,outlet:"modal"},{path:"card/:card",component:xk,outlet:"modal"}]]}),[]),Rr(1024,kf,Wf,[Dl,zd,xf,au,Re,Ml,nl,gf,Lf,[2,vf],[2,pf]]),Rr(1073742336,Vf,Vf,[[2,Ff],[2,kf]]),Rr(1073742336,OC,OC,[]),Rr(1073742336,Qa,Qa,[Gi]),Rr(1073742336,FS,FS,[]),Rr(1073742336,Mx,Mx,[]),Rr(1073742336,Lx,Lx,[]),Rr(1073742336,tA,tA,[]),Rr(1073742336,Zb,Zb,[]),Rr(1073742336,xs,xs,[]),Rr(256,Oe,!0,[]),Rr(256,RS,"BrowserAnimations",[]),Rr(256,za,{apiKey:"AIzaSyDDqoCe1KVK-UBZoJrBHm8xQoQD4HtYug8",authDomain:"vokabeldojo.firebaseapp.com",databaseURL:"https://vokabeldojo.firebaseio.com",projectId:"vokabeldojo",storageBucket:"vokabeldojo.appspot.com",messagingSenderId:"818974977616"},[]),Rr(256,Ha,"Vokabeldojo",[]),Rr(256,Ya,!0,[]),Rr(256,Za,void 0,[])])}));Xh().bootstrapModuleFactory(iA).then(t=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=t}).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var l=t[i],o=i+1<t.length,s=o?t[i+1]:0,u=i+2<t.length,a=u?t[i+2]:0,c=(15&s)<<2|a>>6,h=63&a;u||(h=64,o||(c=64)),r.push(n[l>>2],n[(3&l)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var l=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&l)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(l=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{l=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&l)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var l=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==l||null==o||null==s||null==u)throw Error();r.push(l<<2|o>>4),64!==s&&(r.push(o<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,l=this.errors[t],o=l?m(l,r):"Error",s=this.serviceName+": "+o+" ("+i+").",u=new f(i,s),a=0,c=Object.keys(r);a<c.length;a++){var h=c[a];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function m(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var l=t.split(".");e=y(a(l[0])||""),n=y(a(l[1])||""),i=l[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,l,o=this.chain_[0],s=this.chain_[1],u=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=a^s&(u^a),l=1518500249):(i=s^u^a,l=1859775393):r<60?(i=s&u|a&(s|u),l=2400959708):(i=s^u^a,l=3395469782);var h=(o<<5|o>>>27)+i+c+l+n[r]&4294967295;c=a,a=u,u=4294967295&(s<<30|s>>>2),s=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,l=this.inbuf_;r<e;){if(0===l)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[l]=t.charCodeAt(r),++r,++l===this.blockSize){this.compress_(i),l=0;break}}else for(;r<e;)if(i[l]=t[r],++r,++l===this.blockSize){this.compress_(i),l=0;break}}this.inbuf_=l,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),l},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=f,e.Sha1=b,e.assert=l,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=a,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=C,e.getUA=d,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var l=i[r];n(l[0],l[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;l(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zk60:function(t,e,n){var r=n("2oRo"),i=n("kRJp");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}}},[[0,0]]]);