<button class="submenu no-print" [class.open]="showSubmenu" [class.closed-menu]="!showSubmenu"
  (click)="showSubmenu ? showSubmenu = false : showSubmenu = true" title="Einstellungen Lernmodus">✍︎</button>
<div class="menu" *ngIf="showSubmenu">
  <ng-container *ngIf="deck">
    <span class="label">{{ deck.name }}</span>
    <p>{{ deck.description }}</p>
  </ng-container>
  <span class="label">Lernmodus</span>
  <a routerLinkActive="active" routerLink="/decks/{{deck.uid}}/quiz">Vokabelquiz</a>
  <a routerLinkActive="active" routerLink="/decks/{{deck.uid}}/grid">Buchstabieren</a>
  <a routerLinkActive="active" routerLink="/decks/{{deck.uid}}/learn">Wiederholen</a>
  <a routerLinkActive="active" routerLink="/decks/{{deck.uid}}/list">Liste</a>
  <span class="label">Deck</span>
  <ng-container *ngIf="auth.user | async as user">
    <ng-container *ngIf="user.role == 'admin'">
      <a routerLinkActive=" active" routerLink="/decks/edit/{{deck.uid}}">Bearbeiten</a>
      <a routerLinkActive="active" routerLink="/decks/new">Deck anlegen</a>
      <span class="label">Karten</span>
      <a [routerLink]="['', { outlets: { modal: ['cards', 'new'] } }]" *ngIf="deck">Neue Karte</a>
    </ng-container>
  </ng-container>
</div>
<div class="content">
  <ng-container *ngIf="mode == 'list' && deck">
    <h1>{{ deck.name }}</h1>
    <p *ngIf="deck.description">{{ deck.description }}
    </p>
    <p>
      <button class="button no-print" (click)="addToCollection()" *ngIf="auth.user | async">+ Zu meinen Decks
        hinzufügen</button>
    </p>
  </ng-container>
  <ng-container *ngIf="cards.length > 0">
    <app-word-list [cards]="cards" [allowEdit]="allowEdit" *ngIf="mode === 'list'"></app-word-list>
    <app-word-quiz [deck]="cards" *ngIf="mode === 'quiz'"></app-word-quiz>
    <app-word-grid [deck]="cards" *ngIf="mode === 'grid'"></app-word-grid>
    <app-word-learn [_cards]="cards" *ngIf="mode === 'learn'"></app-word-learn>
  </ng-container>
  <ng-container *ngIf="oldCards.length">
    <h2>Legacy</h2>
    <app-word-list [cards]="oldCards" [allowEdit]="allowEdit" *ngIf="mode === 'list'"></app-word-list>
  </ng-container>
</div>